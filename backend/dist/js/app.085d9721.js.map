{"version":3,"file":"js/app.085d9721.js","mappings":"qFACOA,GAAG,O,0EAARC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAeC,I,CAKnB,OACEC,KAAM,O,UCDR,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,Q,qDCROC,MAAM,gC,GACJA,MAAM,gE,GAyBPA,MAAM,0C,SACNA,MAAM,sG,GAILA,MAAM,sD,GAeAA,MAAM,I,GAELA,MAAM,+C,GACNA,MAAM,iD,GACNA,MAAM,iD,GASNA,MAAM,iD,GACNA,MAAM,iD,GACNA,MAAM,iD,GACNA,MAAM,iD,iBAMNA,MAAM,iD,iBAuBdA,MAAM,uH,GACDA,MAAM,W,mBAkBNA,MAAM,Q,GACJA,MAAM,uD,GAIFA,MAAM,gD,GAKFA,MAAM,iB,SAG8BA,MAAM,sD,GAe5CA,MAAM,Q,GAuFRA,MAAM,oB,uBAgBAA,MAAM,wD,wBAoBXA,MAAM,sF,GACHA,MAAM,iB,GAeRA,MAAM,mC,qDAsCRA,MAAM,oB,GAQHA,MAAM,Q,wBAgBVA,MAAM,qF,GAQZA,MAAM,sK,GACDA,MAAM,W,0KA5VrBP,EAAAA,EAAAA,IAsWM,MAtWNC,EAsWM,EArWJO,EAAAA,EAAAA,IAuBM,MAvBNC,EAuBM,gBAtBJD,EAAAA,EAAAA,IAIM,aAHJA,EAAAA,EAAAA,IAA+D,MAA3DD,MAAM,iCAAgC,qBAE1CC,EAAAA,EAAAA,IAAoF,KAAjFD,MAAM,wBAAuB,sDAAgD,KAGlFC,EAAAA,EAAAA,IAeM,aAVJA,EAAAA,EAAAA,IAQS,UAPPD,MAAM,8LACLG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,WAAY,I,gBACpBN,EAAAA,EAAAA,IAGM,OAHDD,MAAM,eAAeQ,KAAK,OAAOC,OAAO,eAAe,eAAa,IAAIC,QAAQ,YACnFC,MAAM,8B,EACNV,EAAAA,EAAAA,IAA+E,QAAzE,iBAAe,QAAQ,kBAAgB,QAAQW,EAAE,qB,YACnD,0BAOZX,EAAAA,EAAAA,IAEK,KAFLY,EAEK,gBAF8CZ,EAAAA,EAAAA,IAAoB,SAAjB,iBAAa,IAAgBK,EAAAQ,SAAM,WAAlBrB,EAAAA,EAAAA,IAC+C,OAD/CsB,KAC+C,kBAItHd,EAAAA,EAAAA,IAmDM,MAnDNe,EAmDM,EAlDJf,EAAAA,EAAAA,IAiDQ,SAjDDD,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,yEAAwE,kCACvCX,EAAAY,iB,gBAC5CjB,EAAAA,EAAAA,IAWQ,eAVNA,EAAAA,EAAAA,IASK,MATDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAA+F,MAA3FD,MAAM,6EAA4E,SACtFC,EAAAA,EAAAA,IAAyF,MAArFD,MAAM,mEAAkE,aAC5EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,mEAAkE,WAC5EC,EAAAA,EAAAA,IAAyF,MAArFD,MAAM,mEAAkE,aAC5EC,EAAAA,EAAAA,IAA6F,MAAzFD,MAAM,mEAAkE,iBAC5EC,EAAAA,EAAAA,IAAmF,MAA/ED,MAAM,mEAAkE,OAC5EC,EAAAA,EAAAA,IAAwF,MAApFD,MAAM,mEAAkE,YAC5EC,EAAAA,EAAAA,IAAwF,MAApFD,MAAM,mEAAkE,eAAO,KAGvFC,EAAAA,EAAAA,IAkCQ,QAlCRkB,EAkCQ,gBAjCN1B,EAAAA,EAAAA,IAgCK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhCkBf,EAAAgB,WAAZC,K,WAAX9B,EAAAA,EAAAA,IAgCK,MAhC8B+B,IAAKD,EAAS/B,GAAIQ,MAAM,oB,EACzDC,EAAAA,EAAAA,IAAgF,KAAhFwB,GAAgFC,EAAAA,EAAAA,IAArBH,EAAS1B,MAAI,IACxEI,EAAAA,EAAAA,IAAsF,KAAtF0B,GAAsFD,EAAAA,EAAAA,IAAzBH,EAASK,UAAQ,IAC9E3B,EAAAA,EAAAA,IAQK,KARL4B,EAQK,EAPH5B,EAAAA,EAAAA,IAMM,OANAD,OAAKiB,EAAAA,EAAAA,IAAA,C,kDAAuF,aAAfM,EAASO,O,iDAAyG,YAAfP,EAASO,O,gDAAuG,aAAfP,EAASO,W,QAK3RP,EAASO,QAAM,MAGtB7B,EAAAA,EAAAA,IAAsF,KAAtF8B,GAAsFL,EAAAA,EAAAA,IAAzBH,EAASS,UAAQ,IAC9E/B,EAAAA,EAAAA,IAA0F,KAA1FgC,GAA0FP,EAAAA,EAAAA,IAA7BH,EAASW,cAAY,IAClFjC,EAAAA,EAAAA,IAAgF,KAAhFkC,GAAgFT,EAAAA,EAAAA,IAAnBH,EAAS/B,IAAE,IACxES,EAAAA,EAAAA,IAKK,KALLmC,EAKK,EAJHnC,EAAAA,EAAAA,IAGS,UAHDD,MAAM,2EACXG,QAAKE,GAAEgC,EAAAC,YAAYf,EAASgB,UAAU,YAEzC,EAAAC,MAEFvC,EAAAA,EAAAA,IAMK,KANLwC,EAMK,EALHxC,EAAAA,EAAAA,IAIS,UAJAE,QAAKE,GAAEgC,EAAAK,sBAAsBnB,EAAS1B,MAAOG,MAAM,8C,EAC1DL,EAAAA,EAAAA,IAEYgD,EAAA,CAFDC,IAAI,yCAAyCC,QAAQ,QAC9DC,OAAO,oCAAoCC,MAAA,gC,0BAe/BzC,EAAA0C,mBAAgB,WAA1CC,EAAAA,EAAAA,IAAyJC,EAAA,C,MAA5GC,MAAG/C,EAAA,KAAAA,EAAA,GAAAC,GAAEgC,EAAAe,eAAe9C,EAAA+C,qBAAsBC,KAAElD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA0C,kBAAmB,GAAQO,QAAKnD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA0C,kBAAmB,O,eAE3H1C,EAAAkD,cAAW,WAAhCP,EAAAA,EAAAA,IASgBQ,EAAA,C,MATmBF,QAAOlB,EAAAqB,c,mBAExC,IAKM,EALNzD,EAAAA,EAAAA,IAKM,MALN0D,EAKM,EAHJ1D,EAAAA,EAAAA,IAEM,MAFN2D,EAEM,EADJ3D,EAAAA,EAAAA,IAAkE,QAA5D8C,MAAA,2BAA+Bc,UAAQvD,EAAAwD,c,sDAMtCxD,EAAAC,YAAS,WAAtB0C,EAAAA,EAAAA,IAgQQc,EAAA,C,MAhQiBR,QAAOlB,EAAA2B,WAC9BhE,MAAM,0F,mBAGN,IAAkF,gBAAlFC,EAAAA,EAAAA,IAAkF,MAA9ED,MAAM,6CAA4C,2BAAuB,mBAE7EC,EAAAA,EAAAA,IAAiB,MAAbD,MAAM,QAAM,WAGhBC,EAAAA,EAAAA,IAqPM,aAnPJA,EAAAA,EAAAA,IAkPM,MAlPNgE,EAkPM,EAjPJhE,EAAAA,EAAAA,IAyOM,MAzONiE,EAyOM,EAxOJjE,EAAAA,EAAAA,IAuOO,QAvODD,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,MAAK,kCAA6CX,EAAA6D,gB,gBAC5DlE,EAAAA,EAAAA,IAAiE,MAA7DD,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAAiC,SAA9B,gCAA0B,mBACxDA,EAAAA,EAAAA,IAAqD,KAAlDD,MAAM,gBAAgB,4BAAwB,KACjDC,EAAAA,EAAAA,IAsGM,MAtGNmE,EAsGM,EArGJnE,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IAEQ,SAFDD,MAAM,yDAAuD,UAAC,mBACnEC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,KAE9BC,EAAAA,EAAAA,IAKM,MALNoE,EAKM,WAJJpE,EAAAA,EAAAA,IACyG,S,qCADzFK,EAAAiB,SAAS1B,KAAIQ,GAAGiE,YAAa,gBAC1CC,OAAInE,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAoC,sBAAApC,EAAAoC,wBAAAD,IAAsBxE,MAAM,yDAAyD0E,SAAA,I,iBAD9EpE,EAAAiB,SAAS1B,QAEGS,EAAAqE,YAAS,WAArBlF,EAAAA,EAAAA,IACQ,OADRmF,GACQlD,EAAAA,EAAAA,IAAnBpB,EAAAqE,WAAS,yBAIlB1E,EAAAA,EAAAA,IAOM,2BANJA,EAAAA,EAAAA,IAA4F,SAArFD,MAAM,6BAA2B,UAAC,aAAQC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAC7EC,EAAAA,EAAAA,IAIS,U,qCAJQK,EAAAuE,iBAAgBxE,GAAEL,MAAM,yDACvC0E,SAAA,I,gBACAzE,EAAAA,EAAAA,IAA4C,UAApC6E,MAAM,aAAY,aAAS,IACnC7E,EAAAA,EAAAA,IAAwC,UAAhC6E,MAAM,WAAU,WAAO,iBAHhBxE,EAAAuE,uBAQnB5E,EAAAA,EAAAA,IA6EM,MA7EN8E,EA6EM,gBA5EJ9E,EAAAA,EAAAA,IAA4F,SAArFD,MAAM,6BAA2B,UAAC,aAAQC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAC7EC,EAAAA,EAAAA,IA0ES,U,qCA1EQK,EAAA0E,iBAAgB3E,GAAEL,MAAM,yDACvC0E,SAAA,I,gBACAzE,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAuC,UAA/B6E,MAAM,MAAK,eAAW,IAC9B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAmD,UAA3C6E,MAAM,SAAQ,wBAAoB,IAC1C7E,EAAAA,EAAAA,IAAkD,UAA1C6E,MAAM,SAAQ,uBAAmB,IACzC7E,EAAAA,EAAAA,IAA+C,UAAvC6E,MAAM,SAAQ,oBAAgB,IACtC7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAA2C,UAAnC6E,MAAM,SAAQ,gBAAY,IAClC7E,EAAAA,EAAAA,IAAmD,UAA3C6E,MAAM,QAAQG,QAAA,IAAQ,gBAAY,IAC1ChF,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,OAAM,YAAQ,IAC5B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAsC,UAA9B6E,MAAM,MAAK,cAAU,IAC7B7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAA0C,UAAlC6E,MAAM,SAAQ,eAAW,IACjC7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAkD,UAA1C6E,MAAM,SAAQ,uBAAmB,IACzC7E,EAAAA,EAAAA,IAA+B,UAAvB6E,MAAM,MAAK,OAAG,IACtB7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAsC,UAA9B6E,MAAM,MAAK,cAAU,IAC7B7E,EAAAA,EAAAA,IAAsC,UAA9B6E,MAAM,MAAK,cAAU,IAC7B7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAkD,UAA1C6E,MAAM,SAAQ,uBAAmB,IACzC7E,EAAAA,EAAAA,IAAoD,UAA5C6E,MAAM,SAAQ,yBAAqB,IAC3C7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,MAAK,YAAQ,IAC3B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAkD,UAA1C6E,MAAM,SAAQ,uBAAmB,IACzC7E,EAAAA,EAAAA,IAA8C,UAAtC6E,MAAM,SAAQ,mBAAe,IACrC7E,EAAAA,EAAAA,IAA+C,UAAvC6E,MAAM,SAAQ,oBAAgB,IACtC7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,MAAK,UAAM,IACzB7E,EAAAA,EAAAA,IAAgC,UAAxB6E,MAAM,MAAK,QAAI,IACvB7E,EAAAA,EAAAA,IAAmC,UAA3B6E,MAAM,MAAK,WAAO,IAC1B7E,EAAAA,EAAAA,IAAqC,UAA7B6E,MAAM,MAAK,aAAS,IAC5B7E,EAAAA,EAAAA,IAAgC,UAAxB6E,MAAM,MAAK,QAAI,IACvB7E,EAAAA,EAAAA,IAAiC,UAAzB6E,MAAM,MAAK,SAAK,IACxB7E,EAAAA,EAAAA,IAAsC,UAA9B6E,MAAM,MAAK,cAAU,IAC7B7E,EAAAA,EAAAA,IAAgC,UAAxB6E,MAAM,MAAK,QAAI,iBAxERxE,EAAA0E,wBAAgB,eAkFrC/E,EAAAA,EAAAA,IAA8C,MAA1CD,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAAc,SAAX,aAAO,mBACrCA,EAAAA,EAAAA,IAA2F,KAAxFD,MAAM,gBAAgB,kEAA8D,KAEvFC,EAAAA,EAAAA,IAsFM,MAtFNiF,EAsFM,EApFJjF,EAAAA,EAAAA,IAyBM,2BAxBJA,EAAAA,EAAAA,IAAuD,SAAhDD,MAAM,6BAA4B,UAAM,cAC/CC,EAAAA,EAAAA,IAKS,U,qCALQK,EAAA6E,qBAAqBC,OAAM/E,GAAEL,MAAM,mD,gBAClDC,EAAAA,EAAAA,IAAkC,UAA1B6E,MAAM,QAAO,QAAI,IACzB7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,SAAQ,SAAK,IAC3B7E,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,SAAQ,SAAK,iBAHZxE,EAAA6E,qBAAqBC,UAOK,SAAhC9E,EAAA6E,qBAAqBC,SAAM,WAAtC3F,EAAAA,EAAAA,IAEM,MAAA4F,EAAA,WADJpF,EAAAA,EAAAA,IAAgG,S,qCAAhFK,EAAAgF,gBAAgBC,KAAIlF,GAAEL,MAAM,mD,iBAA5BM,EAAAgF,gBAAgBC,YAAI,eAGK,UAAhCjF,EAAA6E,qBAAqBC,QAAsD,UAAhC9E,EAAA6E,qBAAqBC,SAAM,WAAjF3F,EAAAA,EAAAA,IAWM,MAAA+F,EAAA,EAVJvF,EAAAA,EAAAA,IASM,MATNwF,EASM,EARJxF,EAAAA,EAAAA,IAA2D,SAApDyF,KAAK,OAAQC,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAuD,kBAAAvD,EAAAuD,oBAAApB,IAAkBxE,MAAM,Q,UAEpDC,EAAAA,EAAAA,IAKM,aAJJA,EAAAA,EAAAA,IAGS,UAHAE,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAwD,YAAAxD,EAAAwD,cAAArB,IAAasB,UAAWxF,EAAAyF,cAAgBzF,EAAA0F,YACtDhG,MAAM,qG,QACHM,EAAA0F,YAAc,eAAiB,WAApBtE,EAAAA,EAAAA,IAAkCpB,EAAA2F,eAAiB,KAAO,IAAV,EAAAC,WAAA,kBAOxEjG,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IAAwF,SAAjFD,MAAM,6BAA2B,UAAC,SAAIC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAEzEC,EAAAA,EAAAA,IACwD,Y,uCADrCK,EAAA6F,cAAcZ,KAAIlF,GAAEL,MAAM,yDAC3CsE,YAAY,aAAa8B,KAAK,IAAI1B,SAAA,I,iBADjBpE,EAAA6F,cAAcZ,QAGtBjF,EAAA+F,cAAW,WAAtB5G,EAAAA,EAAAA,IAGM,MAHN6G,EAGM,EADJrG,EAAAA,EAAAA,IAAsD,IAAtDsG,EAAyB,YAAQ7E,EAAAA,EAAAA,IAAGpB,EAAA+F,aAAW,yBAenDpG,EAAAA,EAAAA,IAIM,MAJNuG,EAIM,EAHJvG,EAAAA,EAAAA,IAES,UAFDyF,KAAK,SAAUvF,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAoE,aAAApE,EAAAoE,eAAAjC,IAAaxE,MAAM,sDAAqD,sBAe7FM,EAAAoG,UAAUC,SAAM,WAA3BlH,EAAAA,EAAAA,IAUM,MAAAmH,EAAA,gBARJ3G,EAAAA,EAAAA,IAAS,mCACTA,EAAAA,EAAAA,IAA4G,SAArGD,MAAM,6BAA2B,UAAC,6BAAwBC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,mBAC7FC,EAAAA,EAAAA,IAA8S,QAAxSD,MAAM,yBAAwB,uQAAmQ,mBAEvSP,EAAAA,EAAAA,IAGM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAH2Bf,EAAAoG,WAAS,CAA7BG,EAAUC,M,WAAvBrH,EAAAA,EAAAA,IAGM,OAHuC+B,IAAKsF,GAAK,WACrD7G,EAAAA,EAAAA,IACqE,SAD9DyF,KAAK,OAAQpB,YAAW,aAAiBwC,EAAQ,G,yBAAaxG,EAAAoG,UAAUI,GAAKzG,EAClFL,MAAM,kDAAkD0E,SAAA,I,iBADWpE,EAAAoG,UAAUI,W,wCAMnF7G,EAAAA,EAAAA,IAAuD,SAAhDD,MAAM,6BAA4B,UAAM,cAC/CC,EAAAA,EAAAA,IAC4D,S,uCAD5CK,EAAAyG,gBAAgBxB,KAAIlF,GAAEiE,YAAY,aAChDtE,MAAM,mD,iBADQM,EAAAyG,gBAAgBxB,UAAI,eAMtCtF,EAAAA,EAAAA,IAAmD,MAA/CD,MAAM,uBAAqB,EAACC,EAAAA,EAAAA,IAAc,SAAX,aAAO,mBAC1CA,EAAAA,EAAAA,IAAsG,KAAnGD,MAAM,gBAAgB,6EAAyE,KAClGC,EAAAA,EAAAA,IAeM,MAfN+G,EAeM,EAdF/G,EAAAA,EAAAA,IAKK,cAJLA,EAAAA,EAAAA,IAGS,UAHDD,MAAM,kEACXG,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAA6E,WAAA7E,EAAA6E,aAAA1C,IAAS,eAAE,qBAK9BvE,EAAAA,EAAAA,IAKM,MALNkH,EAKM,CAJwB7G,EAAA8G,WAAqC,iBAAxB9G,EAAA+G,qBAAmB,qBAA7C5H,EAAAA,EAAAA,IAC6D,S,6CADca,EAAAgH,OAAO/B,KAAIlF,GACtGiE,YAAY,OAAOtE,MAAM,mD,kBADkEM,EAAAgH,OAAO/B,SAAI,eAE3FjF,EAAA8G,WAAqC,iBAAxB9G,EAAA+G,qBAAmB,qBAA7C5H,EAAAA,EAAAA,IAC8E,S,6CADHa,EAAAgH,OAAOC,IAAGlH,GACnFiE,YAAY,MAAMtE,MAAM,mD,kBADiDM,EAAAgH,OAAOC,QAAG,oBASvFtH,EAAAA,EAAAA,IAMS,UANAE,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAmF,gBAAAnF,EAAAmF,kBAAAhD,IAAc,cACpCxE,MAAM,2GACL8F,SAAUxF,EAAAmH,SAAWnH,EAAA6D,a,CACV7D,EAAAmH,UAAO,WAAnBhI,EAAAA,EAAAA,IACmG,OADnGiI,KACmG,6BACnGhG,EAAAA,EAAAA,IAAGpB,EAAA6D,YAAc,YAAc7D,EAAAmH,QAAU,gBAAkB,UAArB,gBAM5CxH,EAAAA,EAAAA,IAKM,MALN0H,EAKM,EAHJ1H,EAAAA,EAAAA,IAEM,MAFN2H,EAEM,EADJ3H,EAAAA,EAAAA,IAAkE,QAA5D8C,MAAA,2BAA+Bc,UAAQvD,EAAAwD,c,yLC7VlD9D,MAAM,2G,IACJA,MAAM,iE,IACJA,MAAM,Q,2CAFfP,EAAAA,EAAAA,IAQM,MARNC,GAQM,EAPJO,EAAAA,EAAAA,IAMM,MANNC,GAMM,EALJD,EAAAA,EAAAA,IAEM,MAFNY,GAEM,EADJZ,EAAAA,EAAAA,IAAgE,QAA1DD,MAAM,QAASG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,UAAUC,MAAA,IAAM,QAGpDC,EAAAA,EAAAA,IAAOH,EAAAI,OAAA,kBAAAC,GAAA,M,CAMb,QACErI,KAAM,SCPV,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,qBCNSG,MAAM,qE,IAIJA,MAAM,8C,2CANfP,EAAAA,EAAAA,IAUM,OAVDO,MAAM,sFACVG,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA5G,GAAOwH,EAAAC,MAAM,UAAD,Y,EAChB7H,EAAAA,EAAAA,IAOM,MAPNP,GAOM,cANJO,EAAAA,EAAAA,IAEM,OAFDD,MAAM,qCAAmC,WAG9CC,EAAAA,EAAAA,IAEM,MAFNC,GAEM,EADJ8H,EAAAA,EAAAA,IAAQH,EAAAI,OAAA,kBAAAC,GAAA,Q,CAOhB,QACErI,KAAM,iBCTR,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCPOG,MAAM,2G,IACJA,MAAM,oD,IACFA,MAAM,Q,IAWRA,MAAM,0B,2CAbfP,EAAAA,EAAAA,IA4BM,MA5BNC,GA4BM,EA3BJO,EAAAA,EAAAA,IA0BM,MA1BNC,GA0BM,EAzBFD,EAAAA,EAAAA,IAGM,MAHNY,GAGM,EAFFZ,EAAAA,EAAAA,IAAgE,QAA1DD,MAAM,QAASG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,UAAUC,MAAA,IAAM,OAAO,aAK/D9H,EAAAA,EAAAA,IAEM,OAFDD,MAAM,0CAAyC,uCAEpD,KAGAC,EAAAA,EAAAA,IAaM,MAbNc,GAaM,EAZJd,EAAAA,EAAAA,IAKS,UAJPD,MAAM,gEACLG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,QACf,SAGD7H,EAAAA,EAAAA,IAKS,UAJPD,MAAM,6DACLG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,SACf,c,CAUT,QACEjI,KAAM,qBC7BR,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UN6WA,IACEsI,WAAY,CAGVC,cAAa,GACbC,kBAAiB,GACjBC,MAAKA,IAEPzI,KAAM,aACN0I,MAAO,CACLC,cAAe,CACb9C,KAAM+C,OACN/D,UAAU,IAGdgE,IAAAA,GACE,MAAO,CAEL5H,QAAQ,EACR6H,OAAQC,wBACR7C,aAAc,KACdC,aAAa,EACbC,eAAgB,KAChB4C,YAAa,KACbC,eAAgB,KAChBzF,mBAAoB,GACpBL,kBAAkB,EAGlByE,SAAS,EACTtD,aAAa,EACbjD,cAAc,EAEdsC,aAAa,EACbM,aAAc,GACdiF,gBAAgB,EAChBC,cAAe,CACbC,IAAK,MACLC,KAAM,MACNC,MAAO,QACPC,OAAQ,SAEVC,aAAc,GACdC,qBAAqB,EACrBhI,UAAW,GACXf,WAAW,EACX6G,WAAW,EACXmC,oBAAoB,EACpB1E,iBAAkB,YAClBwC,oBAAqB,GACrBrC,iBAAkB,QAClBwE,qBAAsB,OACtBjI,SAAU,CACR1B,KAAM,GACNsI,WAAY,IAEdhC,cAAe,CACbT,KAAM,OACNH,KAAM,IAERD,gBAAiB,CACfI,KAAM,SACNN,OAAQ,OACRG,KAAM,IAERJ,qBAAsB,CACpBO,KAAM,SACNN,OAAQ,GACRqE,QAAS,CACPC,cAAe,CACb,MAIN3C,gBAAiB,CACfrB,KAAM,SACNH,KAAM,IAER+B,OAAQ,CACN5B,KAAM,MACNH,KAAM,GACNgC,IAAK,IAEP5C,UAAW,GAEXgF,gBAAiB,KACjBjD,UAAW,GACXL,YAAa,KAEjB,EAIA,aAAMuD,SACEC,KAAKC,oBAIX,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,uCACboH,SAASE,KAAKC,YAAYJ,EAC5B,EAEAK,QAAS,CAEL,2BAAM1H,CAAsB2G,GAC9BQ,KAAK7G,kBAAmB,EACxB6G,KAAKxG,mBAAqBgG,CAE5B,EAEE5C,WAAAA,GAME,MAAMlB,EAAOsE,KAAK1D,cAAcZ,MAAQ,GAGlC8E,EAAmB9E,EAAK+E,MAAM,aAAe,GAQ7CC,EAAqBF,EAAiB1D,OAAS,EACrDkD,KAAK1D,cAAcZ,MAAQ,MAAMgF,MAGjCV,KAAKF,gBAAkBY,EAGvB,MAAOV,KAAKnD,UAAUC,OAAS4D,EAC7BV,KAAKnD,UAAU8D,KAAK,IAGtBC,QAAQC,IAAI,4BAA6Bb,KAAKF,iBAC9Cc,QAAQC,IAAI,qBAAsBb,KAAKnD,UACzC,EAuDApE,WAAAA,CAAYC,GACVsH,KAAKrG,aAAc,EACnBqG,KAAK/F,aAAevB,CAEtB,EACA2E,SAAAA,GACE2C,KAAKzC,WAAayC,KAAKzC,SACzB,EAEAuD,SAAAA,GACEd,KAAKtJ,WAAY,EACjBsJ,KAAKe,aAAe,WACtB,EAGA,uBAAMd,GACJ,MAAMe,EAAQC,aAAaC,QAAQ,SACnClB,KAAK/I,QAAS,EACd,IACE,MAAMkK,QAAiBC,MAAM,GAAGpB,KAAKlB,kBAAmB,CACtDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAqBN,EAASO,OACpC1B,KAAKvI,UAAYgK,EAAa5C,KAC9BmB,KAAK/I,QAAS,EAGd+I,KAAKvI,UAAYuI,KAAKvI,UAAUkK,KAAIjK,IAC3B,IACFA,EACHgB,QAASsH,KAAK4B,wBAAwBlK,EAAS4G,eAGrD,CAAE,MAAOuD,GACPjB,QAAQiB,MAAM,6CAA8CA,EAC9D,CACF,EAGAD,uBAAAA,CAAwBtD,GAEtB,IAAKwD,MAAMC,QAAQzD,GAEjB,OADAsC,QAAQoB,KAAK,sDAAuD1D,GAC7D,GAET,IAAI2D,EAAiB,GAmFrB,OAjFA3D,EAAW4D,MAAK,CAACC,EAAGC,KAClB,MAAMC,EAAQ,CAAEC,OAAQ,EAAGC,KAAM,EAAGC,OAAQ,EAAGC,QAAS,GACxD,OAAQJ,EAAMF,EAAEtG,OAAS,IAAMwG,EAAMD,EAAEvG,OAAS,MAKlDyC,EAAWoE,SAAQC,IACjB,OAAQA,EAAU9G,MAChB,IAAK,SACsB,SAArB8G,EAAUpH,OACZ0G,GAAkB,WAAWU,EAAUjH,mBACT,UAArBiH,EAAUpH,QAAsBoH,EAAU/C,SAASC,cAC5DoC,GAAkB,mHAClBU,EAAU/C,QAAQC,cAAc,qKAMJ,UAArB8C,EAAUpH,QAAsBoH,EAAU/C,SAASC,gBAC1DoC,GAAkB,kKAELU,EAAU/C,QAAQC,cAAc,+PAM/C,MAEF,IAAK,OAAQ,CACX,IAAI+C,EAAWD,EAAUjH,KAEzBkH,EAAW5C,KAAK6C,oBAAoBD,EAAUD,EAAU/C,SAASkD,WACjEb,GAAkBW,EAElB,KACF,CACA,IAAK,SACHX,GAAkB,qDAAqDU,EAAUjH,eACjF,MAEF,IAAK,UACCiH,EAAUI,SAAWjB,MAAMC,QAAQY,EAAUI,WAC/Cd,GAAkB,mCAClBU,EAAUI,QAAQL,SAAQjF,IACJ,QAAhBA,EAAO5B,KACToG,GAAkB,wBACfxE,EAAOC,ynBAQYD,EAAO/B,4CAGJ,UAAhB+B,EAAO5B,OAChBoG,GAAkB,6QAItBxE,EAAO/B,gCAIPuG,GAAkB,UAEpB,MAGF,QACEA,GAAkB,4BAClB,UAKCA,CACT,EAMAY,mBAAAA,CAAoBD,EAAUhD,GAC5B,OAAKgD,GAAad,MAAMC,QAAQnC,IAA+B,IAAnBA,EAAQ9C,QAEpD8C,EAAQ8C,SAAQ,CAACM,EAAO/F,KACtB,GAAI+F,GAAqC,KAA5BA,EAAMC,WAAWC,OAAe,CAC3C,MAAMzI,EAAc,GAAGwC,EAAQ,IACzBkG,EAAQ,IAAIC,OAAO3I,EAAa,KACtCmI,EAAWA,EAASS,QAAQF,EAAOH,EAAMC,WAAWC,OACtD,KAGKN,GAVkEA,CAW3E,EAOAU,wBAAAA,GAGE,MAAMC,EAAsB,IAAKvD,KAAK1D,eAElC0D,KAAKnD,UAAUC,OAAS,IAC1ByG,EAAoB3D,QAAU,CAAEkD,UAAW9C,KAAKnD,YAGlD,IAAIyB,EAAa,CAACiF,GAEdvD,KAAKvE,gBAAgBC,MACvB4C,EAAWqC,KAAKX,KAAKvE,iBAIrBuE,KAAK1E,qBAAqBsE,QAAQC,eAClCG,KAAK1E,qBAAqBsE,QAAQC,cAAc/C,OAAS,GACF,KAAvDkD,KAAK1E,qBAAqBsE,QAAQC,cAAc,IAEhDvB,EAAWqC,KAAKX,KAAK1E,sBAGnB0E,KAAK9C,gBAAgBxB,MACvB4C,EAAWqC,KAAKX,KAAK9C,iBAGnB8C,KAAKvC,OAAO/B,MAAQsE,KAAKvC,OAAOC,KAClCY,EAAWqC,KAAK,CACd9E,KAAM,UACNkH,QAAS,CAAC/C,KAAKvC,UAInBuC,KAAKtI,SAAS4G,WAAaA,EAC3BsC,QAAQC,IAAIb,KAAKtI,SACnB,EAEA,oBAAMiG,GACJ,MAAM6F,GAAQC,EAAAA,GAAAA,MACd,GAAIzD,KAAKlF,UACP,OAGFkF,KAAKpC,SAAU,EAEf,MAAM8F,EAAU,CACd1N,KAAMgK,KAAKtI,SAAS1B,KACpBsI,WAAY0B,KAAKtI,SAAS4G,WAC1BvG,SAAUiI,KAAK7E,iBACfhD,SAAU6H,KAAKhF,iBACf3C,aAAc2H,KAAKxC,qBAGfwD,EAAQC,aAAaC,QAAQ,SAEnC,GAAKF,EAKL,IACE,MAAMG,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,yBAA0B4E,EAAS,CAC3EpC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAIpB,GAAIG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,IAC9C2I,QAAQC,IAAI,iCAAkCM,EAAStC,MACvD2E,EAAMM,QAAQ,iCACd9D,KAAK1F,aAAc,QACb0F,KAAKC,wBAEN,CACL,MAAM8D,EAAe5C,EAAStC,KAAKmF,QAAU,yBAG7CR,EAAM3B,MAAM,4BAA4BkC,KACxCnD,QAAQiB,MAAM,2BAA4BV,EAAStC,KAAKmF,OAC1D,CACF,CAAE,MAAOnC,GAEP,MAAMkC,EAAelC,EAAMV,UAAUtC,MAAMmF,QAAQnC,OAAOoC,gBAAkBpC,EAAMV,UAAUtC,MAAMmF,QAAQnC,OAAOqC,SAAWrC,EAAMqC,QAClIV,EAAM3B,MAAM,mBAAmBkC,KAE/BnD,QAAQiB,MAAM,kBAAmBA,EACnC,SAGE7B,KAAKpC,SAAU,CACjB,MAnCEgD,QAAQiB,MAAM,yCAoClB,EAIJjH,oBAAAA,GAEEoF,KAAKtI,SAAS1B,KAAOgK,KAAKtI,SAAS1B,KAChCmO,cACAd,QAAQ,OAAQ,KAChBH,OAEH,MAAMC,EAAQ,eAEa,KAAvBnD,KAAKtI,SAAS1B,KAChBgK,KAAKlF,UAAY,4BACPqI,EAAMiB,KAAKpE,KAAKtI,SAAS1B,MAGnCgK,KAAKlF,UAAY,GAFjBkF,KAAKlF,UAAY,8EAIrB,EAEI,oBAAMvB,CAAe8K,GACnBrE,KAAK7G,kBAAmB,EAExB,MAAMqK,GAAQC,EAAAA,GAAAA,MACRzC,EAAQC,aAAaC,QAAQ,SAEnC,IACElB,KAAK3I,cAAe,EACpB,MAAM8J,QAAiBC,MAAM,GAAGpB,KAAKlB,0BAA0BuF,IAAiB,CAC9EhD,OAAQ,SACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAKpB,GAAIG,EAASI,GACXiC,EAAMM,QAAQ,uCACR9D,KAAKC,wBAER,CACH,MAAMqE,QAAkBnD,EAASO,OACjC8B,EAAM3B,MAAM,UAAUyC,EAAUN,SAClC,CAGF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,2BAA4BA,EAAMV,SAAWU,EAAMV,SAAStC,KAAOgD,EAAMqC,QACzF,SAEElE,KAAK3I,cAAe,EACpB2I,KAAKxG,mBAAqB,EAC5B,CAEF,EAEAW,UAAAA,GACE6F,KAAKtJ,WAAY,EACjBsJ,KAAKuE,WACP,EAGAA,SAAAA,GACEvE,KAAKwE,SAAU,EACfxE,KAAKtI,SAAS1B,KAAO,GACrBgK,KAAK1F,aAAc,EACnB0F,KAAKF,gBAAkB,KACvBE,KAAKtI,SAAS4G,WAAa,GAC3B0B,KAAK1D,cAAcZ,KAAO,GAC1BsE,KAAKvE,gBAAgBC,KAAO,GAC5BsE,KAAK9C,gBAAgBxB,KAAO,GAC5BsE,KAAKvC,OAAO/B,KAAO,GACnBsE,KAAKvC,OAAOC,IAAM,GAClBsC,KAAKnD,UAAY,GACjBmD,KAAKzC,WAAY,EACjByC,KAAKhF,iBAAmB,YACxBgF,KAAKxC,oBAAsB,GAC3BwC,KAAK7E,iBAAmB,QACxB6E,KAAKlF,UAAY,GACjBkF,KAAKpC,SAAU,EACfoC,KAAK/F,aAAe,EAEtB,EAEAJ,YAAAA,GACEmG,KAAKrG,aAAc,EACnBqG,KAAK/F,aAAe,EACtB,EAEA8B,gBAAAA,CAAiB0I,GACfzE,KAAK9D,aAAeuI,EAAMC,OAAOC,MAAM,EACzC,EACA,gBAAM3I,GACJ,IAAKgE,KAAK9D,aAGR,YAFA8D,KAAKhB,YAAc,gCAKrBgB,KAAK7D,aAAc,EACnB6D,KAAK5D,eAAiB,KACtB4D,KAAKhB,YAAc,KAEnB,MAAM4F,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ9E,KAAK9D,cAE7B,IACE,MAAM8E,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,2BAA4B8F,EAAU,CAC9EtD,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,yBAIpBhB,KAAK5D,eAAiB+E,EAAStC,KAC/BmB,KAAK1E,qBAAqBsE,QAAQC,cAAc,GAAKsB,EAAStC,KAAKkG,iBAAiBC,GAAK,MACzFpE,QAAQC,IAAIb,KAAKf,eACnB,CAAE,MAAO4C,GACP7B,KAAKhB,YAAc6C,EAAMV,SAAWU,EAAMV,SAAStC,KAAKmF,OAAS,eACnE,CAAE,QACAhE,KAAK7D,aAAc,CACrB,CACF,EAEA8I,uBAAAA,CAAwBC,GACtB,MAAMC,EAAeD,EAAQzE,MAAM,aAAe,GAC5C2E,EAAqB,IAAI,IAAIC,IAAIF,EAAaxD,KAAI2D,GAAKC,SAASD,EAAE7E,MAAM,OAAO,QAC/E+E,EAAiBJ,EAAmBtI,OAE1C,GAAIkD,KAAKnD,UAAUC,OAAS0I,EAC1B,MAAOxF,KAAKnD,UAAUC,OAAS0I,EAC7BxF,KAAKnD,UAAU8D,KAAK,SAEbX,KAAKnD,UAAUC,OAAS0I,GACjCxF,KAAKnD,UAAU4I,OAAOD,GAGxB5E,QAAQC,IAAI,qBAAsBb,KAAKnD,UACzC,EAEA6I,oBAAAA,CAAqBR,GACnB,MAAMS,EAAcjK,GACbA,EACEA,EAAKkK,MAAM,OAAOC,QAAOC,GAAQA,EAAK5C,OAAOpG,OAAS,IAAGA,OAD9C,EAIdpB,EAAOwJ,GAAW,GAClBa,EAAYJ,EAAWjK,GACvB8E,EAAmB9E,EAAK+E,MAAM,aAAe,GAC7CuF,EAAgBxF,EAAiB1D,OAEvC,GAAIkJ,EAAgB,EAAG,CACrB,MAAMC,GAASF,EAAY,GAAKC,EAE9BhG,KAAKxD,YADHyJ,EAAQ,EACS,6KAEA,IAEvB,MACEjG,KAAKxD,YAAc,IAEvB,GAMF0J,MAAO,CACL1G,YAAAA,GACEQ,KAAKpF,sBACP,EAMA,qBAAqBsK,GACnBlF,KAAKiF,wBAAwBC,GAC7BlF,KAAK0F,qBAAqBR,EAC5B,EAGAiB,UAAAA,CAAWtK,GACTmE,KAAKe,aAAelF,EACpBmE,KAAKN,oBAAqB,EAC1BM,KAAKtJ,WAAY,CACnB,EAGA0P,mBAAAA,GACEpG,KAAKN,oBAAqB,CAC5B,EAGA,sBAAuB,CACrB2G,MAAM,EACNC,OAAAA,CAAQC,GACN3F,QAAQC,IAAI,sBAAuB0F,GACnCvG,KAAK/F,aAAe+F,KAAK4B,wBAAwB2E,EACnD,GAGF1J,UAAW,CACTwJ,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,GAEFhH,cAAe,CACb+J,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,GAEF7H,gBAAiB,CACf4K,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,GAEFhI,qBAAsB,CACpB+K,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,GAEFpG,gBAAiB,CACfmJ,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,GAEF7F,OAAQ,CACN4I,MAAM,EACNC,OAAAA,GACEtG,KAAKsD,0BACP,KOniCN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROnN,MAAM,gC,IACJA,MAAM,gE,IA8BJA,MAAM,Q,IAGJA,MAAM,sC,IAYFA,MAAM,yB,IAGJA,MAAM,Q,IAQNA,MAAM,Q,6DA0CRA,MAAM,yB,IAEJA,MAAM,Q,IASNA,MAAM,Q,0BAiBRA,MAAM,gE,IAcNA,MAAM,sD,IACFA,MAAM,mD,IAELA,MAAM,4B,IACJA,MAAM,sC,IAaNA,MAAM,oC,iBAINA,MAAM,0B,IACNA,MAAM,0B,IACNA,MAAM,0B,IAEAA,MAAM,a,IAanBA,MAAM,yB,IAGNA,MAAM,8B,IAGNA,MAAM,8B,UAGeA,MAAM,wB,IACvBA,MAAM,W,IAMNA,MAAM,W,0BAiBXA,MAAM,qF,IA2BZA,MAAM,sK,IACDA,MAAM,W,qBAWZA,MAAM,kC,IAEJA,MAAM,qB,IAEJA,MAAM,a,IASRA,MAAM,wB,IACJA,MAAM,gD,IAEJA,MAAM,U,IAaZA,MAAM,iD,IACFA,MAAM,0E,IAaHA,MAAM,+C,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IAWNA,MAAM,iD,mBAcbA,MAAM,4B,IACJA,MAAM,uE,oBAQJA,MAAM,wE,IAqBRA,MAAM,8B,IAEJA,MAAM,2F,IAEJA,MAAM,qC,IACHA,MAAM,0B,IAaXA,MAAM,2F,IAEJA,MAAM,qC,IACHA,MAAM,0B,IAiBXA,MAAM,2F,IACJA,MAAM,qC,IACHA,MAAM,0B,IAgBXA,MAAM,2F,IACJA,MAAM,qC,IACHA,MAAM,0B,IAcXA,MAAM,2F,IACJA,MAAM,qC,IACHA,MAAM,0B,IAcXA,MAAM,2F,IACJA,MAAM,qC,IACHA,MAAM,0B,IAgBfA,MAAM,qD,IACFA,MAAM,0E,IAcFA,MAAM,Y,IAELA,MAAM,wC,IACNA,MAAM,wC,IACNA,MAAM,wC,IAKNA,MAAM,wC,IACHA,MAAM,6C,8GApezBP,EAAAA,EAAAA,IAyfM,MAzfNC,GAyfM,EAxfJO,EAAAA,EAAAA,IAmBM,MAnBNC,GAmBM,gBAlBJD,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAAgF,MAA5ED,MAAM,gDAA+C,uBACzDC,EAAAA,EAAAA,IAA+E,KAA5ED,MAAM,wBAAuB,iDAA2C,KAG7EC,EAAAA,EAAAA,IAYM,aAXJA,EAAAA,EAAAA,IAMS,UANDD,MAAM,yHACbG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAEC,EAAAC,WAAY,EAAM8B,EAAAgO,mB,gBACxBpQ,EAAAA,EAAAA,IAEM,OAFDD,MAAM,eAAeQ,KAAK,OAAOC,OAAO,eAAe,eAAa,IAAIC,QAAQ,YAAYC,MAAM,8B,EACnGV,EAAAA,EAAAA,IAA+E,QAAzE,iBAAe,QAAQ,kBAAgB,QAAQW,EAAE,qB,YACrD,0BAUCN,EAAAC,YAAS,WAAtB0C,EAAAA,EAAAA,IAkOQc,EAAA,C,MAlOiBR,QAAKnD,EAAA,MAAAA,EAAA,IAAAC,GAAEgC,EAAA2B,cAC9BhE,MAAM,0F,mBAGN,IAAwE,gBAAxEC,EAAAA,EAAAA,IAAwE,MAApED,MAAM,6CAA4C,iBAAa,mBAEnEC,EAAAA,EAAAA,IAAiB,MAAbD,MAAM,QAAM,WAGhBC,EAAAA,EAAAA,IAsNM,MAtNNY,GAsNM,EAnNJZ,EAAAA,EAAAA,IAuLM,MAvLNc,GAuLM,EAtLJd,EAAAA,EAAAA,IAqLO,QArLAqQ,SAAMlQ,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAkO,iBAAAlO,EAAAkO,mBAAA/L,IAAe,cAAEhF,GAAG,cACxCQ,OAAKiB,EAAAA,EAAAA,IAAA,kCAAsCX,EAAA6D,e,gBAK5ClE,EAAAA,EAAAA,IAAwE,MAApED,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAAwC,SAArC,uCAAiC,mBAC/DA,EAAAA,EAAAA,IAAkE,KAA/DD,MAAM,gBAAgB,yCAAqC,KAI9DC,EAAAA,EAAAA,IA+CM,MA/CNe,GA+CM,EA5CJf,EAAAA,EAAAA,IAKM,MALNkB,GAKM,gBAJJlB,EAAAA,EAAAA,IACyC,SADlCuQ,IAAI,gBAAgBxQ,MAAM,6B,UAA4B,mBAAcC,EAAAA,EAAAA,IAC1C,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,qCAAgBpF,EAAAmQ,cAAapQ,GAAEb,GAAG,gBAAgB8E,YAAY,iBAAiBI,SAAA,GACzF1E,MAAM,mD,iBADoBM,EAAAmQ,oBAK9BxQ,EAAAA,EAAAA,IAkCM,MAlCNwB,GAkCM,gBAjCJxB,EAAAA,EAAAA,IACyC,SADlCuQ,IAAI,YAAYxQ,MAAM,6B,UAA4B,sBAAiBC,EAAAA,EAAAA,IACzC,QAA7BD,MAAM,gBAAe,OAAC,cAQ1BC,EAAAA,EAAAA,IAKS,UALDT,GAAG,kB,qCAA2Bc,EAAAoQ,mBAAkBrQ,GAAGsF,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAsO,kBAAAtO,EAAAsO,oBAAAnM,IACjExE,MAAM,+DAA+D0E,SAAA,I,gBACrEjF,EAAAA,EAAAA,IAES2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFkBf,EAAAgB,WAAZC,K,WAAf9B,EAAAA,EAAAA,IAES,UAF8B+B,IAAKD,EAAS/B,GAAKsF,MAAOvD,EAAS/B,K,QACrE+B,EAAS1B,MAAI,EAAA8B,O,mBAHkBrB,EAAAoQ,sBAQ3BpQ,EAAAsQ,2BAAwB,WAAnCnR,EAAAA,EAAAA,IAOM,MAAAoC,GAAA,gBANJ5B,EAAAA,EAAAA,IAAsE,SAA/DuQ,IAAI,GAAGxQ,MAAM,+BAA8B,gBAAY,KAC9DC,EAAAA,EAAAA,IAAoE,SAA7DyF,KAAK,OAAQC,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwO,cAAAxO,EAAAwO,gBAAArM,IAAcxE,MAAM,qB,SACrCM,EAAAwQ,gBAAa,WAAxBrR,EAAAA,EAAAA,IAAiF,MAAAsC,GAAA3B,EAAA,MAAAA,EAAA,MAAvDH,EAAAA,EAAAA,IAAiD,KAA7CD,MAAM,4BAA2B,YAAQ,oBACvEP,EAAAA,EAAAA,IAAyI,MAAAwC,GAAA7B,EAAA,MAAAA,EAAA,MAA7HH,EAAAA,EAAAA,IAAuH,QAAjHD,MAAM,qGAAmG,gCAMlHM,EAAAyQ,gCAA6B,WAAxCtR,EAAAA,EAAAA,IAKM,MAAA0C,GAAA,gBAJJlC,EAAAA,EAAAA,IAAsC,SAA/BuQ,IAAI,IAAG,oBAAgB,cAC9BvQ,EAAAA,EAAAA,IAES,UAFDJ,KAAK,GAAGL,GAAG,G,qCAAYc,EAAA0Q,cAAa3Q,I,gBAC1CJ,EAAAA,EAAAA,IAAyC,UAAjC6E,MAAM,QAAO,eAAW,iBADHxE,EAAA0Q,qBAAa,kCAOlD/Q,EAAAA,EAAAA,IAAqE,MAAjED,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAAqC,SAAlC,oCAA8B,mBAC5DA,EAAAA,EAAAA,IAEkG,KAF/FD,MAAM,gBAAe,UAAC,8BAAyBC,EAAAA,EAAAA,IAE4C,KAD1FgR,KAAK,qFACL1C,OAAO,SAASvO,MAAM,iB,EAAgBC,EAAAA,EAAAA,IAAgD,SAA7C,iDAAyC,KAEtFA,EAAAA,EAAAA,IAgBM,MAhBNmC,GAgBM,EAdJnC,EAAAA,EAAAA,IAMM,MANNuC,GAMM,gBALJvC,EAAAA,EAAAA,IACyC,SADlCuQ,IAAI,aAAaxQ,MAAM,6B,UAA4B,eAAUC,EAAAA,EAAAA,IACnC,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAE0D,SAFnDyF,KAAK,O,qCAAgBpF,EAAA4Q,WAAU7Q,GAAEb,GAAG,aACzC8E,YAAY,uCAAuCI,SAAA,GACnD1E,MAAM,mD,iBAFoBM,EAAA4Q,iBAM9BjR,EAAAA,EAAAA,IAIM,MAJNwC,GAIM,gBAHJxC,EAAAA,EAAAA,IAAyF,SAAlFuQ,IAAI,UAAUxQ,MAAM,+BAA8B,4BAAwB,KACjFC,EAAAA,EAAAA,IAA0E,SAAnEyF,KAAK,OAAQC,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA8O,kBAAA9O,EAAA8O,oBAAA3M,IAAkBxE,MAAM,qB,aAI7CM,EAAA8Q,cAAW,WAAtB3R,EAAAA,EAAAA,IAGM,MAAA4R,GAAAjR,EAAA,MAAAA,EAAA,MAFJH,EAAAA,EAAAA,IAAiC,YAA7BA,EAAAA,EAAAA,IAAwB,SAArB,uBAAiB,IACxBA,EAAAA,EAAAA,IAAuF,KAApFD,MAAM,gBAAgB,8DAA0D,oBAGrFP,EAAAA,EAAAA,IAGM,MAAAkE,GAAAvD,EAAA,MAAAA,EAAA,MAFJH,EAAAA,EAAAA,IAA+C,MAA3CD,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAAe,SAAZ,cAAQ,IACtCA,EAAAA,EAAAA,IAA4D,KAAzDD,MAAM,gBAAgB,mCAA+B,QAI1DC,EAAAA,EAAAA,IAWM,MAXN2D,GAWM,gBAVJ3D,EAAAA,EAAAA,IAA8C,MAA1CD,MAAM,UAAQ,EAACC,EAAAA,EAAAA,IAAsB,SAAnB,qBAAe,cAErCA,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,qCAAgBmC,EAAAyJ,QAAOjR,GAAEiE,YAAY,MAC/CtE,MAAM,mD,iBADoB6H,EAAAyJ,YAAO,SAEnCrR,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,qCAAgBmC,EAAA0J,UAASlR,GAAEiE,YAAY,QACjDtE,MAAM,mD,iBADoB6H,EAAA0J,cAG5BtR,EAAAA,EAAAA,IAEiB,UAFRE,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAmP,cAAAnP,EAAAmP,gBAAAhN,IAAY,cAClCxE,MAAM,4EAA6E,mBAKvFC,EAAAA,EAAAA,IA+BM,MA/BNwR,GA+BM,EA9BJxR,EAAAA,EAAAA,IA6BQ,QA7BRgE,GA6BQ,EA5BNhE,EAAAA,EAAAA,IAYQ,eAXNA,EAAAA,EAAAA,IAUK,KAVLiE,GAUK,EATHjE,EAAAA,EAAAA,IAGK,KAHLmE,GAGK,WAFHnE,EAAAA,EAAAA,IAC8B,SADvByF,KAAK,WAAYC,SAAMvF,EAAA,MAAAA,EAAA,IAAAC,GAAEgC,EAAAqP,UAAUrR,I,uCAAkBC,EAAAqR,YAAWtR,GACrEL,MAAM,sB,iBADoDM,EAAAqR,eAAW,uBACzC,cAChC,eACA1R,EAAAA,EAAAA,IAAoD,MAAhDD,MAAM,iCAAiC,QAAI,mBAC/CC,EAAAA,EAAAA,IAA4D,MAAxDD,MAAM,iCAAiC,gBAAY,mBACvDC,EAAAA,EAAAA,IAAoD,MAAhDD,MAAM,iCAAiC,QAAI,SAKnDC,EAAAA,EAAAA,IAcQ,6BAbNR,EAAAA,EAAAA,IAYK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZiBf,EAAAsR,UAAXC,K,WAAXpS,EAAAA,EAAAA,IAYK,MAZ4B+B,IAAKqQ,EAAQrS,I,EAC5CS,EAAAA,EAAAA,IAEK,KAFLoE,GAEK,WADHpE,EAAAA,EAAAA,IAA8F,SAAvFyF,KAAK,W,uCAAoBpF,EAAAwR,iBAAgBzR,GAAGyE,MAAK,GAAK+M,EAAQhS,QAAQgS,EAAQE,S,kBAArDzR,EAAAwR,uBAGlC7R,EAAAA,EAAAA,IAA0D,KAA1D8E,IAA0DrD,EAAAA,EAAAA,IAApBmQ,EAAQhS,MAAI,IAClDI,EAAAA,EAAAA,IAA2D,KAA3DiF,IAA2DxD,EAAAA,EAAAA,IAArBmQ,EAAQE,OAAK,IACnD9R,EAAAA,EAAAA,IAIK,KAJLoF,GAIK,gBAHH5F,EAAAA,EAAAA,IAEM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFsBwQ,EAAQG,MAAI,CAA3BC,EAAKnL,M,WAAlBrH,EAAAA,EAAAA,IAEM,OAFqC+B,IAAKsF,GAAK,EACnD7G,EAAAA,EAAAA,IAA6C,OAA7CuF,IAA6C9D,EAAAA,EAAAA,IAAlBuQ,EAAIzQ,KAAM,IAAC,YAAO,KAACE,EAAAA,EAAAA,IAAGuQ,EAAInN,OAAK,Q,wCAStE7E,EAAAA,EAAAA,IAA6E,MAAzED,MAAM,kBAAgB,EAACC,EAAAA,EAAAA,IAA6C,SAA1C,4CAAsC,mBACpEA,EAAAA,EAAAA,IAA2D,KAAxDD,MAAM,gBAAgB,kCAA8B,KAGvDC,EAAAA,EAAAA,IAwBM,MAxBNwF,GAwBM,EArBJxF,EAAAA,EAAAA,IACsE,IADtEiG,GACsE,WAD/BjG,EAAAA,EAAAA,IACmB,SADZyF,KAAK,Q,uCAAiBpF,EAAA4R,YAAW7R,GAAGyE,OAAO,EACrF9E,MAAM,iD,iBAD0DM,EAAA4R,eAAW,uBACrB,gBAE1DjS,EAAAA,EAAAA,IACgG,IADhGqG,GACgG,WAD1DrG,EAAAA,EAAAA,IAC6C,SADtCyF,KAAK,Q,uCAAiBpF,EAAA4R,YAAW7R,GAAGyE,OAAO,EACpF9E,MAAM,gDAAiDG,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA8P,iBAAA9P,EAAA8P,mBAAA3N,K,iBADClE,EAAA4R,eAAW,uBACK,gBAExE5R,EAAA4R,cAAW,WAAtBzS,EAAAA,EAAAA,IAcM,MAdN8G,GAcM,EAbJtG,EAAAA,EAAAA,IAKM,MALNuG,GAKM,gBAJJvG,EAAAA,EAAAA,IACyC,SADlCuQ,IAAI,eAAexQ,MAAM,6B,UAA4B,SAAIC,EAAAA,EAAAA,IAC/B,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,uCAAgBpF,EAAA8R,aAAY/R,GAAEb,GAAG,eAAekF,SAAA,GAC1D1E,MAAM,mD,iBADoBM,EAAA8R,mBAG9BnS,EAAAA,EAAAA,IAMM,MANN2G,GAMM,gBALJ3G,EAAAA,EAAAA,IAEgB,SAFTuQ,IAAI,eAAexQ,MAAM,6B,UAA4B,SAAIC,EAAAA,EAAAA,IAC/B,QAA7BD,MAAM,gBAAe,MAAC,QAAO,iBACzB,cACRC,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,uCAAgBpF,EAAA+R,aAAYhS,GAAEb,GAAG,eAAekF,SAAA,GAC1D1E,MAAM,mD,iBADoBM,EAAA+R,sBAAY,kBAQ5CpS,EAAAA,EAAAA,IAQO,UAPPyF,KAAK,SACL1F,MAAM,sGACL8F,SAAUxF,EAAAgS,cAAgBhS,EAAA6D,a,CACf7D,EAAAgS,eAAY,WAAxB7S,EAAAA,EAAAA,IACmG,OADnGuH,MACmG,6BACnGtF,EAAAA,EAAAA,IAAGpB,EAAA6D,YAAc,YAAc7D,EAAAgS,aAAe,gBAAkBhS,EAAA4R,YAAW,qDAyBjFjS,EAAAA,EAAAA,IAKM,MALNkH,GAKM,EAHJlH,EAAAA,EAAAA,IAEM,MAFNsS,GAEM,EADJtS,EAAAA,EAAAA,IAAiE,QAA3D8C,MAAA,2BAA+Bc,UAAQvD,EAAAkS,a,uDAUrDvS,EAAAA,EAAAA,IA2BM,MA3BN0H,GA2BM,EAzBJ1H,EAAAA,EAAAA,IASM,MATN2H,GASM,gBARJ3H,EAAAA,EAAAA,IAA+E,MAA3ED,MAAM,2CAAyC,EAACC,EAAAA,EAAAA,IAAsB,SAAnB,qBAAe,KACtEA,EAAAA,EAAAA,IAKM,MALNwS,GAKM,EAJJxS,EAAAA,EAAAA,IAGS,UAHDD,MAAM,qEACXG,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEgC,EAAAqQ,mBAAmB7I,KAAK8I,aAAc,K,EAC7C1S,EAAAA,EAAAA,IAA+F,KAA5FD,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,6CAA4C,gBAA2BX,EAAAmH,Y,eAMvFxH,EAAAA,EAAAA,IAaM,MAbN2S,GAaM,EAZJ3S,EAAAA,EAAAA,IAUM,MAVN4S,GAUM,gBATJ5S,EAAAA,EAAAA,IAA0B,YAAtBA,EAAAA,EAAAA,IAAiB,SAAd,gBAAU,KACjBA,EAAAA,EAAAA,IAOM,MAPN6S,GAOM,EANJ7S,EAAAA,EAAAA,IAKS,UALDJ,KAAK,GAAGL,GAAG,GAAImG,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA0Q,0BAAA1Q,EAAA0Q,4BAAAvO,IAA0BxE,MAAM,4C,gBAC7DC,EAAAA,EAAAA,IAAoC,UAA5B6E,MAAM,QAAO,UAAM,IAC3B7E,EAAAA,EAAAA,IAA8C,UAAtC6E,MAAM,cAAa,cAAU,IACrC7E,EAAAA,EAAAA,IAA4C,UAApC6E,MAAM,aAAY,aAAS,IACnC7E,EAAAA,EAAAA,IAAkE,UAA1D6E,MAAM,wBAAuB,wBAAoB,kBAQnE7E,EAAAA,EAAAA,IAsCM,MAtCN+S,GAsCM,EArCJ/S,EAAAA,EAAAA,IAoCQ,QApCRgT,GAoCQ,gBAnCNhT,EAAAA,EAAAA,IASQ,eARNA,EAAAA,EAAAA,IAOK,MAPDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAAyG,MAArGD,MAAM,6EAA4E,mBACtFC,EAAAA,EAAAA,IAAqF,MAAjFD,MAAM,mEAAkE,SAC5EC,EAAAA,EAAAA,IAAyF,MAArFD,MAAM,mEAAkE,aAC5EC,EAAAA,EAAAA,IAAyF,MAArFD,MAAM,mEAAkE,aAC5EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,mEAAkE,WAC5EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,mEAAkE,cAAM,KAGtFC,EAAAA,EAAAA,IAwBQ,6BAvBNR,EAAAA,EAAAA,IAsBK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAtBmBf,EAAA4S,YAAbC,K,WAAX1T,EAAAA,EAAAA,IAsBK,MAtBgC+B,IAAK2R,EAAU3T,GAAIQ,MAAM,oB,EAC5DC,EAAAA,EAAAA,IAAiF,KAAjFmT,IAAiF1R,EAAAA,EAAAA,IAAtByR,EAAUtT,MAAI,IACzEI,EAAAA,EAAAA,IAAmF,KAAnFoT,IAAmF3R,EAAAA,EAAAA,IAAtByR,EAAUzN,MAAI,IAC3EzF,EAAAA,EAAAA,IAAuF,KAAvFqT,IAAuF5R,EAAAA,EAAAA,IAA1ByR,EAAU5R,UAAQ,IAC/EtB,EAAAA,EAAAA,IAA8F,KAA9FsT,IAA8F7R,EAAAA,EAAAA,IAAjCyR,EAAUvB,SAASjL,QAAM,IACtF1G,EAAAA,EAAAA,IAUK,KAVLuT,GAUK,EATHvT,EAAAA,EAAAA,IAQM,OARAD,OAAKiB,EAAAA,EAAAA,IAAA,C,iCAAyE,eAAhBkS,EAAUrR,O,6BAAsH,cAAhBqR,EAAUrR,O,8BAAiI,cAAhBqR,EAAUrR,O,+BAAiI,yBAAhBqR,EAAUrR,O,gCAAkI,kBAAhBqR,EAAUrR,W,QAO3iBqR,EAAUrR,QAAM,MAGvB7B,EAAAA,EAAAA,IAKK,KALLwT,GAKK,EAJHxT,EAAAA,EAAAA,IAGS,UAHDD,MAAM,uDACXG,QAAKE,IAAEC,EAAAoT,iBAAkB,EAAMrR,EAAAsR,qBAAqBR,EAAU3T,MAAK,gBAEtE,EAAAoU,W,aAUV3T,EAAAA,EAAAA,IAmBM,MAnBN4T,GAmBM,EAlBJ5T,EAAAA,EAAAA,IAiBM,MAjBN6T,GAiBM,EAhBJ7T,EAAAA,EAAAA,IAMS,UALPD,MAAM,2HACLG,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA0R,kBAAA1R,EAAA0R,oBAAAvP,IACPsB,SAA0B,IAAhBxF,EAAA0T,aACZ,aAED,EAAAC,KACAhU,EAAAA,EAAAA,IAEM,MAFNiU,IAEMxS,EAAAA,EAAAA,IADDpB,EAAA0T,aAAW,IAEhB/T,EAAAA,EAAAA,IAKS,UAJPD,MAAM,2EACLG,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA8R,cAAA9R,EAAA8R,gBAAA3P,KACT,cASSlE,EAAAoT,kBAAe,WAA7BzQ,EAAAA,EAAAA,IA6JSmR,EAAA,C,MA7JuB7Q,QAAKnD,EAAA,MAAAA,EAAA,IAAAC,IAAEC,EAAAoT,iBAAkB,EAAOpT,EAAA+T,iBAAmB,CAAC,O,mBAElF,IAAiE,gBAAjEpU,EAAAA,EAAAA,IAAiE,MAA7DD,MAAM,4BAA0B,EAACC,EAAAA,EAAAA,IAAuB,SAApB,sBAAgB,KAIxDA,EAAAA,EAAAA,IAuGM,MAvGNqU,GAuGM,EArGJrU,EAAAA,EAAAA,IAaM,MAbNsU,GAaM,EAXJtU,EAAAA,EAAAA,IAOM,MAPNuU,GAOM,EANJvU,EAAAA,EAAAA,IAA6D,OAA7DwU,IAA6D/S,EAAAA,EAAAA,IAArBW,EAAAqS,OAAOC,MAAI,kBACnD1U,EAAAA,EAAAA,IAIc,OAJTD,MAAM,4EAA0E,EAACC,EAAAA,EAAAA,IAI9E,OAJmFkJ,MAAM,KAC7FC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAClDV,EAAAA,EAAAA,IACiC,QAD3BW,EAAE,sCAAsCH,OAAO,UAAU,eAAa,IAAI,iBAAe,QAC7F,kBAAgB,c,qBAKxBR,EAAAA,EAAAA,IAAuC,QAAjCD,MAAM,iBAAgB,QAAI,OAIlCC,EAAAA,EAAAA,IAiBM,MAjBN2U,GAiBM,EAfJ3U,EAAAA,EAAAA,IAWM,MAXN4U,GAWM,EAVJ5U,EAAAA,EAAAA,IAAkE,OAAlE6U,IAAkEpT,EAAAA,EAAAA,IAA1BW,EAAAqS,OAAOK,WAAS,kBACxD9U,EAAAA,EAAAA,IAQc,OARTD,MAAM,4EAA0E,EAACC,EAAAA,EAAAA,IAQ9E,OARmFkJ,MAAM,KAC7FC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAClDV,EAAAA,EAAAA,IACwD,QADlDW,EAAE,6CAA6CH,OAAO,UAAU,eAAa,IACjF,iBAAe,QAAQ,kBAAgB,WACzCR,EAAAA,EAAAA,IACwD,QADlDW,EAAE,kDAAkDH,OAAO,UAAU,eAAa,IACtF,iBAAe,QAAQ,kBAAgB,WACzCR,EAAAA,EAAAA,IACiC,QAD3BW,EAAE,iCAAiCH,OAAO,UAAU,eAAa,IAAI,iBAAe,QACxF,kBAAgB,c,qBAKxBR,EAAAA,EAAAA,IAA4C,QAAtCD,MAAM,iBAAgB,aAAS,OAIvCC,EAAAA,EAAAA,IAeM,MAfN+U,GAeM,EAdJ/U,EAAAA,EAAAA,IAYM,MAZNgV,GAYM,EAXJhV,EAAAA,EAAAA,IAA6D,OAA7DiV,IAA6DxT,EAAAA,EAAAA,IAArBW,EAAAqS,OAAOS,MAAI,kBACnDlV,EAAAA,EAAAA,IAQc,OARTD,MAAM,4EAA0E,EAACC,EAAAA,EAAAA,IAQ9E,OARmFkJ,MAAM,KAC7FC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAClDV,EAAAA,EAAAA,IAE0F,QADxFW,EAAE,+SACFH,OAAO,UAAU,eAAa,IAAI,iBAAe,QAAQ,kBAAgB,WAC3ER,EAAAA,EAAAA,IAE0F,QADxFW,EAAE,kHACFH,OAAO,UAAU,eAAa,IAAI,iBAAe,QAAQ,kBAAgB,c,qBAIjFR,EAAAA,EAAAA,IAAuC,QAAjCD,MAAM,iBAAgB,QAAI,OAIlCC,EAAAA,EAAAA,IAcM,MAdNmV,GAcM,EAbJnV,EAAAA,EAAAA,IAUM,MAVNoV,GAUM,EATJpV,EAAAA,EAAAA,IAAgE,OAAhEqV,IAAgE5T,EAAAA,EAAAA,IAAxBW,EAAAqS,OAAOa,SAAO,kBACtDtV,EAAAA,EAAAA,IAMM,OANDD,MAAM,4EAA0E,EACnFC,EAAAA,EAAAA,IAIM,OAJDkJ,MAAM,KAAKC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAChEV,EAAAA,EAAAA,IAEwB,QADtBW,EAAE,+mEACFJ,KAAK,gB,qBAMbP,EAAAA,EAAAA,IAA0C,QAApCD,MAAM,iBAAgB,WAAO,OAGrCC,EAAAA,EAAAA,IAcM,MAdNuV,GAcM,EAbJvV,EAAAA,EAAAA,IAUM,MAVNwV,GAUM,EATJxV,EAAAA,EAAAA,IAA6D,OAA7DyV,IAA6DhU,EAAAA,EAAAA,IAArBW,EAAAqS,OAAOC,MAAI,kBACnD1U,EAAAA,EAAAA,IAMM,OANDD,MAAM,4EAA0E,EACnFC,EAAAA,EAAAA,IAIM,OAJDkJ,MAAM,KAAKC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAChEV,EAAAA,EAAAA,IAEwB,QADtBW,EAAE,+mEACFJ,KAAK,gB,qBAMbP,EAAAA,EAAAA,IAA0C,QAApCD,MAAM,iBAAgB,WAAO,OAGrCC,EAAAA,EAAAA,IAcM,MAdN0V,GAcM,EAbJ1V,EAAAA,EAAAA,IAUM,MAVN2V,GAUM,EATJ3V,EAAAA,EAAAA,IAA+D,OAA/D4V,IAA+DnU,EAAAA,EAAAA,IAAvBW,EAAAqS,OAAOoB,QAAM,kBACrD7V,EAAAA,EAAAA,IAMM,OANDD,MAAM,4EAA0E,EACnFC,EAAAA,EAAAA,IAIM,OAJDkJ,MAAM,KAAKC,OAAO,KAAK1I,QAAQ,YAAYF,KAAK,OAAOG,MAAM,8B,EAChEV,EAAAA,EAAAA,IAEwB,QADtBW,EAAE,+mEACFJ,KAAK,gB,qBAMbP,EAAAA,EAAAA,IAAyC,QAAnCD,MAAM,iBAAgB,UAAM,SAKxCC,EAAAA,EAAAA,IAwCQ,MAxCR8V,GAwCQ,EAvCN9V,EAAAA,EAAAA,IAsCU,QAtCV+V,GAsCU,gBArCR/V,EAAAA,EAAAA,IAYU,eAXRA,EAAAA,EAAAA,IAUO,MAVHD,MAAM,uDAAqD,EAC3DC,EAAAA,EAAAA,IAAwD,MAApDD,MAAM,sCAAqC,SAC/CC,EAAAA,EAAAA,IAA4D,MAAxDD,MAAM,sCAAqC,aAC/CC,EAAAA,EAAAA,IAA0D,MAAtDD,MAAM,sCAAqC,WAK/CC,EAAAA,EAAAA,IAAkE,MAA9DD,MAAM,sCAAqC,sBAAc,KAIjEC,EAAAA,EAAAA,IAuBQ,QAvBRgW,GAuBQ,gBAtBNxW,EAAAA,EAAAA,IAqBK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArBgCf,EAAA+T,kBAAgB,CAAzC7L,EAAe1B,M,WAA3BrH,EAAAA,EAAAA,IAqBK,MArBmD+B,IAAKgH,EAAchJ,I,EACzES,EAAAA,EAAAA,IAAsF,KAAtFiW,IAAsFxU,EAAAA,EAAAA,IAAlC8G,EAAc2N,cAAY,IAC9ElW,EAAAA,EAAAA,IAAkF,KAAlFmW,IAAkF1U,EAAAA,EAAAA,IAA9B8G,EAAc6N,UAAQ,IAC1EpW,EAAAA,EAAAA,IAAgF,KAAhFqW,IAAgF5U,EAAAA,EAAAA,IAA5B8G,EAAc1G,QAAM,IAKxE7B,EAAAA,EAAAA,IAYK,KAZLsW,GAYK,EAXHtW,EAAAA,EAAAA,IAUM,MAVNuW,GAUM,CATUhO,EAAciO,eAAY,WAAxChX,EAAAA,EAAAA,IAGS,U,MAHkCiX,aAAUrW,GAAEgC,EAAAsU,YAAY7P,EAAOzG,GACvEuW,aAAUxW,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAwU,aAAAxU,EAAAwU,eAAArS,IAAaxE,MAAM,eAAc,OAEhD,GAAA8W,MAAA,eACWxW,EAAAyI,iBAAmBjC,IAAK,WAAnCrH,EAAAA,EAAAA,IAIM,O,MAHJO,MAAM,wEACL+C,OAAKgU,EAAAA,EAAAA,IAAEzW,EAAA0I,iB,QACLR,EAAciO,cAAY,6B,iGC5e1CzW,MAAM,mF,IACJA,MAAM,gE,IACJA,MAAM,Q,2CAFfP,EAAAA,EAAAA,IAQM,MARNC,GAQM,EAPJO,EAAAA,EAAAA,IAMM,MANNC,GAMM,EALJD,EAAAA,EAAAA,IAEM,MAFNY,GAEM,EADJZ,EAAAA,EAAAA,IAAgE,QAA1DD,MAAM,QAASG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,UAAUC,MAAA,IAAM,QAGpDC,EAAAA,EAAAA,IAAOH,EAAAI,OAAA,kBAAAC,GAAA,M,CAMb,QACErI,KAAM,UCPR,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFyfA,IACEA,KAAM,aAENsI,WAAY,CACVG,MAAK,GACL0O,OAAMA,IAGRzO,MAAO,CACLC,cAAe,CACb9C,KAAM+C,OACN/D,UAAU,IAGdgE,IAAAA,GACE,MAAO,CAELC,OAAQC,wBAGR4J,YAAa,KAEb/K,SAAS,EACTuM,YAAa,EACbjL,eAAgB,KAChBC,cAAe,CAAC,EAChBiO,UAAW,KACXC,QAAS,GACTpG,eAAe,EAEfL,cAAe,GACfS,WAAY,GACZiG,iBAAkB,GAClB7V,UAAW,GACXsQ,SAAU,GACVsB,WAAY,GAEZmB,iBAAkB,GAClB+C,UAAW,GACXC,UAAW,GACXC,eAAgB,GAChBlG,aAAa,EAEbO,aAAa,EAGb4F,QAAS,KACTzF,iBAAkB,GAClBvR,WAAW,EACXmT,iBAAiB,EACjBtB,aAAc,GACdC,aAAc,GACdH,aAAa,EAGbxB,mBAAoB,KACpBE,0BAA0B,EAC1B4G,SAAU,GACVzG,+BAA+B,EAC/B0G,eAAgB,GAChBzG,cAAe,GAGf2B,aAAc,KAGdL,cAAc,EACdnO,aAAa,EACbjD,cAAc,EAGlB,EACA,aAAM0I,SAEEC,KAAKwG,sBACLxG,KAAK6I,2BACL7I,KAAKC,mBAKb,EACAM,QAAS,CAGPqB,uBAAAA,CAAwBtD,GACtB,IAAI2D,EAAiB,GA6ErB,OAzEA3D,EAAWoE,SAAQC,IACjB,OAAQA,EAAU9G,MAChB,IAAK,SACsB,SAArB8G,EAAUpH,OACZ0G,GAAkB,WAAWU,EAAUjH,mBACT,UAArBiH,EAAUpH,QAAsBoH,EAAU/C,SAASC,cAC5DoC,GAAkB,mHAClBU,EAAU/C,QAAQC,cAAc,qKAKJ,UAArB8C,EAAUpH,QAAsBoH,EAAU/C,SAASC,gBAC1DoC,GAAkB,kKAELU,EAAU/C,QAAQC,cAAc,+PAM/C,MAEF,IAAK,OAAQ,CACX,IAAI+C,EAAWD,EAAUjH,KAEzBkH,EAAW5C,KAAK6C,oBAAoBD,EAAUD,EAAU/C,SAASkD,WACjEb,GAAkBW,EAElB,KACF,CACA,IAAK,SACHX,GAAkB,qDAAqDU,EAAUjH,eACjF,MAEF,IAAK,UACCiH,EAAUI,SAAWjB,MAAMC,QAAQY,EAAUI,WAC/Cd,GAAkB,mCAClBU,EAAUI,QAAQL,SAAQjF,IACJ,QAAhBA,EAAO5B,KACToG,GAAkB,wBACfxE,EAAOC,ynBAQYD,EAAO/B,4CAGJ,UAAhB+B,EAAO5B,OAChBoG,GAAkB,6QAItBxE,EAAO/B,gCAIPuG,GAAkB,UAEpB,MAGF,QACEA,GAAkB,4BAClB,UAKCA,CACT,EAGAY,mBAAAA,CAAoBD,EAAUhD,GAS5B,OARIA,GAAWA,EAAQ9C,OAAS,GAE9B8C,EAAQ8C,SAAQ,CAACM,EAAO/F,KACtB,MAAMxC,EAAc,GAAGwC,EAAQ,IAC/B2F,EAAWA,EAASS,QAAQ5I,EAAauI,EAAM,OAI5CJ,CACT,EAGA,kBAAM0H,GACJ,MAAMuD,EAAY7N,KAAKqJ,WAAW,IAAI1T,SAChCqK,KAAK6I,mBAAmB7I,KAAK8I,aAAc9I,KAAKmK,YAAY,GAClE,MAAM2D,EAAW9N,KAAKqJ,WAAW,IAAI1T,GAEjCkY,IAAcC,GAAY9N,KAAKqJ,WAAWvM,OAAS,IACrDkD,KAAKmK,aAAe,EAExB,EACA,sBAAMD,GACAlK,KAAKmK,YAAc,IACrBnK,KAAKmK,aAAe,QACdnK,KAAK6I,mBAAmB7I,KAAK8I,aAAc9I,KAAKmK,aAE1D,EAEA2C,WAAAA,CAAY7P,EAAOwH,GACjBzE,KAAKd,eAAiBjC,EACtB,MAAQ8Q,QAASC,EAAGC,QAASC,GAAMzJ,EACnCzE,KAAKb,cAAgB,CACnBE,KAAM,GAAG2O,MACT5O,IAAK,GAAG8O,EAAI,OAEhB,EACAlB,WAAAA,GACEhN,KAAKd,eAAiB,IACxB,EAoBA,uBAAMe,GACJ,MAAMe,EAAQC,aAAaC,QAAQ,SAEnC,IACE,MAAMC,QAAiBC,MAAM,GAAGpB,KAAKlB,kBAAmB,CACtDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAqBN,EAASO,OACpC1B,KAAKvI,UAAYgK,EAAa5C,IAChC,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,6CAA8CA,EAC9D,CACF,EAEA,sBAAMiF,GAGJ,MAAMwG,EAAmBtN,KAAKvI,UAAU0W,MAAKzW,GAAYA,EAAS/B,KAAOqK,KAAK6G,qBAC9E7G,KAAK2I,YAAc3I,KAAK4B,wBAAwB0L,EAAiBhP,YACjEsC,QAAQC,IAAIb,KAAK2I,aAGjB,MAAMlN,EAAkB6R,EAAiBhP,WAAW6P,MAClDxL,GAAgC,WAAnBA,EAAU9G,OAA2C,UAArB8G,EAAUpH,QAA2C,UAArBoH,EAAUpH,UAczF,GAAIE,GAIF,GAHAuE,KAAK+G,0BAA2B,EAChC/G,KAAK2N,SAAWlS,EAAgBmE,SAASC,gBAAgB,IAAM,GAE3DG,KAAK2N,SACP,IACE,MAAM3M,EAAQC,aAAaC,QAAQ,SAC7BkN,EAAc,IAAIC,IAAI,wCAC5BD,EAAYE,aAAaxJ,OAAO,YAAa9E,KAAK2N,UAElD,MAAMxM,QAAiBC,MAAMgN,EAAYnL,WAAY,CACnD3B,QAAS,CACPuC,cAAe,UAAU7C,OAI7B,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAA+BL,EAASlJ,UAG1D,MAAMsW,QAAapN,EAASoN,OAC5B3N,QAAQC,IAAI,iBAAkB0N,GAC9B,MAAMC,EAAcrN,EAASG,QAAQmN,IAAI,iBAAmB,2BACtDC,EAAMF,EAAY5I,MAAM,KAAK,IAAM,MACnC+I,EAAO,IAAIC,KAAK,CAACL,GAAO,kBAAkBG,IAAO,CAAE7S,KAAM2S,IAEzDK,EAAY,CAChBnK,OAAQ,CACNC,MAAO,CAACgK,WAIN3O,KAAKgH,aAAa6H,GACxB7O,KAAKyI,cAAe,EACpB7H,QAAQC,IAAI,yDAAyDb,KAAKqN,UAC5E,CAAE,MAAOxL,GACPjB,QAAQiB,MAAM,4CAA6CA,EAC7D,OAGF7B,KAAK+G,0BAA2B,EAChC/G,KAAK2N,SAAW,GAOlB,MAAMrR,EAAgBgR,EAAiBhP,WAAW6P,MAAKxL,GAAgC,SAAnBA,EAAU9G,OAE9E,GAAIS,GAAiBA,EAAcZ,KAAKoT,SAAS,MAAO,CAEtD,MAAMC,EAAmBzS,EAAcZ,KAAK+E,MAAM,YAC9CsO,GACF/O,KAAKkH,+BAAgC,EACrClH,KAAK4N,eAAiBmB,EAAiBpN,KAAI,CAACqB,EAAO/F,KAAU,CAC3DjH,KAAM,aAAaiH,EAAQ,IAC3BhC,MAAO,SAGT+E,KAAKkH,+BAAgC,EACrClH,KAAK4N,eAAiB,GAE1B,MAEE5N,KAAKkH,+BAAgC,EACrClH,KAAK4N,eAAiB,EAE1B,EAIA,mBAAMpH,GAEJ,IACE,MAAMxF,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,uCAAwC,CAC3EuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMwN,QAAoB7N,EAASO,OACnC1B,KAAK+H,SAAWiH,EAAYrN,KAAIqG,IAAM,CACpCrS,GAAIqS,EAAQrS,GACZK,KAAMgS,EAAQhS,KACdkS,MAAOF,EAAQE,MACfC,KAAMH,EAAQG,KAAKxG,KAAIyG,IACrB,MAAOzQ,EAAKsD,GAASmN,EAAIxC,MAAM,KAC/B,MAAO,CAAEjO,MAAKsD,eAGpB,CAAE,MAAO4G,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,EAEA,wBAAMgH,CAAmBoG,EAAe,KAAMC,EAAO,GACnD,MAAMlO,EAAQC,aAAaC,QAAQ,SAC7BiO,EAAe,GAErBnP,KAAK8I,aAAemG,EACpB,MAAMvR,EAAM,GAAGsC,KAAKlB,0BAA0BqQ,aAAwBD,EAAO,GAAKC,kBAA6BnP,KAAK8I,eAEpH,IAEE9I,KAAKpC,SAAU,EAEf,MAAMuD,QAAiBC,MAAM1D,EAAK,CAChC2D,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAKpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAIlB,MAAM4N,QAAsBjO,EAASO,OACrC1B,KAAKpC,SAAU,EAEfoC,KAAKqJ,WAAa+F,EACfzN,KAAK2H,IAAS,CACb3T,GAAI2T,EAAU3T,GACdK,KAAMsT,EAAUtT,KAChB6F,KAAMyN,EAAUzN,KAChBnE,SAAU4R,EAAU5R,SACpBqQ,SAAUuB,EAAUvB,SACpBjE,QAASwF,EAAUxF,QACnBmI,OAAQ3C,EAAU2C,OAClBhU,OAAQqR,EAAUrR,OAClBoX,WAAY/F,EAAU+F,WACtBC,WAAYhG,EAAUgG,eAM1B1O,QAAQC,IAAI,cAAeb,KAAKqJ,WAClC,CAAE,MAAOxH,GACPjB,QAAQiB,MAAM,6BAA8BA,EAC9C,CACF,EAKAqH,wBAAAA,CAAyBzE,GACvB,MAAMxM,EAASwM,EAAMC,OAAOzJ,MAC5B+E,KAAK6I,mBAAmB5Q,EAC1B,EAEAsX,cAAAA,CAAeC,GACb,MAAMC,EAAMC,OAAOF,EAAKG,WAAWC,SAAS,EAAG,KACzCC,EAAQH,OAAOF,EAAKM,WAAa,GAAGF,SAAS,EAAG,KAChDG,EAAOP,EAAKQ,cACZC,EAAQP,OAAOF,EAAKU,YAAYN,SAAS,EAAG,KAC5CO,EAAUT,OAAOF,EAAKY,cAAcR,SAAS,EAAG,KAChDS,EAAUX,OAAOF,EAAKc,cAAcV,SAAS,EAAG,KAEtD,MAAO,GAAGH,KAAOI,KAASE,KAAQE,KAASE,KAAWE,GACxD,EAEAE,gBAAAA,GACEvQ,KAAKqH,WAAarH,KAAKiI,iBAAiBuI,KAAK,KAC/C,EAGA,kBAAMxJ,CAAavC,GACjBzE,KAAKoN,UAAY3I,EAAMC,OAAOC,MAAM,GACpC3E,KAAKyQ,aACP,EAGA,iBAAMA,GACJ,IAAKzQ,KAAKoN,UAER,YADAxM,QAAQiB,MAAM,gCAGhB,MAAMb,EAAQC,aAAaC,QAAQ,SAE7B0D,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ9E,KAAKoN,WAE7B,IAEE,MAAMjM,QAAiBC,MAAM,GAAGpB,KAAKlB,sBAAuB,CAC1DuC,OAAQ,OACRC,QAAS,CAEP,cAAiB,UAAUN,KAI7BX,KAAMuE,IAGF8L,QAAcvP,EAASO,OAI7B,GAHA1B,KAAKqN,QAAUqD,EAAMC,kBACrB/P,QAAQC,IAAIb,KAAKqN,UAEZlM,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGhBxB,KAAKiH,eAAgB,CAGzB,CAAE,MAAOpF,GACPjB,QAAQiB,MAAM,yBAA0BA,EAC1C,CACF,EAIA,mBAAM+O,GACJ,MAAMpN,GAAQC,EAAAA,GAAAA,MAIRsE,EAAW/H,KAAKqH,WAAWzB,MAAM,KAAKjE,KAAIkP,IAC9C,MAAO7a,EAAMkS,GAAS2I,EAAMjL,MAAM,KAAKjE,KAAImP,GAAQA,EAAK5N,SACxD,MAAO,CAAElN,OAAMkS,YAGX6I,EAAW/Q,KAAKvI,UAAU0W,MAAKzW,GAAYA,EAAS/B,KAAOqK,KAAK6G,qBAChEyG,EAAmByD,EAAS/a,KAC5Bgb,EAAgBhR,KAAKuP,eAAe,IAAI0B,MACxCC,EAAwB,GAAGlR,KAAK4G,mBAAmBoK,IAEnDG,EAAUnR,KAAKqN,QACfrM,EAAQC,aAAaC,QAAQ,SAC7BkQ,EAAepR,KAAKmH,cAE1B,IACEnH,KAAKyI,cAAe,EACpBzI,KAAK6I,qBAEL,MAAMwI,EAAc,CAClBrb,KAAMkb,EACN7J,WAAYU,EACZrQ,SAAU4V,EACVgE,cAAeC,KAAKC,UAAUT,GAC9BlV,KAAM,YACN5D,OAAQ,SAGNkZ,IACFE,EAAYI,SAAWN,GAGrBC,IACFC,EAAYK,gBAAkBN,GAGhC,MAAMjQ,QAAiBC,MAAM,GAAGpB,KAAKlB,gCAAiC,CACpEuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAUH,KAGvB,IAAKlQ,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAEhBxB,KAAK6I,qBACL7I,KAAKyI,cAAe,EACpBzI,KAAK1F,aAAc,EACnBkJ,EAAMM,QAAQ,8BAKlB,CAAE,MAAOjC,GACPjB,QAAQiB,MAAM,2BAA4BA,EAE5C,CACF,EAGA1H,UAAAA,GACE6F,KAAKtJ,WAAY,EACjBsJ,KAAKuE,WACP,EAEA,0BAAMuF,CAAqB6H,GAGzB,MAAM3Q,EAAQC,aAAaC,QAAQ,SACnC,IAEE,MAAMC,QAAiBC,MAAM,GAAGpB,KAAKlB,2BAA2B6S,IAAgB,CAC9EtQ,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMoQ,QAAezQ,EAASO,OAC9B1B,KAAKwK,iBAAmBoH,EAAOjQ,KAAIkQ,IAAK,CAEtCrF,SAAUqF,EAAOrF,SACjBF,aAAcuF,EAAOvF,aACrBrU,OAAQ4Z,EAAO5Z,OACf6S,KAAM+G,EAAO/G,KACbI,UAAW2G,EAAO3G,UAClBI,KAAMuG,EAAOvG,KACbI,QAASmG,EAAOnG,QAChBkB,aAAciF,EAAOjF,gBAIzB,CAAE,MAAO/K,GACPjB,QAAQiB,MAAM,0CAA2CA,EAC3D,CACF,EAEA6E,eAAAA,GACM1G,KAAKqI,YACPrI,KAAK8R,qBAGL9R,KAAK4Q,eAET,EACA,wBAAMkB,GAEJ,MAAM/J,EAAW/H,KAAKqH,WAAWzB,MAAM,KAAKjE,KAAIkP,IAC9C,MAAO7a,EAAMkS,GAAS2I,EAAMjL,MAAM,KAAKjE,KAAImP,GAAQA,EAAK5N,SACxD,MAAO,CAAElN,OAAMkS,YAKX1E,GAAQC,EAAAA,GAAAA,MAERsN,EAAW/Q,KAAKvI,UAAU0W,MAAKzW,GAAYA,EAAS/B,KAAOqK,KAAK6G,qBAChEyG,EAAmByD,EAAS/a,KAC5Bgb,EAAgBhR,KAAKuP,eAAe,IAAI0B,MACxCC,EAAwB,GAAGlR,KAAK4G,mBAAmBoK,IACnDe,EAAc5R,SAAS6R,eAAe,YAEtChR,EAAQC,aAAaC,QAAQ,SAC7BiQ,EAAUnR,KAAKqN,QACf+D,EAAepR,KAAKmH,cAGpB8K,EAAoB,IAAIhB,KAAK,GAAGjR,KAAKuI,gBAAgBvI,KAAKwI,gBAAgB0J,cAEhF,IACElS,KAAKyI,cAAe,EACpBzI,KAAK6I,qBAKL,MAAMwI,EAAc,CAClBrb,KAAMkb,EACN7J,WAAYU,EACZrQ,SAAU4V,EACVgE,cAAeC,KAAKC,UAAUT,GAC9BlV,KAAM,YACN5D,OAAQ,QACRka,eAAgBF,GAGdd,IACFE,EAAYI,SAAWN,GAGrBC,IAEFC,EAAYK,gBAAkBN,GAGhC,MAAMjQ,QAAiBC,MAAM,GAAGpB,KAAKlB,oCAAqC,CACxEuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAUH,KAGvB,IAAKlQ,EAASI,GAAI,CAChB,MAAM+C,QAAkBnD,EAASO,OAC3BqC,EAAeO,EAAUN,QAAU,gBAGzC,MAFAR,EAAM3B,MAAM,+BAA+BkC,KAErC,IAAIvC,MAAM,8BAClB,CACEgC,EAAMM,QAAQ,qCACd9D,KAAKyI,cAAe,EACpBzI,KAAK1F,aAAc,EACnB0F,KAAK6I,oBAGT,CAAE,MAAOhH,GACPjB,QAAQiB,MAAM,8BAA+BA,GAC7CkQ,EAAYK,YAAc,6BAC5B,CACF,EAGA7N,SAAAA,GACEvE,KAAKyI,cAAe,EACpBzI,KAAK1F,aAAc,EACjB0F,KAAKgI,QAAU,GACfhI,KAAK2I,YAAc,GACrB3I,KAAK4G,cAAgB,GACnB5G,KAAKkH,8BAAgC,GACrClH,KAAK+G,0BAA2B,EAChC/G,KAAK6G,mBAAqB,GAC1B7G,KAAKmH,cAAgB,GACrBnH,KAAKqH,WAAa,GAClBrH,KAAKsN,iBAAmB,GACxBtN,KAAK0N,QAAU,KACf1N,KAAKqN,QAAU,GACfrN,KAAKoN,UAAY,KACjBpN,KAAKiH,eAAgB,EACrBjH,KAAKiI,iBAAmB,GACxBjI,KAAKuI,aAAe,GACpBvI,KAAKwI,aAAe,GACpBxI,KAAKqI,aAAc,EACnBrI,KAAK+H,SAAW,GAChB/H,KAAKuH,aAAc,CAEvB,EAEAD,gBAAAA,CAAiB7C,GACfzE,KAAK0N,QAAUjJ,EAAMC,OAAOC,MAAM,GAClC3E,KAAKqS,WAEP,EAGA,eAAMA,GACJ,MAAM7O,GAAQC,EAAAA,GAAAA,MACd,IAAKzD,KAAK0N,QAAS,OAEnB,MAAM9I,EAAW,IAAIC,SACf7D,EAAQC,aAAaC,QAAQ,SACnC0D,EAASE,OAAO,OAAQ9E,KAAK0N,SAE7B,IACE,MAAMvM,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,+BAAgC8F,EAAU,CAClFtD,QAAS,CACP,eAAgB,sBAChBuC,cAAe,UAAU7C,OAK7B,GAAIG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,IAAK,CACnDuL,EAAMM,QAAQ,gCAEd,MAAM,SAAEiE,EAAQ,WAAEuK,GAAenR,EAAStC,KAC1CmB,KAAK+H,SAAW,IAAIA,KAAauK,GACjCtS,KAAKuH,aAAc,EAGnB,MAAMgL,EAAoBvS,KAAK+H,SAC5BpG,KAAKqG,GAAY,GAAGA,EAAQhS,QAAQgS,EAAQE,UAC5CsI,KAAK,KAGRxQ,KAAKqH,WAAarH,KAAKqH,WACnB,GAAGrH,KAAKqH,cAAckL,IACtBA,CACN,MACE/O,EAAM3B,MAAM,UAAUV,EAAStC,MAAMmF,QAAU,kBAEnD,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,4BAA6BA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,SACjFV,EAAM3B,MAAM,UAAUA,EAAMV,UAAUtC,MAAMmF,QAAU,yBACxD,CACF,EAGA,kBAAM2D,GACJ,MAAM3G,EAAQC,aAAaC,QAAQ,SAC7BsR,EAAWxS,KAAK0H,UAChB+K,EAASzS,KAAKyH,QACpB,IAEE,MAAMtG,QAAiBC,MAAM,GAAGpB,KAAKlB,yCAAyC2T,eAAoBD,IAAY,CAC5GnR,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAKd0R,QAAqBvR,EAASO,OAcpC,GAbA1B,KAAK+H,SAAW2K,EAAa/Q,KAAKqG,IAAO,CACvCrS,GAAIqS,EAAQrS,GACZK,KAAMgS,EAAQhS,KACdkS,MAAOF,EAAQE,MACfyK,MAAO3K,EAAQ2K,MACfxK,KAAMH,EAAQG,KAAKxG,KAAIyG,IACrB,MAAOzQ,EAAKsD,GAASmN,EAAIxC,MAAM,KAC/B,MAAO,CAAEjO,MAAKsD,YAEhBoU,WAAYrH,EAAQqH,WACpBC,WAAYtH,EAAQsH,gBAGjBnO,EAASI,GACZ,MAAM,IAAIC,MAAM,0BAGpB,CAAE,MAAOK,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,EAEAgG,SAAAA,CAAUpD,GAEJA,EAAMC,OAAOkO,QAEf5S,KAAKiI,iBAAmBjI,KAAK+H,SAASpG,KAAIqG,GAAW,GAAGA,EAAQhS,QAAQgS,EAAQE,UAGhFlI,KAAKiI,iBAAmB,EAE5B,EAEAK,eAAAA,GACE,MAAMuK,EAAM,IAAI5B,KAGVlB,EAAO8C,EAAI7C,cACXH,GAASgD,EAAI/C,WAAa,GAAG7M,WAAW2M,SAAS,EAAG,KACpDH,EAAMoD,EAAIlD,UAAU1M,WAAW2M,SAAS,EAAG,KACjD5P,KAAKuI,aAAe,GAAGwH,KAAQF,KAASJ,IAGxCoD,EAAIC,WAAWD,EAAIzC,aAAe,GAClC,MAAMH,EAAQ4C,EAAI3C,WAAWjN,WAAW2M,SAAS,EAAG,KAC9CO,EAAU0C,EAAIzC,aAAanN,WAAW2M,SAAS,EAAG,KACxD5P,KAAKwI,aAAe,GAAGyH,KAASE,GAClC,EAEA,eAAM4C,GACJ,MAAMvP,GAAQC,EAAAA,GAAAA,MACd,IAAKzD,KAAK2O,KAAM,OAEhB,MAAM/J,EAAW,IAAIC,SACf7D,EAAQC,aAAaC,QAAQ,SACnC0D,EAASE,OAAO,OAAQ9E,KAAK2O,MAE7B,IACE,MAAMxN,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,+BAAgC8F,EAAU,CAClFtD,QAAS,CACP,eAAgB,sBAChBuC,cAAe,UAAU7C,OAK7B,GAAIG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,IAAK,CACnDuL,EAAMM,QAAQ,gCAId,MAAMyO,EAAoBvS,KAAK+H,SAASpG,KAAIqG,GAAW,GAAGA,EAAQhS,QAAQgS,EAAQE,UAASsI,KAAK,KAGhGxQ,KAAKqH,WAAarH,KAAKqH,WAAa,GAAGrH,KAAKqH,cAAckL,IAAsBA,CAElF,MACE/O,EAAM3B,MAAM,UAAUV,EAAStC,MAAMmF,QAAU,kBAEnD,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,4BAA6BA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,SACjFV,EAAM3B,MAAM,UAAUA,EAAMV,UAAUtC,MAAMmF,QAAU,yBACxD,CACF,GAIFgP,SAAU,CACRnI,MAAAA,GACE,OAAO7K,KAAKwK,iBAAiByI,QAC3B,CAACC,EAAKrB,KACJqB,EAAIpI,MAAQ+G,EAAO/G,KAAO,EAAI,EAC9BoI,EAAIhI,WAAa2G,EAAO3G,UAAY,EAAI,EACxCgI,EAAI5H,MAAQuG,EAAOvG,KAAO,EAAI,EAC9B4H,EAAIxH,SAAWmG,EAAOnG,QAAU,EAAI,EACpCwH,EAAIjH,QAA4B,WAAlB4F,EAAO5Z,OAAsB,EAAI,EACxCib,IAET,CAAEpI,KAAM,EAAGI,UAAW,EAAGI,KAAM,EAAGI,QAAS,EAAGO,OAAQ,GAE1D,GAEF/F,MAAO,CACL+B,iBAAkB,WAChBjI,KAAKuQ,kBACP,EACA4C,mBAAAA,CAAoBC,GAElBpT,KAAKuQ,mBACLvQ,KAAK8H,YAAcsL,EAAoBtW,SAAWkD,KAAK+H,SAASjL,MAClE,EACAiD,OAAAA,GACE,IG33CN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCRO5J,MAAM,gC,IAYJA,MAAM,iD,IACFA,MAAM,0E,IAcHA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IAWNA,MAAM,iD,wFA3CpBP,EAAAA,EAAAA,IAwDM,MAxDNC,GAwDM,cAtDJO,EAAAA,EAAAA,IAKM,OALDD,MAAM,gEAA8D,EACvEC,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAAkF,MAA9ED,MAAM,gDAA+C,yBACzDC,EAAAA,EAAAA,IAAoF,KAAjFD,MAAM,wBAAuB,wDAAgD,iBAKpFC,EAAAA,EAAAA,IAAwF,MAApFD,MAAM,2CAAyC,EAACC,EAAAA,EAAAA,IAA+B,SAA5B,8BAAwB,KAE/EA,EAAAA,EAAAA,IAyCM,MAzCNC,GAyCM,EAxCJD,EAAAA,EAAAA,IAuCQ,QAvCRY,GAuCQ,cAtCNZ,EAAAA,EAAAA,IAUQ,eATNA,EAAAA,EAAAA,IAQK,MARDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAA+F,MAA3FD,MAAM,+EAA8E,OACxFC,EAAAA,EAAAA,IAA2G,MAAvGD,MAAM,+EAA8E,mBACxFC,EAAAA,EAAAA,IAA2G,MAAvGD,MAAM,+EAA8E,mBACxFC,EAAAA,EAAAA,IAAqG,MAAjGD,MAAM,+EAA8E,aACxFC,EAAAA,EAAAA,IAAqG,MAAjGD,MAAM,+EAA8E,aACxFC,EAAAA,EAAAA,IAAmG,MAA/FD,MAAM,+EAA8E,WACxFC,EAAAA,EAAAA,IAAmG,MAA/FD,MAAM,+EAA8E,cAAM,KAGlGC,EAAAA,EAAAA,IA0BQ,6BAzBNR,EAAAA,EAAAA,IAwBK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAxBmBf,EAAA4S,YAAbC,K,WAAX1T,EAAAA,EAAAA,IAwBK,MAxBgC+B,IAAK2R,EAAU3T,GAAIQ,MAAM,oB,EAC5DC,EAAAA,EAAAA,IAAiF,KAAjFc,IAAiFW,EAAAA,EAAAA,IAApByR,EAAU3T,IAAE,IACzES,EAAAA,EAAAA,IAA6F,KAA7Fe,IAA6FU,EAAAA,EAAAA,IAAhCyR,EAAU6I,gBAAc,IACrF/b,EAAAA,EAAAA,IAAmF,KAAnFkB,IAAmFO,EAAAA,EAAAA,IAAtByR,EAAUtT,MAAI,IAC3EI,EAAAA,EAAAA,IAAuF,KAAvFwB,IAAuFC,EAAAA,EAAAA,IAA1ByR,EAAU5R,UAAQ,IAC/EtB,EAAAA,EAAAA,IAA8F,KAA9F0B,IAA8FD,EAAAA,EAAAA,IAAjCyR,EAAUvB,SAASjL,QAAM,IACtF1G,EAAAA,EAAAA,IAUK,KAVL4B,GAUK,EATH5B,EAAAA,EAAAA,IAQM,OARAD,OAAKiB,EAAAA,EAAAA,IAAA,C,8DAAoG,eAAhBkS,EAAUrR,O,4DAAuH,cAAhBqR,EAAUrR,O,0DAAoH,cAAhBqR,EAAUrR,O,gEAA0H,yBAAhBqR,EAAUrR,O,gEAAqI,eAAhBqR,EAAUrR,W,QAOtjBqR,EAAUrR,QAAM,MAGvB7B,EAAAA,EAAAA,IAMK,KANL8B,GAMK,EALH9B,EAAAA,EAAAA,IAIS,UAJAE,QAAKE,GAAEgC,EAAA6a,yBAAyB/J,EAAU3T,IAAKQ,MAAM,8C,EAC5DL,EAAAA,EAAAA,IAEYgD,EAAA,CAFDC,IAAI,yCAAyCC,QAAQ,QAC9DC,OAAO,oCAAoCC,MAAA,gC,2BAmB7D,QACElD,KAAM,aACN6I,IAAAA,GACE,MAAO,CAELC,OAAQC,wBACRsK,WAAY,GAKhB,EACA,aAAMtJ,SAEEC,KAAKsT,8BAEX,MAAMpT,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,uCACboH,SAASE,KAAKC,YAAYJ,EAC5B,EACAK,QAAS,CAEP,iCAAM+S,GACJ,MAAMtS,EAAQC,aAAaC,QAAQ,SACnC,IACE,MAAMC,QAAiBC,MAAM,GAAGpB,KAAKlB,6BAA8B,CACjEuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAM+R,QAA+BpS,EAASO,OAC9C1B,KAAKqJ,WAAakK,EAAuB5R,KAAI2H,IAAQ,CACnD3T,GAAI2T,EAAU3T,GACdK,KAAMsT,EAAUtT,KAAK4P,MAAM,OAAO,GAClClO,SAAU4R,EAAU5R,SACpBqQ,SAAUuB,EAAUvB,SACpB9P,OAAQqR,EAAUrR,OAClBka,eAAe7I,EAAU6I,kBAE7B,CAAE,MAAOtQ,GACPjB,QAAQiB,MAAM,0CAA2CA,EAC3D,CACF,EAEA,8BAAMwR,CAAyB1B,GAC7B,MAAMnO,GAAOC,EAAAA,GAAAA,MACPzC,EAAQC,aAAaC,QAAQ,SAC7BsS,EAAgBC,QAAQ,mDAC9B,GAAKD,EACL,IAEE,MAAMrS,QAAiBC,MAAM,GAAGpB,KAAKlB,4BAA4B6S,IAAgB,CAC/EtQ,OAAQ,SACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGhBgC,EAAMM,QAAQ,kCAGhB9D,KAAKsT,6BAGP,CAAE,MAAOzR,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,IC1IJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCRO1L,MAAM,gC,IACJA,MAAM,gE,IAOJA,MAAM,wB,IA8BJA,MAAM,+D,IAGJA,MAAM,+C,+BAWJA,MAAM,iD,IACFA,MAAM,sF,IAWHA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,wC,eAcbA,MAAM,iD,IACFA,MAAM,sF,IAWHA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,wC,UAYcA,MAAM,oB,oBAaxCA,MAAM,8B,IAGHA,MAAM,oB,IACJA,MAAM,Q,IAMNA,MAAM,Q,IAEJA,MAAM,Q,IAcRA,MAAM,Q,IAEJA,MAAM,6C,IAEJA,MAAM,kB,+EAWkBA,MAAM,wB,IAYpCA,MAAM,yB,IACD0F,KAAK,SAAS1F,MAAM,gE,IAS7BA,MAAM,kC,IAOJA,MAAM,+C,IAEJA,MAAM,+C,IAuBVA,MAAM,iD,IACFA,MAAM,0E,IAcHA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IAEAA,MAAM,iB,IAGZA,MAAM,iD,IACNA,MAAM,iD,IACHA,MAAM,iC,kCAsBhBA,MAAM,4B,IACJA,MAAM,uE,oBAMJA,MAAM,wE,uJA/QjBP,EAAAA,EAAAA,IAwRM,MAxRNC,GAwRM,EAvRJO,EAAAA,EAAAA,IAsHM,MAtHNC,GAsHM,gBArHJD,EAAAA,EAAAA,IAIM,aAHJA,EAAAA,EAAAA,IAA+D,MAA3DD,MAAM,iCAAiC,oBAC3CC,EAAAA,EAAAA,IACsD,KADnDD,MAAM,yBAAwB,2HACiB,KAGpDC,EAAAA,EAAAA,IAoBM,MApBNY,GAoBM,EAnBJZ,EAAAA,EAAAA,IAeM,aATJA,EAAAA,EAAAA,IAQS,UAPPD,MAAM,yHACLG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,WAAY,I,gBACpBN,EAAAA,EAAAA,IAGM,OAHDD,MAAM,eAAeQ,KAAK,OAAOC,OAAO,eAAe,eAAa,IAAIC,QAAQ,YACnFC,MAAM,8B,EACNV,EAAAA,EAAAA,IAA+E,QAAzE,iBAAe,QAAQ,kBAAgB,QAAQW,EAAE,qB,YACnD,wBAUaN,EAAA0C,mBAAgB,WAAzCC,EAAAA,EAAAA,IAC+EC,EAAA,C,MADnCC,MAAG/C,EAAA,KAAAA,EAAA,GAAAC,GAAEgC,EAAAkb,cAAc1T,KAAK2T,kBACvDla,KAAElD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA0C,kBAAmB,GAAQO,QAAKnD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA0C,kBAAmB,O,eACxD1C,EAAAmd,kBAAe,WAA7Bxa,EAAAA,EAAAA,IAoFSmR,EAAA,C,MApFuB7Q,QAAKnD,EAAA,KAAAA,EAAA,GAAAC,GAAEgC,EAAAqb,qB,mBAErC,IAAgE,gBAAhEzd,EAAAA,EAAAA,IAAgE,MAA5DD,MAAM,8BAA6B,wBAAoB,mBAC3DC,EAAAA,EAAAA,IAAiC,MAA7BD,MAAM,wBAAsB,WAEhCC,EAAAA,EAAAA,IA4EM,MA5ENc,GA4EM,EAzEJd,EAAAA,EAAAA,IAMM,MANNe,GAMM,EALJf,EAAAA,EAAAA,IAA0D,SAAnDyF,KAAK,OAAQC,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwO,cAAAxO,EAAAwO,gBAAArM,IAAcmZ,OAAO,Q,UACjD1d,EAAAA,EAAAA,IAGS,UAHA6F,UAAWxF,EAAAkY,KAAOrY,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwD,YAAAxD,EAAAwD,cAAArB,IAChCxE,MAAM,iHAAgH,WAExH,EAAAmB,MAISb,EAAA6b,WAAWxV,SAAM,WAA5BlH,EAAAA,EAAAA,IA0BM,MAAAgC,GAAA,gBAzBJxB,EAAAA,EAAAA,IAAqE,MAAjED,MAAM,qCAAoC,sBAAkB,KAChEC,EAAAA,EAAAA,IAuBM,MAvBN0B,GAuBM,EAtBJ1B,EAAAA,EAAAA,IAqBQ,QArBR4B,GAqBQ,gBApBN5B,EAAAA,EAAAA,IAOQ,eANNA,EAAAA,EAAAA,IAKK,MALDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAAsF,MAAlFD,MAAM,oEAAmE,SAC7EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,oEAAmE,UAC7EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,oEAAmE,UAC7EC,EAAAA,EAAAA,IAAsF,MAAlFD,MAAM,oEAAmE,YAAI,KAGrFC,EAAAA,EAAAA,IAWQ,6BAVNR,EAAAA,EAAAA,IASK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAT0Bf,EAAA6b,YAAU,CAA7BtK,EAAS/K,M,WAArBrH,EAAAA,EAAAA,IASK,MATuC+B,IAAKsF,GAAK,EACpD7G,EAAAA,EAAAA,IAAiF,KAAjF8B,IAAiFL,EAAAA,EAAAA,IAApBmQ,EAAQhS,MAAI,IACzEI,EAAAA,EAAAA,IAAkF,KAAlFgC,IAAkFP,EAAAA,EAAAA,IAArBmQ,EAAQ2K,OAAK,IAC1Evc,EAAAA,EAAAA,IAAkF,KAAlFkC,IAAkFT,EAAAA,EAAAA,IAArBmQ,EAAQE,OAAK,IAC1E9R,EAAAA,EAAAA,IAIK,KAJLmC,GAIK,gBAHH3C,EAAAA,EAAAA,IAEM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFuCwQ,EAAQG,MAAI,CAA3BlN,EAAOtD,M,WAArC/B,EAAAA,EAAAA,IAEM,OAFDO,MAAM,WAAiDwB,IAAKA,I,QAC5DA,GAAM,MAAEE,EAAAA,EAAAA,IAAGoD,GAAK,M,4CAUtBxE,EAAAsd,eAAejX,SAAM,WAAhClH,EAAAA,EAAAA,IA0BM,MAAA+C,GAAA,gBAzBJvC,EAAAA,EAAAA,IAA+D,MAA3DD,MAAM,qCAAoC,gBAAY,KAC1DC,EAAAA,EAAAA,IAuBM,MAvBNwC,GAuBM,EAtBJxC,EAAAA,EAAAA,IAqBQ,QArBRoR,GAqBQ,gBApBNpR,EAAAA,EAAAA,IAOQ,eANNA,EAAAA,EAAAA,IAKK,MALDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAAsF,MAAlFD,MAAM,oEAAmE,SAC7EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,oEAAmE,UAC7EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,oEAAmE,UAC7EC,EAAAA,EAAAA,IAAsF,MAAlFD,MAAM,oEAAmE,YAAI,KAGrFC,EAAAA,EAAAA,IAWQ,6BAVNR,EAAAA,EAAAA,IASK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAT0Bf,EAAAsd,gBAAc,CAAjC/L,EAAS/K,M,WAArBrH,EAAAA,EAAAA,IASK,MAT2C+B,IAAKsF,GAAK,EACxD7G,EAAAA,EAAAA,IAAiF,KAAjF0D,IAAiFjC,EAAAA,EAAAA,IAApBmQ,EAAQhS,MAAI,IACzEI,EAAAA,EAAAA,IAAkF,KAAlF2D,IAAkFlC,EAAAA,EAAAA,IAArBmQ,EAAQ2K,OAAK,IAC1Evc,EAAAA,EAAAA,IAAkF,KAAlFwR,IAAkF/P,EAAAA,EAAAA,IAArBmQ,EAAQE,OAAK,IAC1E9R,EAAAA,EAAAA,IAIK,KAJLgE,GAIK,gBAHHxE,EAAAA,EAAAA,IAEM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFuCwQ,EAAQG,MAAI,CAA3BlN,EAAOtD,M,WAArC/B,EAAAA,EAAAA,IAEM,OAFDO,MAAM,WAAiDwB,IAAKA,I,QAC5DA,GAAM,MAAEE,EAAAA,EAAAA,IAAGoD,GAAK,M,4CAUtBxE,EAAAsd,eAAejX,SAAM,WAAhClH,EAAAA,EAAAA,IAKM,MALNyE,GAKM,EAJJjE,EAAAA,EAAAA,IAGS,UAHA6F,UAAWxF,EAAAkY,KAAOrY,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAua,WAAAva,EAAAua,aAAApY,IAChCxE,MAAM,iHAAgH,WAExH,EAAAoE,QAAA,oB,oCAQU9D,EAAAC,YAAS,WAA3B0C,EAAAA,EAAAA,IA4Da4a,EAAA,C,MA5DiBta,QAAOlB,EAAA2B,Y,mBACnC,IAA4F,EAA5F/D,EAAAA,EAAAA,IAA4F,KAA5FoE,IAA4F3C,EAAAA,EAAAA,IAAlDpB,EAAAwd,UAAY,eAAiB,eAApB,kBACnD7d,EAAAA,EAAAA,IAAiC,MAA7BD,MAAM,wBAAsB,WAChCC,EAAAA,EAAAA,IAwDO,QAxDAqQ,SAAMlQ,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAA0b,YAAA1b,EAAA0b,cAAAvZ,IAAU,cAAEhF,GAAG,cAAcQ,MAAM,sB,EACxDC,EAAAA,EAAAA,IA+CM,MA/CN2E,GA+CM,EA9CJ3E,EAAAA,EAAAA,IAIM,MAJN8E,GAIM,gBAHJ9E,EAAAA,EAAAA,IAAmG,SAA5FuQ,IAAI,OAAOxQ,MAAM,6B,UAA4B,SAAIC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cACpFC,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,qCAAgBpF,EAAAuR,QAAQhS,KAAIQ,GAAEb,GAAG,OAAO8E,YAAY,OAAOI,SAAA,GACrE1E,MAAM,mD,iBADoBM,EAAAuR,QAAQhS,WAItCI,EAAAA,EAAAA,IAWM,MAXNiF,GAWM,gBAVJjF,EAAAA,EAAAA,IAA4G,SAArGuQ,IAAI,QAAQxQ,MAAM,6B,UAA4B,iBAAYC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,KAC7FC,EAAAA,EAAAA,IAQM,MARNoF,GAQM,WAPJpF,EAAAA,EAAAA,IAIS,U,qCAJQK,EAAAuR,QAAQmM,YAAW3d,GAAEL,MAAM,wD,gBAC1CC,EAAAA,EAAAA,IAA6B,UAArB6E,MAAM,KAAI,MAAE,IACpB7E,EAAAA,EAAAA,IAA+B,UAAvB6E,MAAM,MAAK,OAAG,IACtB7E,EAAAA,EAAAA,IAA+B,UAAvB6E,MAAM,MAAK,OAAG,iBAHPxE,EAAAuR,QAAQmM,gBAAW,SAKpC/d,EAAAA,EAAAA,IAC4D,SADrDyF,KAAK,O,uCAAgBpF,EAAAuR,QAAQE,MAAK1R,GAAEb,GAAG,QAAQ8E,YAAY,eAAeI,SAAA,GAC/E1E,MAAM,qD,iBADoBM,EAAAuR,QAAQE,aAAK,eAI7C9R,EAAAA,EAAAA,IAAkE,SAA3DuQ,IAAI,QAAQxQ,MAAM,6BAA4B,SAAK,cAC1DC,EAAAA,EAAAA,IAC+D,SADxDyF,KAAK,Q,uCAAiBpF,EAAAuR,QAAQ2K,MAAKnc,GAAEb,GAAG,QAAQ8E,YAAY,QACjEtE,MAAM,wD,iBADqBM,EAAAuR,QAAQ2K,UAGrCvc,EAAAA,EAAAA,IAuBM,MAvBNuF,GAuBM,EArBJvF,EAAAA,EAAAA,IAgBM,MAhBNwF,GAgBM,EAdJxF,EAAAA,EAAAA,IAaM,MAbNiG,GAaM,gBAZJzG,EAAAA,EAAAA,IAWM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAXwCf,EAAAuR,QAAQG,MAAI,CAA3BC,EAAKnL,M,WAApCrH,EAAAA,EAAAA,IAWM,OAXDO,MAAM,YAAkDwB,IAAKsF,EAChE/D,MAAA,yC,WACA9C,EAAAA,EAAAA,IACmF,SAD5EyF,KAAK,O,yBAAgBuM,EAAIzQ,IAAGnB,EAAEiE,YAAY,MAAMI,SAAA,GACrD1E,MAAM,uDAAuD+C,MAAA,e,kBADnCkP,EAAIzQ,QAAG,SAEnCvB,EAAAA,EAAAA,IACsG,SAD/FyF,KAAK,O,yBAAgBuM,EAAInN,MAAKzE,EAAEiE,YAAY,QAAQI,SAAA,GACzD1E,MAAM,uDAAuD+C,MAAA,oC,kBADnCkP,EAAInN,UAEhC7E,EAAAA,EAAAA,IAGS,UAHDyF,KAAK,SAAUvF,QAAKE,GAAEgC,EAAA4b,UAAUnX,GAAQ9G,MAAM,iD,EACpDL,EAAAA,EAAAA,IACwFgD,EAAA,CAD7EC,IAAI,yCAAyCC,QAAQ,QAC9DC,OAAO,oCAAoCC,MAAA,gC,MAEnCzC,EAAA+F,cAAW,WAAvB5G,EAAAA,EAAAA,IAA8E,OAA9EmH,IAA8ElF,EAAAA,EAAAA,IAArBpB,EAAA+F,aAAW,yB,WAI1EpG,EAAAA,EAAAA,IAEc,UAFNyF,KAAK,SAAUvF,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA6b,QAAA7b,EAAA6b,UAAA1Z,IAC5BxE,MAAM,mEAAkE,kBAO9EC,EAAAA,EAAAA,IAIM,MAJNke,GAIM,EAHJle,EAAAA,EAAAA,IAES,SAFT+G,IAEStF,EAAAA,EAAAA,IADJpB,EAAAwd,UAAY,iBAAmB,eAAtB,a,8CAQpB7d,EAAAA,EAAAA,IA4BM,MA5BNkH,GA4BM,gBA1BJlH,EAAAA,EAAAA,IAA2E,MAAvED,MAAM,0CAAwC,EAACC,EAAAA,EAAAA,IAAmB,SAAhB,kBAAY,KAKlEA,EAAAA,EAAAA,IAoBM,MApBNsS,GAoBM,EAlBJtS,EAAAA,EAAAA,IAWM,MAXNyH,GAWM,gBAVJzH,EAAAA,EAAAA,IAA8C,MAA1CD,MAAM,UAAQ,EAACC,EAAAA,EAAAA,IAAsB,SAAnB,qBAAe,cAErCA,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,uCAAgBmC,EAAAyJ,QAAOjR,GAAEiE,YAAY,MAC/CtE,MAAM,mD,iBADoB6H,EAAAyJ,YAAO,SAEnCrR,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,uCAAgBmC,EAAA0J,UAASlR,GAAEiE,YAAY,QACjDtE,MAAM,mD,iBADoB6H,EAAA0J,cAG5BtR,EAAAA,EAAAA,IAEiB,UAFRE,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAmP,cAAAnP,EAAAmP,gBAAAhN,IACdxE,MAAM,8EAA6E,mBAIvFC,EAAAA,EAAAA,IAIM,aAHJA,EAAAA,EAAAA,IAES,UAFAE,QAAKC,EAAA,MAAAA,EAAA,IAAAC,GAAEC,EAAAmd,iBAAkB,GAAMzd,MAAM,wD,gBAC5CC,EAAAA,EAAAA,IAA8B,KAA3BD,MAAM,kBAAgB,kBAAK,0BAQtCC,EAAAA,EAAAA,IA4CM,MA5CN0H,GA4CM,EA3CJ1H,EAAAA,EAAAA,IA0CQ,QA1CR2H,GA0CQ,gBAzCN3H,EAAAA,EAAAA,IAUQ,eATNA,EAAAA,EAAAA,IAQK,MARDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAAmF,MAA/ED,MAAM,mEAAkE,OAC5EC,EAAAA,EAAAA,IAAqF,MAAjFD,MAAM,mEAAkE,SAC5EC,EAAAA,EAAAA,IAA6F,MAAzFD,MAAM,mEAAkE,iBAC5EC,EAAAA,EAAAA,IAAsF,MAAlFD,MAAM,mEAAkE,UAC5EC,EAAAA,EAAAA,IAAqF,MAAjFD,MAAM,mEAAkE,SAC5EC,EAAAA,EAAAA,IAA2F,MAAvFD,MAAM,mEAAkE,eAC5EC,EAAAA,EAAAA,IAAuF,MAAnFD,MAAM,mEAAkE,cAAM,KAGtFC,EAAAA,EAAAA,IA6BQ,6BA5BNR,EAAAA,EAAAA,IA2BK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA3BiBf,EAAAsR,UAAXC,K,WAAXpS,EAAAA,EAAAA,IA2BK,MA3B4B+B,IAAKqQ,EAAQrS,GAAIQ,MAAM,oB,EACtDC,EAAAA,EAAAA,IAA+E,KAA/EwS,IAA+E/Q,EAAAA,EAAAA,IAAlBmQ,EAAQrS,IAAE,IACvES,EAAAA,EAAAA,IAAiF,KAAjF2S,IAAiFlR,EAAAA,EAAAA,IAApBmQ,EAAQhS,MAAI,IACzEI,EAAAA,EAAAA,IAAkF,KAAlF4S,IAAkFnR,EAAAA,EAAAA,IAArBmQ,EAAQE,OAAK,IAC1E9R,EAAAA,EAAAA,IAAkF,KAAlF6S,IAAkFpR,EAAAA,EAAAA,IAArBmQ,EAAQ2K,OAAK,IAC1Evc,EAAAA,EAAAA,IAIK,KAJL+S,GAIK,gBAHHvT,EAAAA,EAAAA,IAEM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFsBwQ,EAAQG,MAAI,CAA3BC,EAAKnL,M,WAAlBrH,EAAAA,EAAAA,IAEM,OAFqC+B,IAAKsF,GAAK,EACnD7G,EAAAA,EAAAA,IAAiD,OAAjDgT,IAAiDvR,EAAAA,EAAAA,IAAlBuQ,EAAIzQ,KAAM,IAAC,YAAO,KAACE,EAAAA,EAAAA,IAAGuQ,EAAInN,OAAK,Q,SAGlE7E,EAAAA,EAAAA,IAAmG,KAAnGmT,IAAmG1R,EAAAA,EAAAA,IAAtCW,EAAA+b,WAAWvM,EAAQqH,aAAU,IAC1FjZ,EAAAA,EAAAA,IAeK,KAfLoT,GAeK,EAdHpT,EAAAA,EAAAA,IAaM,MAbNqT,GAaM,EAZJrT,EAAAA,EAAAA,IAIS,UAJAE,QAAKE,GAAEgC,EAAAgc,cAAcxM,GAAU7R,MAAM,8C,EAC5CL,EAAAA,EAAAA,IAEYgD,EAAA,CAFDC,IAAI,yCAAyCC,QAAQ,QAC9DE,MAAA,gC,OAKJ9C,EAAAA,EAAAA,IAIS,UAJAE,QAAKE,GAAEgC,EAAAK,sBAAsBmP,EAAQE,OAAQ/R,MAAM,8C,EAC1DL,EAAAA,EAAAA,IAEYgD,EAAA,CAFDC,IAAI,yCAAyCC,QAAQ,QAC9DC,OAAO,oCAAoCC,MAAA,gC,4BAY3D9C,EAAAA,EAAAA,IAcM,MAdNwT,GAcM,EAbJxT,EAAAA,EAAAA,IAYM,MAZN2T,GAYM,EAXJ3T,EAAAA,EAAAA,IAIS,UAHPD,MAAM,2HACLG,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA0R,kBAAA1R,EAAA0R,oBAAAvP,IAAmBsB,SAA0B,IAAhBxF,EAAA0T,aAAmB,aAE1D,EAAAH,KACA5T,EAAAA,EAAAA,IAEM,MAFN6T,IAEMpS,EAAAA,EAAAA,IADDpB,EAAA0T,aAAW,IAEhB/T,EAAAA,EAAAA,IAES,UAFDD,MAAM,2EAA4EG,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA8R,cAAA9R,EAAA8R,gBAAA3P,KAAc,e,kBClRhHxE,MAAM,2G,IACJA,MAAM,+B,IACJA,MAAM,Q,2CAFfP,EAAAA,EAAAA,IAQM,MARNC,GAQM,EAPJO,EAAAA,EAAAA,IAMM,MANNC,GAMM,EALJD,EAAAA,EAAAA,IAEM,MAFNY,GAEM,EADJZ,EAAAA,EAAAA,IAA0D,QAApDD,MAAM,QAASG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEwH,EAAAC,MAAM,WAAU,QAG9CE,EAAAA,EAAAA,IAAOH,EAAAI,OAAA,kBAAAC,GAAA,M,CAQb,QACErI,KAAM,cCTR,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UF2RA,IACEsI,WAAY,CACV6O,OAAM,GACNsH,WAAU,GACVjW,kBAAiBA,IAEnB,aAAMuB,SACEC,KAAK0U,mBAGX,MAAMxU,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,uCACboH,SAASE,KAAKC,YAAYJ,EAC5B,EACAlK,KAAM,YACN6I,IAAAA,GACE,MAAO,CACLC,OAAQC,wBACRoL,YAAa,EACbzT,WAAW,EACXkd,iBAAiB,EACjBe,iBAAiB,EACjBxb,kBAAkB,EAClBwV,KAAM,KACNoF,eAAgB,GAChBzB,WAAY,GACZtK,QAAS,CACPrS,GAAI,GACJK,KAAM,GACN2c,MAAO,GACPzK,MAAO,GACPiM,YAAa,GACbhM,KAAM,GAGNV,QAAS,GACTC,UAAW,IAEbiM,gBAAiB,KACjB5L,SAAU,GACVkM,WAAW,EACXW,YAAa,GACbC,YAAa,KACbC,OAAQ,aACRzS,MAAO,OACP0S,WAAY,GACZvY,YAAa,GAEjB,EACAwW,SAAU,CACRgC,gBAAAA,GACE,MAAMC,EAAcjV,KAAK4U,YAAYzQ,cAC/B+Q,EAAalV,KAAK+U,WAAW5Q,cAEnC,OAAOnE,KAAK+H,SACTlC,QAAOmC,IACN,MAAMmN,EAAenN,EAAQE,MAAM/D,cAAc2K,SAASmG,GACpDG,EAAcpN,EAAQhS,KAAKmO,cAAc2K,SAASoG,GAClDG,GAAarV,KAAK6U,aACpB7M,EAAQG,KAAKmN,MAAKlN,GAAOA,EAAIzQ,IAAIwM,gBAAkBnE,KAAK6U,YAAY1Q,gBAExE,OAAQgR,GAAgBC,IAAgBC,IAE9C,EACAE,UAAAA,GACE,MAAMC,EAAUxV,KAAK+H,SAAS0N,SAAQzN,GAAWA,EAAQG,KAAKxG,KAAIyG,GAAOA,EAAIzQ,QAC7E,MAAO,IAAI,IAAI0N,IAAImQ,GACrB,EACAE,aAAAA,GACE,OAAO1V,KAAK+H,SAASpG,KAAIqG,IAAM,IAC1BA,EACH0N,cAAe1N,EAAQG,KAAKxG,KAAIyG,GAAO,GAAGA,EAAIzQ,QAAQyQ,EAAInN,UAASuV,KAAK,SAE5E,GAEFjQ,QAAS,CAEP1H,qBAAAA,CAAsBqP,GACpBlI,KAAK2T,gBAAkBzL,EACvBlI,KAAK7G,kBAAmB,CAC1B,EAEA,kBAAMmR,GACJ,MAAMqL,EAAO3V,KAAK+H,SAAS,IAAIpS,SACzBqK,KAAK0U,iBAAiB1U,KAAKmK,YAAc,GAC/C,MAAM2D,EAAW9N,KAAK+H,SAAS,IAAIpS,GAC/BggB,IAAS7H,GAAY9N,KAAK+H,SAASjL,OAAS,IAC9CkD,KAAKmK,aAAe,EAGxB,EACA,sBAAMD,GACAlK,KAAKmK,YAAc,IACrBnK,KAAKmK,aAAe,QACdnK,KAAK0U,iBAAiB1U,KAAKmK,aAErC,EAEA,gBAAM+J,GACJ,MAAM1Q,GAAQC,EAAAA,GAAAA,OACR,GAAE9N,EAAE,KAAEK,EAAI,MAAE2c,EAAK,MAAEzK,EAAK,YAAEiM,EAAW,KAAEhM,GAASnI,KAAKgI,QAE3D,IAAI4N,EAAkB1N,EAKtB,GAJIiM,GAAsC,KAAvBA,EAAYjR,SAC7B0S,EAAkB,GAAGzB,IAAcjM,KAGjCC,EAAKmN,MAAKlN,GAAmB,KAAZA,EAAIzQ,KAA4B,KAAdyQ,EAAInN,QAEzC,YADA+E,KAAKxD,YAAc,2CAIrB,MAAMqZ,EAAW1N,EAAKxG,KAAIyG,GAAO,GAAGA,EAAIzQ,OAAOyQ,EAAInN,UAE7CyC,EAAM/H,EAAK,GAAGqK,KAAKlB,mBAAmBnJ,IAAO,GAAGqK,KAAKlB,mBACrDuC,EAAS1L,EAAK,MAAQ,OACtBqL,EAAQC,aAAaC,QAAQ,SAEnC,IACE,MAAMC,QAAiBC,MAAM1D,EAAK,CAChC2D,OAAQA,EACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAU,CAAExb,OAAM2c,QAAOzK,MAAO0N,EAAiBzN,KAAM0N,MAGpE,GAAI1U,EAASI,GACXiC,EAAMM,QAAQnO,EAAK,+BAAiC,gCACpDqK,KAAKuE,YACLvE,KAAK0U,uBACA,CACL,MAAMpQ,QAAkBnD,EAASO,OACjC8B,EAAM3B,MAAM,UAAUyC,EAAUN,SAClC,CACF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,wBAAyBA,GACvC2B,EAAM3B,MAAM,uBAEd,CACF,EACA0C,SAAAA,GACEvE,KAAKgI,QAAU,CACbrS,GAAI,GACJK,KAAM,GACN2c,MAAO,GACPzK,MAAO,GACPC,KAAM,IAERnI,KAAKtJ,WAAY,CACnB,EACAyD,UAAAA,GACE6F,KAAKtJ,WAAY,EACjBsJ,KAAKuE,WACP,EACAgQ,UAAAA,CAAWuB,GACT,MAAMC,EAAU,CAAEhG,KAAM,UAAWF,MAAO,QAASJ,IAAK,WAClDD,EAAO,IAAIyB,KAAK6E,GACtB,OAAOtG,EAAKwG,mBAAmB,QAASD,GAAS1S,QAAQ,KAAM,GACjE,EAGJ,sBAAMqR,CAAiBxF,EAAO,GAC5B,MAAMlO,EAAQC,aAAaC,QAAQ,SAC7BiO,EAAe,GAEfzR,EAAM,GAAGsC,KAAKlB,wDAAwDqQ,aAAwBD,EAAO,GAAKC,IAEhH,IACE,MAAMhO,QAAiBC,MAAM1D,EAAK,CAChC2D,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMkR,QAAqBvR,EAASO,OAGpC,GAFAd,QAAQC,IAAI6R,GAEgB,IAAxBA,EAAa5V,OACf,OAEFkD,KAAK+H,SAAW2K,EAAa/Q,KAAKqG,IAAO,CACvCrS,GAAIqS,EAAQrS,GACZK,KAAMgS,EAAQhS,KACdkS,MAAOF,EAAQE,MACfyK,MAAO3K,EAAQ2K,MACfxK,KAAMH,EAAQG,KAAKxG,KAAIyG,IACrB,MAAOzQ,EAAKsD,GAASmN,EAAIxC,MAAM,KAC/B,MAAO,CAAEjO,MAAKsD,YAEhBoU,WAAYrH,EAAQqH,WACpBC,WAAYtH,EAAQsH,cAExB,CAAE,MAAOzN,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,EAGI,kBAAM8F,GACJ,MAAM3G,EAAQC,aAAaC,QAAQ,SAC7BsR,EAAWxS,KAAK0H,UAChB+K,EAASzS,KAAKyH,QACpB,IAEE,MAAMtG,QAAiBC,MAAM,GAAGpB,KAAKlB,yCAAyC2T,eAAoBD,IAAY,CAC5GnR,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAKd0R,QAAqBvR,EAASO,OAcpC,GAbA1B,KAAK+H,SAAW2K,EAAa/Q,KAAKqG,IAAO,CACvCrS,GAAIqS,EAAQrS,GACZK,KAAMgS,EAAQhS,KACdkS,MAAOF,EAAQE,MACfyK,MAAO3K,EAAQ2K,MACfxK,KAAMH,EAAQG,KAAKxG,KAAIyG,IACrB,MAAOzQ,EAAKsD,GAASmN,EAAIxC,MAAM,KAC/B,MAAO,CAAEjO,MAAKsD,YAEhBoU,WAAYrH,EAAQqH,WACpBC,WAAYtH,EAAQsH,gBAGjBnO,EAASI,GACZ,MAAM,IAAIC,MAAM,0BAGpB,CAAE,MAAOK,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,EACAoU,gBAAAA,GACEjW,KAAK2U,iBAAkB,EACvB3U,KAAK2T,gBAAkB,IACzB,EACAa,aAAAA,CAAcxM,GACZhI,KAAKiU,WAAY,EACjBjU,KAAK2T,gBAAkB3L,EACvBhI,KAAKgI,QAAU,IAAKhI,KAAK2T,iBACzB3T,KAAKtJ,WAAY,EACjBsJ,KAAKiW,kBACP,EACA,mBAAMvC,CAAcxL,GAClB,MAAM1E,GAAQC,EAAAA,GAAAA,MACdzD,KAAK7G,kBAAmB,EAGxB,MAAM6H,EAAQC,aAAaC,QAAQ,SACnC,IACE,MAAMC,QAAiBC,MAAM,GAAGpB,KAAKlB,mBAAmBoJ,IAAS,CAC/D7G,OAAQ,SACRC,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,sBAIpB,GAAIG,EAASI,GACXiC,EAAMM,QAAQ,gCACd9D,KAAK0U,mBACL1U,KAAKiW,uBACA,CACL,MAAM3R,QAAkBnD,EAASO,OACjC8B,EAAM3B,MAAM,UAAUyC,EAAUN,SAClC,CACF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,0BAA2BA,GACzC2B,EAAM3B,MAAM,yBAEd,CACF,EAKAwS,MAAAA,GACErU,KAAKxD,YAAc,GACnB,MAAM0Z,EAAUlW,KAAKgI,QAAQG,KAAKnI,KAAKgI,QAAQG,KAAKrL,OAAS,GAC5B,IAA7BkD,KAAKgI,QAAQG,KAAKrL,QAAiC,KAAhBoZ,EAAQve,KAAgC,KAAlBue,EAAQjb,MACnE+E,KAAKgI,QAAQG,KAAKxH,KAAK,CAAEhJ,IAAK,GAAIsD,MAAO,KAEzC+E,KAAKxD,YAAc,iDAEvB,EACA4X,SAAAA,CAAUnX,GACR+C,KAAKgI,QAAQG,KAAK1C,OAAOxI,EAAO,EAClC,EACAkZ,cAAAA,GACEnW,KAAK0U,kBACP,EAEA1N,YAAAA,CAAavC,GACXzE,KAAK2O,KAAOlK,EAAMC,OAAOC,MAAM,EACjC,EACA,gBAAM3I,GACJ,IAAKgE,KAAK2O,KAAM,OAEhB,MAAM/J,EAAW,IAAIC,SACf7D,EAAQC,aAAaC,QAAQ,SACnC0D,EAASE,OAAO,OAAQ9E,KAAK2O,MAE7B,IACE,MAAMxN,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,uBAAwB8F,EAAU,CAC1EtD,QAAS,CAAE,eAAgB,sBAAuBuC,cAAe,UAAU7C,OAI7EhB,KAAK+T,eAAiB5S,EAAStC,KAAKkJ,UAAY,GAChD/H,KAAKsS,WAAanR,EAAStC,KAAKyT,YAAc,EAChD,CAAE,MAAOzQ,GACPjB,QAAQiB,MAAM,4BAA6BA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,QACnF,CACF,EAGA,eAAM6O,GACJ,MAAMvP,GAAQC,EAAAA,GAAAA,MACd,IAAKzD,KAAK2O,KAAM,OAEhB,MAAM/J,EAAW,IAAIC,SACf7D,EAAQC,aAAaC,QAAQ,SACnC0D,EAASE,OAAO,OAAQ9E,KAAK2O,MAE7B,IACE,MAAMxN,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,+BAAgC8F,EAAU,CAClFtD,QAAS,CACP,eAAgB,sBAChBuC,cAAe,UAAU7C,OAKzBG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,KAC9CuL,EAAMM,QAAQ,gCACd9D,KAAK0U,oBAELlR,EAAM3B,MAAM,UAAUV,EAAStC,MAAMmF,QAAU,kBAEnD,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,4BAA6BA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,SACjFV,EAAM3B,MAAM,UAAUA,EAAMV,UAAUtC,MAAMmF,QAAU,yBACxD,CACF,EAEA6P,gBAAAA,GACE7T,KAAK4T,iBAAkB,EACvB5T,KAAK2O,KAAO,KACZ3O,KAAK+T,eAAiB,GACtB/T,KAAKsS,WAAa,EACpB,IGtoBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROnc,MAAM,gC,2CAAXP,EAAAA,EAAAA,IAKI,MALJC,GAKIU,EAAA,KAAAA,EAAA,KAHFH,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,IAClBA,EAAAA,EAAAA,IAAuD,SAApD,oDAAgD,K,CAMrD,QACEJ,KAAM,YACN6I,IAAAA,GAEA,EACA0B,QAAS,CAIT,GCZJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,0sNCROpK,MAAM,gC,IAEJA,MAAM,gE,IAqBNA,MAAM,2D,IACJA,MAAM,wE,IAKNA,MAAM,0C,0EAyCNA,MAAM,sD,UAQNA,MAAM,sD,IA0BNA,MAAM,sC,oHAsEC+C,MAAO,CAAAkd,MAAA,OAAAC,SAAA,S,oHAsFNlgB,MAAM,2D,IAEJA,MAAM,qB,IAEJA,MAAM,Q,IAQNA,MAAM,0C,mBAiBVA,MAAM,2D,IAIJA,MAAM,+B,IACJA,MAAM,Q,IAQNA,MAAM,Q,IASVA,MAAM,2D,IAML+C,MAAO,CAAAkd,MAAA,OAAAC,SAAA,S,IAMRlgB,MAAM,2D,0BAsBbA,MAAM,qF,IAUVA,MAAM,iD,IACDA,MAAM,0E,IAYHA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACNA,MAAM,iD,IACHA,MAAM,uB,iKArXvBP,EAAAA,EAAAA,IAsYM,MAtYNC,GAsYM,EApYJO,EAAAA,EAAAA,IAmBM,MAnBNC,GAmBM,gBAlBJD,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAAgD,MAA5CD,MAAM,sBAAsB,gBAChCC,EAAAA,EAAAA,IAAwC,SAArC,uCAAiC,KAGtCA,EAAAA,EAAAA,IAYM,aAPJA,EAAAA,EAAAA,IAMO,UANCD,MAAM,yHACbG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,WAAY,I,gBAClBN,EAAAA,EAAAA,IAEM,OAFDD,MAAM,eAAeQ,KAAK,OAAOC,OAAO,eAAe,eAAa,IAAIC,QAAQ,YAAYC,MAAM,8B,EACnGV,EAAAA,EAAAA,IAA+E,QAAzE,iBAAe,QAAQ,kBAAgB,QAAQW,EAAE,qB,YACrD,gCAMZX,EAAAA,EAAAA,IAqBM,MArBNY,GAqBM,EApBJZ,EAAAA,EAAAA,IAkBM,MAlBNc,GAkBM,gBAjBJd,EAAAA,EAAAA,IAGM,OAHDD,MAAM,0BAAwB,EACjCC,EAAAA,EAAAA,IAA4F,OAAvF2C,IAAAud,GAA+BC,IAAI,mBAAmBpgB,MAAM,4BACjEC,EAAAA,EAAAA,IAAuD,MAAnDD,MAAM,8BAA6B,iBAAW,KAEpDC,EAAAA,EAAAA,IAKI,IALJe,GAKI,wBAL8C,eAEhDf,EAAAA,EAAAA,IAEO,QAFAD,OAAKiB,EAAAA,EAAAA,IAAa,cAAXX,EAAAwB,OAAyB,iBAAmB,kB,QACrDxB,EAAAwB,QAAM,oBAGb7B,EAAAA,EAAAA,IAEI,KAFDD,MAAM,8BAA6B,uEAEtC,KACAC,EAAAA,EAAAA,IAGS,UAHAE,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA+f,wBAAyB,GACvCrgB,MAAM,2GAA0G,uBASxGM,EAAA+f,yBAAsB,WAApCpd,EAAAA,EAAAA,IA8CSmR,EAAA,C,MA9C8B7Q,QAAKnD,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA+f,wBAAyB,GACrErgB,MAAM,0F,mBAEN,IAA2G,gBAA3GC,EAAAA,EAAAA,IAA2G,SAApGD,MAAM,0CAAwC,UAAC,eAAUC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAC5FC,EAAAA,EAAAA,IACyF,SADlFyF,KAAK,OAAO1F,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,2CAA0C,iBACO,cAAXX,EAAAwB,U,qCADcxB,EAAAggB,WAAUjgB,GACpFyF,SAAoB,aAAVxF,EAAAwB,Q,mBADgExB,EAAAggB,cAAU,eAGvFrgB,EAAAA,EAAAA,IAA6G,SAAtGD,MAAM,0CAAwC,UAAC,iBAAYC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAC9FC,EAAAA,EAAAA,IAEuD,SAFhDyF,KAAK,OAAOlG,GAAG,SAASQ,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,2CAA0C,iBAEvC,cAAXX,EAAAwB,U,qCAF4DxB,EAAAigB,UAASlgB,GAChGiE,YAAY,0BAA2BwB,SAAoB,aAAVxF,EAAAwB,Q,mBADsCxB,EAAAigB,aAAS,eAIlGtgB,EAAAA,EAAAA,IAAgH,SAAzGD,MAAM,0CAAwC,UAAC,oBAAeC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cACjGC,EAAAA,EAAAA,IAEuD,SAFhDyF,KAAK,OAAO1F,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,2CAA0C,iBAE3B,cAAXX,EAAAwB,U,qCAFgDxB,EAAAkgB,aAAYngB,GACvFiE,YAAY,6BAA8BwB,SAAoB,aAAVxF,EAAAwB,Q,mBADuBxB,EAAAkgB,gBAAY,eAIzFvgB,EAAAA,EAAAA,IACyC,SADlCD,MAAM,0CAAwC,UAAC,yBAAoBC,EAAAA,EAAAA,IACzC,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IACyF,SADlFyF,KAAK,OAAO1F,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,2CAA0C,iBACO,cAAXX,EAAAwB,U,qCADcxB,EAAAmgB,SAAQpgB,GAClFyF,SAAoB,aAAVxF,EAAAwB,Q,mBADgExB,EAAAmgB,YAGG,aAAVngB,EAAAwB,SAAM,WAA5ErC,EAAAA,EAAAA,IAMM,MANNsC,GAMM,EALJ9B,EAAAA,EAAAA,IAEa,iCAFV,cAAQA,EAAAA,EAAAA,IAEF,QAFSD,OAAKiB,EAAAA,EAAAA,IAAa,cAAXX,EAAAwB,OAAyB,iBAAmB,kB,QAC9DxB,EAAAwB,QAAM,MAEb7B,EAAAA,EAAAA,IACqD,UAD7CyF,KAAK,SAAS1F,MAAM,gDACzBG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAqe,2BAAAre,EAAAqe,6BAAAlc,KAA2B,gBAAO,WAG9C/E,EAAAA,EAAAA,IAOM,MAPNwC,GAOM,EANJhC,EAAAA,EAAAA,IAEa,iCAFV,eAASA,EAAAA,EAAAA,IAEH,QAFUD,OAAKiB,EAAAA,EAAAA,IAAa,cAAXX,EAAAwB,OAAyB,iBAAmB,kB,QAC/DxB,EAAAwB,QAAM,MAEb7B,EAAAA,EAAAA,IACoD,UAD5CyF,KAAK,SAAS1F,MAAM,gDACzBG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAse,uBAAAte,EAAAse,yBAAAnc,KAAuB,iBAAU,eAI7CvE,EAAAA,EAAAA,IAEM,wB,2CAWMK,EAAAC,YAAS,WAAvB0C,EAAAA,EAAAA,IA6PSmR,EAAA,C,MA7PiB7Q,QAAOlB,EAAA2B,WAC/BhE,MAAM,0F,mBACN,IAA2D,gBAA3DC,EAAAA,EAAAA,IAA2D,MAAvDD,MAAM,qBAAqB,2BAAuB,mBACtDC,EAAAA,EAAAA,IAAmB,MAAfD,MAAM,QAAM,WAChBC,EAAAA,EAAAA,IAsPM,MAtPNkC,GAsPM,EArPJlC,EAAAA,EAAAA,IAoPO,QApPDD,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,YAAW,kCAA0GX,EAAA6D,eAAxGmM,SAAMlQ,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAUgC,EAAAue,sBAAsB/W,KAAKgX,iBAAc,e,EAIhF5gB,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IACyC,SADlCD,MAAM,yCAAyC0E,SAAA,I,UAAS,kBAAazE,EAAAA,EAAAA,IAC3C,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAMS,U,qCANQK,EAAAugB,eAAcxgB,GAC7BL,MAAM,mFAAmF0E,SAAA,I,gBACzFzE,EAAAA,EAAAA,IAAqD,UAA7C6E,MAAM,GAAGgB,SAAA,IAAS,sBAAkB,IAC5C7F,EAAAA,EAAAA,IAAuE,UAA/D6E,MAAM,0BAAyB,2BAAuB,IAC9D7E,EAAAA,EAAAA,IAAsD,UAA9C6E,MAAM,kBAAiB,kBAAc,IAC7C7E,EAAAA,EAAAA,IAAiE,UAAzD6E,MAAM,WAAU,oCAAgC,iBALzCxE,EAAAugB,oBAUW,2BAAnBvgB,EAAAugB,iBAAc,WAAzBphB,EAAAA,EAAAA,IA2EM,MAAA2C,GAAA,gBAxEJnC,EAAAA,EAAAA,IAEQ,SAFDuQ,IAAI,cAAcxQ,MAAM,0C,UAAyC,iBACtEC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAE9BC,EAAAA,EAAAA,IAC2F,SADpFyF,KAAK,OAAOlG,GAAG,c,uCAAuBc,EAAAwgB,wBAAuBzgB,GAClEL,MAAM,oF,iBADqCM,EAAAwgB,2BAAuB,eAIpE7gB,EAAAA,EAAAA,IACyC,SADlCD,MAAM,0CAAwC,UAAC,oBAAeC,EAAAA,EAAAA,IACpC,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAKS,U,uCALQK,EAAA6W,iBAAgB9W,GAAGsF,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAsO,kBAAAtO,EAAAsO,oBAAAnM,IAC1CxE,MAAM,mFAAmF0E,SAAA,I,gBACzFjF,EAAAA,EAAAA,IAES2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFkBf,EAAAgB,WAAZC,K,WAAf9B,EAAAA,EAAAA,IAES,UAF8B+B,IAAKD,EAAS/B,GAAKsF,MAAOvD,I,QAC5DA,EAAS1B,MAAI,EAAA2C,O,mBAHHlC,EAAA6W,oBAOe,OAArB7W,EAAA6W,mBAAgB,WAA3B1X,EAAAA,EAAAA,IAuDM,MAAAgD,GAAA,CArDOnC,EAAAygB,2BAAwB,WAAnCthB,EAAAA,EAAAA,IAGM,MAAA4R,GAAA,gBAFJpR,EAAAA,EAAAA,IAAsE,SAA/DuQ,IAAI,GAAGxQ,MAAM,+BAA8B,gBAAY,KAC9DC,EAAAA,EAAAA,IAA6E,SAAtEyF,KAAK,OAAQC,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAwO,cAAAxO,EAAAwO,gBAAArM,IAAcxE,MAAM,oBAAoB0E,SAAA,I,4BAE3DmD,EAAAiJ,gBAAa,WAAxBrR,EAAAA,EAAAA,IAAkD,MAAAkE,IAAAjC,EAAAA,EAAAA,IAAA,KAAhBwV,SAAO,mCAEzCjX,EAAAA,EAAAA,IACwC,SADjCuQ,IAAI,GAAGxQ,MAAM,0C,UAAyC,2BAAsBC,EAAAA,EAAAA,IACnD,QAA5BD,MAAM,mBAAc,mBACxBP,EAAAA,EAAAA,IAYM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZ4Bf,EAAA0gB,YAAU,CAA/BC,EAAWna,M,WAAxBrH,EAAAA,EAAAA,IAYM,OAZyC+B,IAAKsF,EAAO9G,MAAM,oC,WAE/DC,EAAAA,EAAAA,IAIS,U,yBAJQghB,EAAUzf,IAAGnB,EAAEL,MAAM,4C,gBACpCC,EAAAA,EAAAA,IAAwD,UAAhD6E,MAAM,GAAGgB,SAAA,IAAS,yBAAqB,mBAC/CrG,EAAAA,EAAAA,IACS2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IADgBf,EAAA4gB,kBAAVC,K,WAAf1hB,EAAAA,EAAAA,IACS,UADmC+B,IAAK2f,EAASrc,MAAOqc,EAAO3f,M,QAAQ2f,EAAOC,OAAK,EAAA3P,O,oBAF7EwP,EAAUzf,QAM3BvB,EAAAA,EAAAA,IAGS,UAHAE,SAAK8G,EAAAA,EAAAA,KAAA5G,GAAUgC,EAAAgf,gBAAgBva,IAAK,aAC3C9G,MAAM,iHAAgH,WAExH,EAAAiE,S,OAEFhE,EAAAA,EAAAA,IAGS,UAHAE,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAif,cAAAjf,EAAAif,gBAAA9c,IAAY,cAClCxE,MAAM,6GAA4G,mBAEpH,eAGAC,EAAAA,EAAAA,IACyC,SADlCD,MAAM,0CAAwC,UAAC,mBAAcC,EAAAA,EAAAA,IACnC,QAA7BD,MAAM,gBAAe,OAAC,KAC1BL,EAAAA,EAAAA,IAC8C4hB,EAAA,C,WADxBjhB,EAAAkhB,U,uCAAAlhB,EAAAkhB,UAASnhB,GAAGuf,QAAStf,EAAAmhB,SAAUL,MAAM,OAAQtE,OAAQ4E,GAAWA,EAAQliB,GAC5F8E,YAAY,qBAAqBI,SAAA,I,2CACnCzE,EAAAA,EAAAA,IAAyF,IAAzFiE,GAAgD,0BAAsBxC,EAAAA,EAAAA,IAAGpB,EAAAkhB,WAAS,kBAElFvhB,EAAAA,EAAAA,IAAyD,MAArDD,MAAM,0BAAyB,qBAAiB,cACpDC,EAAAA,EAAAA,IAAmG,SAA5FyF,KAAK,O,uCAAgBpF,EAAAqhB,YAAWthB,GAAEL,MAAM,2CAA2C8F,SAAA,I,iBAA9DxF,EAAAqhB,eAAW,eAEvC1hB,EAAAA,EAAAA,IAaK,MAbDD,MAAM,yCAAuC,EAC/CC,EAAAA,EAAAA,IAAkD,oBAA9C,iBAAYA,EAAAA,EAAAA,IAA6B,SAA1B,6BACnBA,EAAAA,EAAAA,IAAyC,oBAArC,kBAAaA,EAAAA,EAAAA,IAAmB,SAAhB,mBACpBA,EAAAA,EAAAA,IAAiE,oBAA7D,YAAOA,EAAAA,EAAAA,IAAwB,SAArB,sBAAiB,QAAI,gBAAWA,EAAAA,EAAAA,IAAc,SAAX,cACjDA,EAAAA,EAAAA,IAA6C,oBAAzC,eAAUA,EAAAA,EAAAA,IAAkB,SAAf,gBAAW,QAAI,eAChCA,EAAAA,EAAAA,IAA0C,YAAtCA,EAAAA,EAAAA,IAAiC,SAA9B,iCACPA,EAAAA,EAAAA,IAA8D,YAA1DA,EAAAA,EAAAA,IAAW,SAAR,SAAI,QAAI,iDACfA,EAAAA,EAAAA,IAA2C,YAAvCA,EAAAA,EAAAA,IAAc,SAAX,YAAO,QAAI,2BAClBA,EAAAA,EAAAA,IAAkE,UAA9D,8DACJA,EAAAA,EAAAA,IAA6D,YAAzDA,EAAAA,EAAAA,IAAoD,SAAjD,oDACPA,EAAAA,EAAAA,IAAmC,YAA/BA,EAAAA,EAAAA,IAAc,SAAX,YAAO,QAAI,mBAClBA,EAAAA,EAAAA,IAAsD,YAAlDA,EAAAA,EAAAA,IAAmB,SAAhB,iBAAY,QAAI,iCACvBA,EAAAA,EAAAA,IAAuD,UAAnD,oDAA8C,0CAQ1B,YAAnBK,EAAAugB,iBAAc,WAAzBphB,EAAAA,EAAAA,IAuIM,MAAA2E,GAAA,gBArIJnE,EAAAA,EAAAA,IAEQ,SAFDuQ,IAAI,cAAcxQ,MAAM,0C,UAAyC,iBACtEC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,cAE9BC,EAAAA,EAAAA,IAC2F,SADpFyF,KAAK,OAAOlG,GAAG,c,uCAAuBc,EAAAwgB,wBAAuBzgB,GAClEL,MAAM,oF,iBADqCM,EAAAwgB,2BAAuB,eAGpE7gB,EAAAA,EAAAA,IACyC,SADlCD,MAAM,0CAAwC,UAAC,oBAAeC,EAAAA,EAAAA,IACpC,QAA7BD,MAAM,gBAAe,OAAC,cAC1BC,EAAAA,EAAAA,IAIS,U,uCAJQK,EAAA6W,iBAAgB9W,GAAGsF,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAsO,kBAAAtO,EAAAsO,oBAAAnM,IAC1CxE,MAAM,mFAAmF0E,SAAA,I,gBACzFzE,EAAAA,EAAAA,IAAuD,UAA/C6E,MAAM,GAAGgB,SAAA,IAAS,wBAAoB,mBAC9CrG,EAAAA,EAAAA,IAAuG2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAA5Ef,EAAAgB,WAAZC,K,WAAf9B,EAAAA,EAAAA,IAAuG,UAAhE+B,IAAKD,EAAS/B,GAAKsF,MAAOvD,I,QAAaA,EAAS1B,MAAI,EAAAwE,O,mBAH5E/D,EAAA6W,oBAQe,OAArB7W,EAAA6W,mBAAgB,WAA3B1X,EAAAA,EAAAA,IAoHM,MAAAmF,GAAA,CAlHOtE,EAAAygB,2BAAwB,WAAnCthB,EAAAA,EAAAA,IAGM,MAAAsF,GAAA,gBAFJ9E,EAAAA,EAAAA,IAAsE,SAA/DuQ,IAAI,GAAGxQ,MAAM,+BAA8B,gBAAY,KAC9DC,EAAAA,EAAAA,IAA6E,SAAtEyF,KAAK,OAAQC,SAAMvF,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAAwO,cAAAxO,EAAAwO,gBAAArM,IAAcxE,MAAM,oBAAoB0E,SAAA,I,4BAE3DmD,EAAAiJ,gBAAa,WAAxBrR,EAAAA,EAAAA,IAAkD,MAAAyF,IAAAxD,EAAAA,EAAAA,IAAA,KAAhBwV,SAAO,mCAGzCzX,EAAAA,EAAAA,IAWM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAX4Bf,EAAA0gB,YAAU,CAA/BC,EAAWna,M,WAAxBrH,EAAAA,EAAAA,IAWM,OAXyC+B,IAAKsF,EAAO9G,MAAM,oC,WAE/DC,EAAAA,EAAAA,IAIS,U,yBAJQghB,EAAUzf,IAAGnB,EAAEL,MAAM,4C,gBACpCC,EAAAA,EAAAA,IAAwD,UAAhD6E,MAAM,GAAGgB,SAAA,IAAS,yBAAqB,mBAC/CrG,EAAAA,EAAAA,IACS2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IADgBf,EAAA4gB,kBAAVC,K,WAAf1hB,EAAAA,EAAAA,IACS,UADmC+B,IAAK2f,EAASrc,MAAOqc,EAAO3f,M,QAAQ2f,EAAOC,OAAK,EAAA5b,O,oBAF7Eyb,EAAUzf,QAK3BvB,EAAAA,EAAAA,IAGS,UAHAE,SAAK8G,EAAAA,EAAAA,KAAA5G,GAAUgC,EAAAgf,gBAAgBva,IAAK,aAC3C9G,MAAM,iHAAgH,WAExH,EAAAyF,S,qBAGFxF,EAAAA,EAAAA,IACyC,SADlCD,MAAM,0CAAwC,UAAC,2BAAsBC,EAAAA,EAAAA,IAC3C,QAA7BD,MAAM,gBAAe,OAAC,KAC1BC,EAAAA,EAAAA,IAGS,UAHAE,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAif,cAAAjf,EAAAif,gBAAA9c,IAAY,cAClCxE,MAAM,6GAA4G,mBAEpH,eAcEC,EAAAA,EAAAA,IACuC,SADhCD,MAAM,0CAAwC,UAAC,4BAAuBC,EAAAA,EAAAA,IAC9C,QAA7BD,MAAM,gBAAe,OAAC,KAC1BC,EAAAA,EAAAA,IAyBM,MAzBNiG,GAyBM,EAvBJjG,EAAAA,EAAAA,IAsBM,MAtBNqG,GAsBM,EApBJrG,EAAAA,EAAAA,IAKM,MALNsG,GAKM,gBAJJtG,EAAAA,EAAAA,IACkD,SAD3CuQ,IAAI,eAAexQ,MAAM,6B,UAA4B,SAAIC,EAAAA,EAAAA,IAC/B,QAA7BD,MAAM,gBAAe,MAAC,QAAO,eAAS,cAC1CC,EAAAA,EAAAA,IAC0D,SADnDyF,KAAK,O,uCAAgBpF,EAAA+R,aAAYhS,GAAEb,GAAG,eAAekF,SAAA,GAC1D1E,MAAM,mD,iBADoBM,EAAA+R,mBAK9BpS,EAAAA,EAAAA,IAOM,MAPNuG,GAOM,gBANJ/G,EAAAA,EAAAA,IAKM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALaf,EAAAshB,MAAPtI,K,WAAZ7Z,EAAAA,EAAAA,IAKM,OALoB+B,IAAK8X,EAAI9Z,GAAKW,QAAKE,GAAEgC,EAAAwf,mBAAmBvI,EAAI9Z,IAAMQ,OAAKiB,EAAAA,EAAAA,IAAA,gHAAkKqY,EAAIwI,SAAQ,yD,QAI1PxI,EAAIyI,SAAO,GAAAnb,O,2BAUtB3G,EAAAA,EAAAA,IAAgF,SAAzED,MAAM,0CAAyC,sBAAkB,KAExEC,EAAAA,EAAAA,IAmBM,MAnBNke,GAmBM,gBAjBJle,EAAAA,EAAAA,IAA8F,SAAvFD,MAAM,6BAA2B,UAAC,eAAUC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,KAE/EC,EAAAA,EAAAA,IAcM,MAdN+G,GAcM,EAbJ/G,EAAAA,EAAAA,IAIM,MAJNkH,GAIM,WAHJlH,EAAAA,EAAAA,IAEa,SAFNyF,KAAK,OAAOlG,GAAG,Y,uCAAqBc,EAAA0hB,UAAS3hB,GAClDL,MAAM,yGACN0E,SAAA,I,iBAFyCpE,EAAA0hB,eAAS,eAKtD/hB,EAAAA,EAAAA,IAAS,SAAN,MAAE,KAELA,EAAAA,EAAAA,IAIM,MAJNsS,GAIM,WAHJtS,EAAAA,EAAAA,IAEa,SAFNyF,KAAK,OAAOlG,GAAG,U,uCAAmBc,EAAA2hB,QAAO5hB,GAC9CL,MAAM,yGACN0E,SAAA,I,iBAFuCpE,EAAA2hB,kBAQ/ChiB,EAAAA,EAAAA,IAQM,MARNyH,GAQM,gBANJzH,EAAAA,EAAAA,IAAyG,SAAlGuQ,IAAI,UAAUxQ,MAAM,6B,UAA4B,YAAOC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,KAE1FL,EAAAA,EAAAA,IACqC4hB,EAAA,CADxB/hB,GAAG,U,WAAmBc,EAAAkhB,U,uCAAAlhB,EAAAkhB,UAASnhB,GAAGuf,QAAStf,EAAAmhB,SAAUL,MAAM,OAAQtE,OAAQ4E,GAAWA,EAAQliB,GACzG8E,YAAY,sB,2CACdrE,EAAAA,EAAAA,IAAyF,IAAzF0H,GAAgD,0BAAsBjG,EAAAA,EAAAA,IAAGpB,EAAAkhB,WAAS,MAMpFvhB,EAAAA,EAAAA,IAQM,MARN2H,GAQM,gBANJ3H,EAAAA,EAAAA,IAAkH,SAA3GuQ,IAAI,cAAcxQ,MAAM,6B,UAA4B,iBAAYC,EAAAA,EAAAA,IAAmC,QAA7BD,MAAM,gBAAe,OAAC,KAEnGL,EAAAA,EAAAA,IAE0BuiB,EAAA,CAFb1iB,GAAG,c,WAAuBc,EAAA6hB,iB,uCAAA7hB,EAAA6hB,iBAAgB9hB,GAAGuf,QAAStf,EAAA8hB,SAAWC,UAAU,EAAO,mBAAiB,EAC7G,mBAAiB,EAAO/d,YAAY,wBAAwB8c,MAAM,QAAQ,WAAS,QACpFphB,MAAM,OAAO0E,SAAA,I,0EAWrBzE,EAAAA,EAAAA,IAOO,UANPyF,KAAK,SACL1F,MAAM,yHACL8F,SAAUxF,EAAAgiB,cAAgBhiB,EAAA6D,a,CACf7D,EAAAgiB,eAAY,WAAxB7iB,EAAAA,EAAAA,IACmG,OADnGmT,MACmG,6BACnGlR,EAAAA,EAAAA,IAAGpB,EAAA6D,YAAc,YAAc7D,EAAAgiB,aAAe,gBAAkB,UAArB,oB,+DAQjDriB,EAAAA,EAAAA,IAA+E,MAA3ED,MAAM,0CAAwC,EAACC,EAAAA,EAAAA,IAAuB,SAApB,sBAAgB,KACvEA,EAAAA,EAAAA,IA+BO,MA/BP4S,GA+BO,EA9BJ5S,EAAAA,EAAAA,IA6BQ,QA7BR6S,GA6BQ,gBA5BN7S,EAAAA,EAAAA,IAQQ,eAPNA,EAAAA,EAAAA,IAMK,MANDD,MAAM,uDAAqD,EAC7DC,EAAAA,EAAAA,IAA+F,MAA3FD,MAAM,+EAA8E,OACxFC,EAAAA,EAAAA,IAAwG,MAApGD,MAAM,+EAA8E,gBACxFC,EAAAA,EAAAA,IAAiG,MAA7FD,MAAM,+EAA8E,SACxFC,EAAAA,EAAAA,IAAqG,MAAjGD,MAAM,+EAA8E,aACxFC,EAAAA,EAAAA,IAAmG,MAA/FD,MAAM,+EAA8E,cAAM,KAGlGC,EAAAA,EAAAA,IAkBQ,6BAjBNR,EAAAA,EAAAA,IAgBK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhBqBf,EAAAiiB,cAAfC,K,WAAX/iB,EAAAA,EAAAA,IAgBK,MAhBoC+B,IAAKghB,EAAYhjB,GAAIQ,MAAM,oB,EAClEC,EAAAA,EAAAA,IAAmF,KAAnF+S,IAAmFtR,EAAAA,EAAAA,IAAtB8gB,EAAYhjB,IAAE,IAC3ES,EAAAA,EAAAA,IAA4F,KAA5FgT,IAA4FvR,EAAAA,EAAAA,IAA/B8gB,EAAYC,aAAW,IACpFxiB,EAAAA,EAAAA,IAAqF,KAArFmT,IAAqF1R,EAAAA,EAAAA,IAAxB8gB,EAAY9c,MAAI,IAC7EzF,EAAAA,EAAAA,IAAyF,KAAzFoT,IAAyF3R,EAAAA,EAAAA,IAA5B8gB,EAAYjhB,UAAQ,IACjFtB,EAAAA,EAAAA,IAUK,KAVLqT,GAUK,EATHrT,EAAAA,EAAAA,IAQM,MARNsT,GAQM,EAPJtT,EAAAA,EAAAA,IAMS,UANAE,QAAKE,GAAEgC,EAAAqgB,kBAAkBF,EAAYG,gBAC5C3iB,MAAM,8C,EACNL,EAAAA,EAAAA,IAGYgD,EAAA,CAHDC,IAAI,yCACbE,OAAO,oCAAoCD,QAAQ,QACnDE,MAAA,gC,uDA2BpB,IAGElD,KAAM,iBACN6I,IAAAA,GAEE,MAAO,CAELC,OAAQC,wBAERrI,WAAW,EACX8f,wBAAwB,EAIxBQ,eAAgB,KAChBvf,UAAW,GACX6V,iBAAkB,KAClBwK,YAAa,GACbY,aAAc,GACdK,eAAgB,GAChB5B,WAAY,GACZE,iBAAkB,CAAC,CAAEE,MAAO,gBAAiB5f,IAAK,uBAOlDqhB,gBAAiB,CAAC,CAAEf,SAAU,KAC9BF,KAAM,CACJ,CAAEpiB,GAAI,EAAGK,KAAM,SAAUkiB,QAAS,IAAKD,UAAU,GACjD,CAAEtiB,GAAI,EAAGK,KAAM,UAAWkiB,QAAS,IAAKD,UAAU,GAClD,CAAEtiB,GAAI,EAAGK,KAAM,YAAakiB,QAAS,IAAKD,UAAU,GACpD,CAAEtiB,GAAI,EAAGK,KAAM,WAAYkiB,QAAS,IAAKD,UAAU,GACnD,CAAEtiB,GAAI,EAAGK,KAAM,SAAUkiB,QAAS,IAAKD,UAAU,GACjD,CAAEtiB,GAAI,EAAGK,KAAM,WAAYkiB,QAAS,IAAKD,UAAU,GACnD,CAAEtiB,GAAI,EAAGK,KAAM,SAAUkiB,QAAS,IAAKD,UAAU,IAKnDtB,aAAc,KACdD,UAAW,KACXE,SAAU,WACVH,WAAY,KACZwC,iBAAkB,KAIlBzQ,aAAa,KACb2P,UAAW,KACXC,QAAS,KACTT,UAAW,KACXuB,YAAa,KACbX,SAAU,CACR,CAAEtd,MAAO,UAAWsc,MAAO,mBAC3B,CAAEtc,MAAO,aAAcsc,MAAO,cAC9B,CAAEtc,MAAO,UAAWsc,MAAO,WAC3B,CAAEtc,MAAO,YAAasc,MAAO,aAC7B,CAAEtc,MAAO,YAAasc,MAAO,aAC7B,CAAEtc,MAAO,WAAYsc,MAAO,YAC5B,CAAEtc,MAAO,SAAUsc,MAAO,WAE5Be,iBAAkB,GAElBV,SAAU,GACVX,wBAAyB,KACzBC,0BAAyB,EACzBvJ,SAAS,GACTwL,SAAS,GAKTC,cAAe,GACfvX,MAAO,KAEPvH,aAAa,EACbrC,OAAQ,GAGR2F,SAAS,EACT6a,cAAc,EACdY,eAAc,EAIlB,EACA/a,WAAY,CACV6O,OAAM,GACNmM,YAAW,MACXC,WAAUA,GAAAA,GAGZ,aAAMxZ,SACEC,KAAKwZ,uBACLxZ,KAAKyZ,oBACLzZ,KAAK0Z,6BACL1Z,KAAK2Z,mBACX,MAAMzZ,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,uCACboH,SAASE,KAAKC,YAAYJ,EAK5B,EAEA8S,SAAU,CACR4G,YAAAA,GACE,OAAO5Z,KAAK+X,KAAKlS,QAAO4J,GAAOA,EAAIwI,WAAUtW,KAAI8N,GAAOA,EAAIzZ,MAC9D,EACA6jB,OAAAA,GACE,OAAO7Z,KAAK4Z,aAAa9c,OAAS,CACpC,EACAgd,sBAAAA,GACE,OAAO9Z,KAAKsY,iBAAiB3W,KAAIuX,GAAeA,EAAYje,QAAOuV,KAAK,IAC1E,GAGFuJ,OAAAA,GACE/Z,KAAKga,eACP,EAEAzZ,QAAS,CAEPuG,gBAAAA,GAEE,MAAMwG,EAAmBtN,KAAKvI,UAAU0W,MAAKzW,GAAYA,EAAS/B,KAAOqK,KAAKsN,iBAAiB3X,KAC/FiL,QAAQC,IAAIb,KAAK2I,aAGjB,MAAMlN,EAAkB6R,EAAiBhP,WAAW6P,MAClDxL,GAAgC,WAAnBA,EAAU9G,MAA0C,UAArB8G,EAAUpH,SAIpDE,GAEFuE,KAAKkX,0BAA2B,EAChClX,KAAK2N,SAAWlS,EAAgBmE,SAASC,gBAAgB,IAAM,KAG/DG,KAAKkX,0BAA2B,EAChClX,KAAK2N,SAAW,GAGpB,EAGA,2BAAMmJ,GACJ,IACE,MAAM3V,QAAiBwC,GAAAA,EAAMsW,OAAO,GAAGja,KAAKlB,gCAC1C,CACEwC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,WAChD,eAAgB,sBAIO,YAAzBC,EAAStC,KAAK5G,QAChB+H,KAAKiZ,iBAAmB,GACxBjZ,KAAKyW,WAAa,GAClBzW,KAAK0W,UAAY,GACjB1W,KAAK2W,aAAe,GACpB3W,KAAK4W,SAAW,GAChB5W,KAAK/H,OAAS,eACdiiB,MAAM/Y,EAAStC,KAAKqF,UAIpBgW,MAAM,yCAEV,CAAE,MAAOrY,GACPjB,QAAQiB,MAAM,8BAA+BA,GAC7CqY,MAAM,yCACR,CACF,EAEA,mBAAMF,GACJ,IAEE,MAAM7Y,QAAiBwC,GAAAA,EAAM8K,IAAI,GAAGzO,KAAKlB,sBACvC,CACEwC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,WAChD,eAAgB,sBAItBlB,KAAK4X,SAAWzW,EAAStC,IAC3B,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,2BAA4BA,EAC5C,CACF,EAEAsY,YAAAA,GACEna,KAAK8Z,uBAAyB9Z,KAAKsY,iBAAiB9H,KAAK,KAEzD5P,QAAQC,IAAI,0BAA2Bb,KAAK8Z,uBAC9C,EAEA,sBAAMH,GACJ,IACE3Z,KAAKpC,SAAU,EACfoC,KAAK6B,MAAQ,KAGb,MAAMV,QAAiBC,MAAM,GAAGpB,KAAKlB,2BAA4B,CAC/DuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,WAChD,eAAgB,sBAIpB,IAAKC,EAASI,GAAI,CAChB,MAAM+C,QAAkBnD,EAASO,OAEjC,MADA1B,KAAK/H,OAAO,eACN,IAAIuJ,MAAM8C,EAAUN,QAAU,+BACtC,CAEA,MAAMnF,QAAasC,EAASO,OAG5B1B,KAAKoZ,cAAgBva,EAAKqF,QAC1BlE,KAAK/H,OAAS4G,EAAK5G,OACnB+H,KAAKyW,WAAa5X,EAAKub,WAAW3D,WAClCzW,KAAK0W,UAAY7X,EAAKub,WAAWC,aACjCra,KAAK2W,aAAe9X,EAAKub,WAAWE,gBACpCta,KAAK4W,SAAW/X,EAAKub,WAAWG,QAGlC,CAAE,MAAOC,GACPxa,KAAK6B,MAAQ2Y,EAAItW,SAAW,uBAC9B,CAAE,QACAlE,KAAKpC,SAAU,CACjB,CACF,EAEA,+BAAMiZ,GACJ,IACE,MAAM1V,QAAiBwC,GAAAA,EAAMC,KAAK,GAAG5D,KAAKlB,0BAA2B,CACnEyb,SAAUva,KAAK4W,SACfyD,aAAcra,KAAK0W,UACnB4D,gBAAiBta,KAAK2W,aACtBF,WAAYzW,KAAKyW,YAEjB,CACEnV,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,WAChD,eAAgB,sBAMtBlB,KAAK/H,OAAS,YACd+H,KAAK2Z,mBACL/Y,QAAQC,IAAI,cAAeM,EAAStC,KAAKub,WAC3C,CAAE,MAAOvY,GACP7B,KAAKiZ,iBAAmB,sBAAwBpX,EAAMV,SAAStC,KAAKmF,MACtE,CACF,EAIA+S,qBAAAA,CAAsB0D,GACN,0BAAVA,EACFza,KAAKrC,iBAEY,WAAV8c,GACPza,KAAK0a,YAET,EAEA1C,kBAAAA,CAAmBriB,GACjB,MAAM8Z,EAAMzP,KAAK+X,KAAK5J,MAAKsB,GAAOA,EAAI9Z,KAAOA,IACzC8Z,IACFA,EAAIwI,UAAYxI,EAAIwI,SAExB,EACA0C,eAAAA,GACET,MAAM,kBAAkBla,KAAK4Z,aAAapJ,KAAK,QACjD,EAEAiH,YAAAA,GACEzX,KAAKmX,WAAWxW,KAAK,CAAEhJ,IAAKqI,KAAKqX,iBAAiB,IACpD,EAEAG,eAAAA,CAAgBva,GACd+C,KAAKmX,WAAW1R,OAAOxI,EAAO,EAChC,EACA2d,WAAAA,GACEha,QAAQC,IAAI,QACd,EACA,oBAAM2Y,GACJ,IACE,MAAMxY,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,kBAAmB,CACtDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMC,QAAqBN,EAASO,OACpC1B,KAAKvI,UAAYgK,EAAa5C,IAChC,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,4BAA6BA,EAC7C,CACF,EAEA,iBAAM4X,GACJ,IACE,MAAMzY,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,qBACnC,CACEuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAKtB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMoQ,QAAezQ,EAASO,OAC9B1B,KAAK8X,YAAclG,EAAOiJ,YAC5B,CAAE,MAAOhZ,GACPjB,QAAQiB,MAAM,0BAA2BA,EAC3C,CAEF,EACA,oBAAMlE,GACJ,MAAM+F,EAAU,CACdoX,YAAa9a,KAAKsN,iBAAiBtX,KACnCsb,cAAeC,KAAKC,UAAUxR,KAAKsN,kBACnC6J,WAAYnX,KAAKmX,WACjBtb,KAAMmE,KAAKgX,eACX+D,WAAY/a,KAAK2X,UACjBiB,YAAY5Y,KAAKiX,wBACjBxF,SAASzR,KAAKmZ,UAIhB,IACEnZ,KAAKyY,cAAe,EACpB,MAAMjV,GAAQC,EAAAA,GAAAA,MACRzC,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,iCAAkC,CACrEuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAU9N,KAGvB,GAAIvC,EAASI,GACXiC,EAAMM,QAAQ,kCACd9D,KAAKyY,cAAe,EACpBzY,KAAK1F,aAAY,EACjB0F,KAAK0Z,2BAEA,CACL1Z,KAAKyY,cAAe,EACpB,MAAMnU,QAAkBnD,EAASO,OACjC8B,EAAM3B,MAAM,UAAUyC,EAAUN,SAClC,CAEF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,kCAAmCA,EACnD,CACF,EACAmZ,eAAAA,CAAgBC,GACd,OAAO,IAAIhK,MAAK,IAAIA,MAAO+E,mBAAmB,QAAS,CAAEkF,SAAU,iBAAoB,IAAMD,GAC1F/I,cACAiJ,MAAM,GAAI,GACf,EAEA,gBAAMT,GAEJ1a,KAAKyY,cAAa,EAClBzY,KAAKkZ,YAAclZ,KAAKsY,iBAAiB3W,KAAIuX,GAAeA,EAAYje,QAAOuV,KAAK,KACpF,MAAM9M,EAAU,CACdoX,YAAa9a,KAAKsN,iBAAiBtX,KACnCsb,cAAeC,KAAKC,UAAUxR,KAAKsN,kBACnC6J,WAAYnX,KAAKmX,WACjBtb,KAAMmE,KAAKgX,eACXoE,oBAAqBpb,KAAKmY,UAC1BkD,kBAAmBrb,KAAKoY,QAAQxS,MAAM,KAAK,GAAK,YAChD0V,YAAa,IAAItb,KAAK4Z,cACtB2B,KAAMvb,KAAKwI,aACXgT,SAAUxb,KAAK0W,UACf+E,YAAazb,KAAK2W,aAClBoE,WAAY/a,KAAK2X,UACjB1f,OAAQ+H,KAAKkZ,YACbqB,SAAUva,KAAK4W,SACfgC,YAAa5Y,KAAKiX,wBAClBxF,SAASzR,KAAKmZ,UAEV3V,GAAQC,EAAAA,GAAAA,MAGd,GAAoB,GAAhBzD,KAAK6Z,QAGP,OAFA7Z,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,2BAIT,GAAsB,MAAlB7B,KAAK2X,UAGZ,OAFA3X,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,oBAGT,GAAwB,MAApB7B,KAAKkZ,YAGZ,OAFAlZ,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,uBAGT,GAAsB,MAAlB7B,KAAKmY,UAGZ,OAFAnY,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,qBAGT,GAAoB,MAAhB7B,KAAKoY,QAGZ,OAFApY,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,mBAGT,GAAyB,MAArB7B,KAAKwI,aAGZ,OAFAxI,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,eAGT,GAAoC,MAAhC7B,KAAKiX,wBAGZ,OAFAjX,KAAK0b,WAAY,OACjBlY,EAAM3B,MAAM,qBAMd,IAEE,MAAMb,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,2BAA4B,CAC/DuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAU9N,KAGvB,GAAIvC,EAASI,GACXiC,EAAMM,QAAQ,kCACd9D,KAAKyY,cAAe,EACpBzY,KAAK1F,aAAY,EACjB0F,KAAK0Z,2BAEA,CACL,MAAMpV,QAAkBnD,EAASO,OACjC8B,EAAM3B,MAAM,UAAUyC,EAAUN,SAClC,CAEF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,kCAAmCA,EACnD,CACF,EAEAmF,YAAAA,CAAavC,GACXzE,KAAK2O,KAAOlK,EAAMC,OAAOC,MAAM,GAC/B3E,KAAKyQ,aACP,EAGA,iBAAMA,GACJ,MAAMzP,EAAQC,aAAaC,QAAQ,SACnClB,KAAKoN,UAAY3I,MAAMC,OAAOC,MAAM,GACpC,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ9E,KAAKoN,WAE7B,IAEE,MAAMjM,QAAiBC,MAAM,GAAGpB,KAAKlB,sBAAuB,CAC1DuC,OAAQ,OACRC,QAAS,CAEP,cAAiB,UAAUN,KAI7BX,KAAMuE,IAGF8L,QAAcvP,EAASO,OAI7B,GAHA1B,KAAKmZ,SAAWzI,EAAMC,kBACtB/P,QAAQC,IAAIb,KAAKmZ,WAEZhY,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGhBxB,KAAKiH,eAAgB,EACrBiT,MAAM,8BAEV,CAAE,MAAOrY,GACPjB,QAAQiB,MAAM,yBAA0BA,EAC1C,CACF,EAGA,uBAAMgX,CAAkBC,GACtB,IAEE9Y,KAAKqZ,eAAc,EACnB,MAAM7V,GAAQC,EAAAA,GAAAA,MACRzC,EAAQC,aAAaC,QAAQ,SAC7BsS,EAAgBC,QAAQ,0IAC9B,IAAKD,EAAe,OACpB,MAAMrS,QAAiBC,MAAM,GAAGpB,KAAKlB,sBAAsBga,IACzD,CACEzX,OAAQ,SACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAMtB,GAAIG,EAASI,GACXiC,EAAMM,QAAQ,oCACd9D,KAAK0Z,2BAEF,CACH,MAAMiC,QAAkBxa,EAASO,OACjC8B,EAAM3B,MAAM,SAAS8Z,EAAU3X,SACjC,CAGF,CAAE,MAAOnC,GACPjB,QAAQiB,MAAM,qCAAsCA,EAEtD,CAAC,QACC7B,KAAKqZ,eAAc,CACrB,CACF,EAEAlf,UAAAA,GACE6F,KAAKtJ,WAAY,EACjBsJ,KAAKuE,WACP,EAEAA,SAAAA,GACEvE,KAAK1F,aAAY,EACjB0F,KAAKgX,eAAiB,KACtBhX,KAAKsN,iBAAmB,KACxBtN,KAAKmX,WAAa,GAClBnX,KAAK2X,UAAY,KACjB3X,KAAKiX,wBAA0B,KAC/BjX,KAAKwI,aAAe,KACpBxI,KAAKmY,UAAY,KACjBnY,KAAKoY,QAAU,KACfpY,KAAKsY,iBAAmB,EAC1B,EAEA,0BAAMoB,GACJ,IACE,MAAM1Y,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBC,MAAM,GAAGpB,KAAKlB,8BAA+B,CAClEuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlB,MAAMoa,QAAwBza,EAASO,OACvC1B,KAAK0Y,aAAekD,EAAgBja,KAAIgX,IAAU,CAChDhjB,GAAIgjB,EAAYhjB,GAChBijB,YAAaD,EAAYC,YACzB/c,KAAM8c,EAAY9c,KAClBggB,QAASlD,EAAYkD,QACrBnkB,SAAUihB,EAAYjhB,SACtBohB,eAAgBH,EAAYG,kBAEhC,CAAE,MAAOjX,GACPjB,QAAQiB,MAAM,kCAAmCA,EACnD,CACF,IC5+BJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCRQ1L,MAAM,gB,IACLA,MAAM,qD,IAgCLA,MAAM,4OACN0F,KAAK,U,qBAEO1F,MAAM,qB,UAYGA,MAAM,6B,IAG5BA,MAAM,4B,2CAnDbP,EAAAA,EAAAA,IAwDO,OAxDPC,GAwDO,EAvDLO,EAAAA,EAAAA,IAsDM,MAtDNC,GAsDM,44BApCJD,EAAAA,EAAAA,IA8BO,QA9BAqQ,SAAMlQ,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAsjB,aAAAtjB,EAAAsjB,eAAAnhB,IAAW,cAAExE,MAAM,a,EACxCC,EAAAA,EAAAA,IAIM,yBAHJA,EAAAA,EAAAA,IAAmF,SAA5EuQ,IAAI,WAAWxQ,MAAM,2CAA0C,SAAK,cAC3EC,EAAAA,EAAAA,IACqJ,SAD9IyF,KAAK,OAAOlG,GAAG,W,qCAAoBc,EAAAslB,SAAQvlB,GAAEqE,SAAA,GAClD1E,MAAM,4I,iBADkCM,EAAAslB,eAG5C3lB,EAAAA,EAAAA,IAIM,yBAHJA,EAAAA,EAAAA,IAAsF,SAA/EuQ,IAAI,WAAWxQ,MAAM,2CAA0C,YAAQ,cAC9EC,EAAAA,EAAAA,IACqJ,SAD9IyF,KAAK,WAAWlG,GAAG,W,qCAAoBc,EAAAulB,SAAQxlB,GAAEqE,SAAA,GACtD1E,MAAM,4I,iBADsCM,EAAAulB,eAKhD5lB,EAAAA,EAAAA,IAcS,SAdTY,GAcS,CAXMP,EAAAwlB,YAAgB,WAC7BrmB,EAAAA,EAAAA,IASM,MATNuB,GASMZ,EAAA,KAAAA,EAAA,KARJH,EAAAA,EAAAA,IAMM,OANDD,MAAM,6CAA6CW,MAAM,6BAA6BH,KAAK,OAC9FE,QAAQ,a,EACRT,EAAAA,EAAAA,IAAkG,UAA1FD,MAAM,aAAa+lB,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKxlB,OAAO,eAAe,eAAa,OACrFR,EAAAA,EAAAA,IAEO,QAFDD,MAAM,aAAaQ,KAAK,eAC5BI,EAAE,sH,YAEA,yBARc,WAAtBnB,EAAAA,EAAAA,IAAoC,OAAAsB,GAAZ,YAajBT,EAAAsN,eAAY,WAArBnO,EAAAA,EAAAA,IAA+E,IAA/E0B,IAA+EO,EAAAA,EAAAA,IAAnBpB,EAAAsN,cAAY,0BAG1E3N,EAAAA,EAAAA,IAGI,IAHJwB,GAGI,sBAHgC,8BAElCxB,EAAAA,EAAAA,IAAgG,KAA7FgR,KAAK,GAAGjR,MAAM,oCAAqCG,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAA6jB,gBAAA7jB,EAAA6jB,kBAAA1hB,IAAc,eAAE,gB,CAQ7F,QACE3E,KAAM,YACN6I,IAAAA,GACE,MAAO,CACLC,OAAQC,wBACRgd,SAAU,GACVC,SAAU,GACVjY,aAAc,GACdkY,WAAW,EAEf,EACA1b,QAAS,CACP,iBAAMub,GACJ9b,KAAKic,WAAY,EACjB7a,MAAM,GAAGpB,KAAKlB,eAAgB,CAC5BuC,OAAQ,OACRC,QAAS,CACP,eAAgB,qCAElBjB,KAAM,IAAIic,gBAAgB,CACxBP,SAAU/b,KAAK+b,SACfC,SAAUhc,KAAKgc,aAGhBO,MAAKpb,GAAYA,EAASO,SAC1B6a,MAAK1d,IACAA,EAAK2d,cAEPvb,aAAawb,QAAQ,QAAS5d,EAAK2d,cAEnC5b,QAAQC,MACRb,KAAK0c,QAAQ/b,KAAK,eAGlBuZ,MAAM,sCAGTyC,OAAM9a,IACLjB,QAAQiB,MAAM,SAAUA,KAE9B,EACAwa,cAAAA,GACErc,KAAK0c,QAAQ/b,KAAK,UACpB,IClGJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UC0COxK,MAAM,0E,IAEJA,MAAM,8D,IAQNymB,IAAI,WAAWzmB,MAAM,0C,UASDA,MAAM,4C,IAExBA,MAAM,Q,UAODA,MAAM,wF,2CA5BpBP,EAAAA,EAAAA,IAgCM,MAhCNC,GAgCM,EA9BJO,EAAAA,EAAAA,IAKM,MALNC,GAKM,cAJJD,EAAAA,EAAAA,IAA6C,OAAxCD,MAAM,sBAAqB,WAAO,KACvCC,EAAAA,EAAAA,IAEM,OAFDD,MAAM,wEAAyEG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAomB,cAAgBpmB,EAAAomB,eAAc,iBAM3HzmB,EAAAA,EAAAA,IAMM,MANNY,GAMM,gBALJpB,EAAAA,EAAAA,IAIM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJsBf,EAAAqmB,UAAQ,CAAvBC,EAAK9f,M,WAAlBrH,EAAAA,EAAAA,IAIM,OAJiC+B,IAAKsF,EAC1C9G,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,0BACe,SAAb2lB,EAAIC,KAAkB,uBAAyB,6B,QACpDD,EAAIrhB,MAAI,M,YAKJjF,EAAAomB,eAAY,WAAvBjnB,EAAAA,EAAAA,IAMM,MANNsB,GAMM,cALJd,EAAAA,EAAAA,IAA4D,OAAvDD,MAAM,8BAA6B,kBAAc,KACtDC,EAAAA,EAAAA,IAGM,MAHNe,GAGM,WAFJf,EAAAA,EAAAA,IAAuI,S,qCAAvHK,EAAAwmB,OAAMzmB,GAAEL,MAAM,4DAA4D0F,KAAK,WAAWpB,YAAY,iB,iBAAtGhE,EAAAwmB,WAChB7mB,EAAAA,EAAAA,IAAwF,UAA/EE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA0kB,YAAA1kB,EAAA0kB,cAAAviB,IAAYxE,MAAM,0CAAyC,eAAI,WAKnFP,EAAAA,EAAAA,IAGM,MAHN0B,GAGM,WAFJlB,EAAAA,EAAAA,IAA8J,S,qCAA9IK,EAAA0mB,aAAY3mB,GAAG4mB,UAAO7mB,EAAA,KAAAA,EAAA,IAAA8mB,EAAAA,EAAAA,KAAA,IAAA1iB,IAAQnC,EAAA8kB,aAAA9kB,EAAA8kB,eAAA3iB,IAAW,YAAExE,MAAM,4DAA4DsE,YAAY,qB,iBAAzHhE,EAAA0mB,iBAChB/mB,EAAAA,EAAAA,IAAwF,UAA/EE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA8kB,aAAA9kB,EAAA8kB,eAAA3iB,IAAaxE,MAAM,yCAAwC,Y,CA7EjF,QACE0I,IAAAA,GACE,MAAO,CACLie,SAAU,CACR,CAAEE,KAAM,YAAathB,KAAM,uCAE7ByhB,aAAc,GACdN,cAAc,EACdI,OAAQhc,aAAaC,QAAQ,WAAa,GAE9C,EACAX,QAAS,CACP,iBAAM+c,GACJ,GAAKtd,KAAKmd,aAAaja,OAAvB,CAGAlD,KAAK8c,SAASnc,KAAK,CAAEqc,KAAM,OAAQthB,KAAMsE,KAAKmd,eAE9C,IACE,MAAMhc,QAAiBwC,GAAAA,EAAMC,KAAK,6BAA8B,CAC9DM,QAASlE,KAAKmd,eAEhBnd,KAAK8c,SAASnc,KAAK,CAAEqc,KAAM,YAAathB,KAAMyF,EAAStC,KAAKsC,UAC9D,CAAE,MAAOU,GACP7B,KAAK8c,SAASnc,KAAK,CAAEqc,KAAM,YAAathB,KAAM,8BAChD,CAEAsE,KAAKmd,aAAe,GACpBnd,KAAKud,gBAfgC,CAgBvC,EACAL,UAAAA,GACEjc,aAAawb,QAAQ,SAAUzc,KAAKid,QACpCjd,KAAK6c,cAAe,CACtB,EACAU,cAAAA,IACEC,EAAAA,EAAAA,KAAS,KACP,MAAMC,EAAgBzd,KAAK0d,MAAMC,SAC7BF,IACFA,EAAcG,UAAYH,EAAcI,gBAG9C,ICxCJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,UCNO1nB,MAAM,gB,IACJA,MAAM,qD,IASJA,MAAM,a,IA2BJA,MAAM,U,IAqBNA,MAAM,4B,IACNA,MAAM,gB,wBAmBRA,MAAM,8B,IAQNA,MAAM,4B,2EAtFfP,EAAAA,EAAAA,IAiGM,MAjGNC,GAiGM,EAhGJO,EAAAA,EAAAA,IA+FM,MA/FNC,GA+FM,gBA9FJD,EAAAA,EAAAA,IAIK,MAHHD,MAAM,qEAAmE,UAC1E,uBACkBC,EAAAA,EAAAA,IAAgC,QAA1BD,MAAM,QAAO,YAAM,mBAG5CC,EAAAA,EAAAA,IAAmC,MAA/BD,MAAM,wBAAsB,WAEhCC,EAAAA,EAAAA,IAgEM,MAhENY,GAgEM,gwBArCJZ,EAAAA,EAAAA,IAmBM,MAnBNc,GAmBM,cAlBJd,EAAAA,EAAAA,IAC+B,SADxBuQ,IAAI,WAAWxQ,MAAM,2CACzB,YAAQ,cAEXC,EAAAA,EAAAA,IAOE,SANAyF,KAAK,WACLlG,GAAG,W,qCACMc,EAAAulB,SAAQxlB,GACjBiE,YAAY,eACZtE,MAAM,2IACN0E,SAAA,I,iBAHSpE,EAAAulB,aAKX5lB,EAAAA,EAAAA,IAGO,OAFLD,MAAM,+CACL+C,OAAKgU,EAAAA,EAAAA,IAAA,CAAA5N,MAAW9G,EAAAslB,cAAaC,gBAAmBvlB,EAAAwlB,iB,SAEnD5nB,EAAAA,EAAAA,IAEI,KAFDD,MAAM,2BAA4B+C,OAAKgU,EAAAA,EAAAA,IAAA,CAAAkJ,MAAW5d,EAAAwlB,kB,QAChDxlB,EAAAylB,eAAa,MAIpB7nB,EAAAA,EAAAA,IAeM,MAfNe,GAeM,EAdJf,EAAAA,EAAAA,IAaI,IAbJkB,GAaI,sBAboB,sCAEtBxB,EAAAA,EAAAA,IAGoCooB,EAAA,CAFlCC,GAAG,0CACHhoB,MAAM,gC,mBACL,IAAKI,EAAA,KAAAA,EAAA,aAAL,a,kCACF,WAEDT,EAAAA,EAAAA,IAG6CooB,EAAA,CAF3CC,GAAG,oCACHhoB,MAAM,gC,mBACL,IAAcI,EAAA,KAAAA,EAAA,aAAd,sB,oBAMTH,EAAAA,EAAAA,IAAiE,OAA5DD,MAAM,eAAgB,eAAcM,EAAA2nB,kB,YAEzChoB,EAAAA,EAAAA,IAiBM,MAjBN0B,GAiBM,EAhBJ1B,EAAAA,EAAAA,IAKS,UAJPD,MAAM,mPACLG,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAA6lB,cAAA7lB,EAAA6lB,gBAAA1jB,IAAY,eAC7B,kBAIDvE,EAAAA,EAAAA,IAQI,IARJ4B,GAQI,sBARgC,gCAElC5B,EAAAA,EAAAA,IAIwB,KAHtBgR,KAAK,GACLjR,MAAM,oCACLG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA8lB,eAAA9lB,EAAA8lB,iBAAA3jB,KACP,gB,2BAWb,IACEkE,IAAAA,GACE,MAAO,CACLC,OAAQC,wBACRid,SAAU,GACVoC,iBAAkBrf,2BAEtB,EACA/I,KAAM,kBACNgd,SAAU,CACRuL,aAAAA,GACE,OAAOC,KAAOxe,KAAKgc,UAAY,IAAIyC,KACrC,EACAR,aAAAA,GACE,MAAO,CAAC,YAAa,OAAQ,OAAQ,OAAQ,UAC3Cje,KAAKue,cAET,EACAP,aAAAA,GACE,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,WAClDhe,KAAKue,cAET,EACAT,aAAAA,GACE,OAAW9d,KAAKue,cAAgB,EAAK,IAA9B,GACT,GAEFxe,OAAAA,GACE,MAAMG,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,wDACbmH,EAAOwe,OAAQ,EACfxe,EAAOye,OAAQ,EACfxe,SAASye,KAAKte,YAAYJ,EAC5B,EACAK,QAAS,CACP8d,YAAAA,GACE,MAAMrd,EAAQb,SAAS0e,cACrB,wCACC5jB,MACH,IAAK+F,EAEH,YADAkZ,MAAM,gCAIR,MAAMtV,EAAW,CACfmX,SAAU5b,SAAS6R,eAAe,YAAY/W,MAC9C0X,MAAOxS,SAAS6R,eAAe,SAAS/W,MACxC+gB,SAAU7b,SAAS6R,eAAe,YAAY/W,MAC9C6jB,SAAU9d,GAGP4D,EAASmX,UAAanX,EAAS+N,OAAU/N,EAASoX,SAKvD5a,MAAM,GAAGpB,KAAKlB,kBAAmB,CAC/BuC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBjB,KAAMkR,KAAKC,UAAU5M,KAEpB2X,MAAMpb,GAAaA,EAASO,SAC5B6a,MAAM1d,IACDA,EAAKiF,SACPoW,MAAM,iCACN/Z,SACG4e,iBAAiB,SACjBrc,SAASsc,GAAWA,EAAM/jB,MAAQ,MAC5B4D,EAAKmF,OACdkW,MAAMrb,EAAKmF,QAEXkW,MAAM,kDAGTyC,OAAO9a,GAAUjB,QAAQiB,MAAMA,KAxBhCqY,MAAM,sCAyBV,EACAoE,aAAAA,GACEte,KAAK0c,QAAQ/b,KAAK,IACpB,ICjLJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROhL,GAAG,O,IACDQ,MAAM,U,IAEJA,MAAM,Y,mBAeNA,MAAM,a,UAWJA,MAAM,Q,IAENA,MAAM,uB,eAWJA,MAAM,gB,2CAoBcA,MAAM,gBAAgBymB,IAAI,gB,UAiB7BzmB,MAAM,iB,IAEzBA,MAAM,gB,IAUVA,MAAM,e,IAuGJA,MAAM,8C,sGAlMfP,EAAAA,EAAAA,IA8MM,MA9MNC,GA8MM,EA7MJO,EAAAA,EAAAA,IA2EM,MA3ENC,GA2EM,EAzEJD,EAAAA,EAAAA,IAaM,MAbNY,GAaM,gBAZJZ,EAAAA,EAAAA,IAKM,OALDD,MAAM,YAAU,EACnBC,EAAAA,EAAAA,IAGM,OAHDU,MAAM,6BAA6BD,QAAQ,e,EAC5CT,EAAAA,EAAAA,IACka,QAD5ZO,KAAK,UACXI,EAAE,oa,mBAIRX,EAAAA,EAAAA,IAA+B,OAA1BD,MAAM,QAAO,WAAO,mBACzBP,EAAAA,EAAAA,IAGM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHkCf,EAAAwoB,UAAXC,K,WAA7BtpB,EAAAA,EAAAA,IAGM,OAHDO,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,WAAU,CAAA+nB,OACDC,EAAAC,SAASH,EAAQI,SADc3nB,IAAKunB,EAAQlpB,KAAOM,QAAKE,GAAE4oB,EAAAG,SAASL,EAAQI,O,EAE7FlpB,EAAAA,EAAAA,IAA6B,KAAzBD,OAAKiB,EAAAA,EAAAA,IAAE8nB,EAAQM,O,0BAAaN,EAAQ3H,OAAK,c,SAIjDnhB,EAAAA,EAAAA,IAuDM,MAvDNe,GAuDM,CA5CoBV,EAAAgpB,OAAI,WAA5B7pB,EAAAA,EAAAA,IAGM,MAHN0B,GAGM,EADJlB,EAAAA,EAAAA,IAAoD,IAApDwB,IAAoDC,EAAAA,EAAAA,IAAjBpB,EAAAgpB,KAAK9M,OAAK,mBAE/C/c,EAAAA,EAAAA,IAEM,MAAAkC,GAAAvB,EAAA,MAAAA,EAAA,MADJH,EAAAA,EAAAA,IAAiD,KAA9CD,MAAM,sBAAqB,mBAAe,QAI/CC,EAAAA,EAAAA,IAgCM,OAhCDD,MAAM,mBAAoBG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAknB,gBAAAlnB,EAAAknB,kBAAA/kB,IAAgBiiB,IAAI,mB,EAIxDxmB,EAAAA,EAAAA,IAgBM,MAhBN4B,GAgBM,CAbOvB,EAAAkpB,QAAQC,sBAAmB,WAAtChqB,EAAAA,EAAAA,IAEM,MAAAsC,GAAA,EADJ9B,EAAAA,EAAAA,IAA+C,OAAzC2C,IAAKtC,EAAAkpB,QAAQC,oBAAqBrJ,IAAI,I,2BAG9C3gB,EAAAA,EAAAA,IAOM,MAAA0C,GAAA/B,EAAA,MAAAA,EAAA,MANJH,EAAAA,EAAAA,IAKM,OALDU,MAAM,6BAA6BwI,MAAM,KAAKC,OAAO,KAAK5I,KAAK,eAClER,MAAM,sBAAsBU,QAAQ,a,EACpCT,EAAAA,EAAAA,IAA8C,QAAxCW,EAAE,uCACRX,EAAAA,EAAAA,IACoI,QAD9H,YAAU,UACdW,EAAE,kI,SAQCN,EAAAopB,eAAY,WAAvBjqB,EAAAA,EAAAA,IAOM,MAPN2C,GAOM,EANJnC,EAAAA,EAAAA,IAKK,YAJHA,EAAAA,EAAAA,IAA8E,MAAzEE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAsnB,aAAAtnB,EAAAsnB,eAAAnlB,K,gBAAavE,EAAAA,EAAAA,IAAmC,KAAhCD,MAAM,uBAAqB,kBAAK,qBAC5DC,EAAAA,EAAAA,IAA0F,MAArFE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAunB,mBAAAvnB,EAAAunB,qBAAAplB,K,gBAAmBvE,EAAAA,EAAAA,IAAoC,KAAjCD,MAAM,wBAAsB,kBAAK,0BACnEC,EAAAA,EAAAA,IAAuE,MAAlEE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwnB,cAAAxnB,EAAAwnB,gBAAArlB,K,gBAAcvE,EAAAA,EAAAA,IAA+B,KAA5BD,MAAM,mBAAiB,kBAAK,iBACzDC,EAAAA,EAAAA,IAAqE,MAAhEE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAynB,QAAAznB,EAAAynB,UAAAtlB,K,gBAAQvE,EAAAA,EAAAA,IAAqC,KAAlCD,MAAM,yBAAuB,kBAAK,iBAAO,gCAY/DM,EAAAypB,kBAAe,WAA1BtqB,EAAAA,EAAAA,IAUM,MAVN+C,GAUM,EATJvC,EAAAA,EAAAA,IAQM,OARDD,MAAM,gBAAiBG,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAN,QAAW,Y,EACpChH,EAAAA,EAAAA,IAIM,MAJNwC,GAIM,gBAHJxC,EAAAA,EAAAA,IAAe,UAAX,UAAM,KAEVA,EAAAA,EAAAA,IAAiE,QAA3DD,MAAM,YAAaG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA2nB,mBAAA3nB,EAAA2nB,qBAAAxlB,KAAmB,QAErDvE,EAAAA,EAAAA,IAA6D,yBAA1DA,EAAAA,EAAAA,IAAiC,cAAzB,oBAAgB,aAAS,KAACyB,EAAAA,EAAAA,IAAGpB,EAAA2pB,gBAAc,MACtDhqB,EAAAA,EAAAA,IAAuE,UAA9DE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA6nB,cAAA7nB,EAAA6nB,gBAAA1lB,IAAcxE,MAAM,aAAY,wBAAc,gBAIlEC,EAAAA,EAAAA,IAiHM,MAjHNoR,GAiHM,EA7GJpR,EAAAA,EAAAA,IAES,UAFAE,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAA6pB,YAAc7pB,EAAA6pB,YAAYnqB,MAAM,iB,gBAC9CC,EAAAA,EAAAA,IAAgE,KAA7DD,MAAM,oDAAkD,YAOlC,cAAnBipB,EAAAmB,iBAAc,WAHtB3qB,EAAAA,EAAAA,IAmBM,O,MAlBJO,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,oKAAmK,sBACzIX,EAAA6pB,WAAU,gBAAmB7pB,EAAA6pB,e,EAE7DlqB,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,0BAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,yBAAD,yCAAqED,EAAAC,SAAS,0BAC1H,wC,gBACNjpB,EAAAA,EAAAA,IAAoC,KAAjCD,MAAM,wBAAsB,kBAAK,yBACtC,IACAC,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,0BAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,yBAAD,yCAAqED,EAAAC,SAAS,0BAC1H,wC,gBACNjpB,EAAAA,EAAAA,IAA+C,KAA5CD,MAAM,mCAAiC,kBAAK,uBACjD,IACAC,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,0BAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,yBAAD,yCAAqED,EAAAC,SAAS,0BAC1H,wC,gBACNjpB,EAAAA,EAAAA,IAA+C,KAA5CD,MAAM,mCAAiC,kBAAK,2BACjD,wBAMoG,aAAnBipB,EAAAmB,iBAAc,WAFjG3qB,EAAAA,EAAAA,IAaM,O,MAZJO,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,oKAAoK,sBAC1IX,EAAA6pB,WAAU,gBAAmB7pB,EAAA6pB,e,EAC7DlqB,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,wBAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,uBAAD,yCAAmED,EAAAC,SAAS,wBACxH,wC,gBACNjpB,EAAAA,EAAAA,IAAiD,KAA9CD,MAAM,oCAAmC,kBAAK,sBACnD,IACAC,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,wBAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,uBAAD,yCAAmED,EAAAC,SAAS,wBACxH,wC,gBACNjpB,EAAAA,EAAAA,IAAoC,KAAjCD,MAAM,wBAAsB,kBAAK,kBACtC,wBAOyB,gBAAnBipB,EAAAmB,iBAAc,WAHtB3qB,EAAAA,EAAAA,IASM,O,MARJO,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,oKAAoK,sBAC1IX,EAAA6pB,WAAU,gBAAmB7pB,EAAA6pB,e,EAE7DlqB,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,8BAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,6BAAD,yCAAyED,EAAAC,SAAS,8BAC9H,wC,gBAAuCjpB,EAAAA,EAAAA,IAAgC,KAA7BD,MAAM,oBAAkB,kBAAK,mBAE/E,wBAOyB,cAAnBipB,EAAAmB,iBAAc,WAHtB3qB,EAAAA,EAAAA,IAeM,O,MAdJO,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,oKAAoK,sBAC1IX,EAAA6pB,WAAU,gBAAmB7pB,EAAA6pB,e,EAE7DlqB,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,oBAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,mBAAD,yCAA+DD,EAAAC,SAAS,oBACpH,wC,gBAAuCjpB,EAAAA,EAAAA,IAAqC,KAAlCD,MAAM,yBAAuB,kBAAK,YAEpF,IAEAC,EAAAA,EAAAA,IAII,KAJDgR,KAAK,IAAK9Q,QAAKC,EAAA,MAAAA,EAAA,KAAA6G,EAAAA,EAAAA,KAAA5G,GAAU4oB,EAAAG,SAAS,6BAAD,cACjCppB,OAAKiB,EAAAA,EAAAA,IAAA,iCAAoCgoB,EAAAC,SAAS,4BAAD,yCAAwED,EAAAC,SAAS,6BAC7H,wC,gBAAuCjpB,EAAAA,EAAAA,IAAgC,KAA7BD,MAAM,oBAAkB,kBAAK,qBAE/E,yBA8BFC,EAAAA,EAAAA,IAEM,MAFN0D,GAEM,EADJhE,EAAAA,EAAAA,IAA2BC,MAQ7BD,EAAAA,EAAAA,IAA2F0qB,EAAA,CAA5EC,QAAShqB,EAAAiqB,iBAAmBjB,KAAMhpB,EAAAgpB,KAAO/lB,QAAKnD,EAAA,MAAAA,EAAA,IAAAC,GAAEC,EAAAiqB,kBAAmB,I,yCCxM7EvqB,MAAM,kE,IASFA,MAAM,iB,oBAQNA,MAAM,iB,gDAnB2DwqB,EAAAF,UAAO,WAArF7qB,EAAAA,EAAAA,IAkDM,O,MAlDDO,MAAM,6DAA6EG,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAOnC,EAAAooB,OAAApoB,EAAAooB,SAAAjmB,IAAK,Y,EACvGvE,EAAAA,EAAAA,IAgDM,OAhDDD,OAAKiB,EAAAA,EAAAA,IAAA,CAAC,6EAAqFupB,EAAAF,QAAU,gBAAkB,sB,EAC1HrqB,EAAAA,EAAAA,IAKM,MALNP,GAKM,cAJJO,EAAAA,EAAAA,IAAoE,MAAhED,MAAM,uCAAsC,mBAAe,KAC/DC,EAAAA,EAAAA,IAES,UAFAE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAooB,OAAApoB,EAAAooB,SAAAjmB,IAAOxE,MAAM,qC,cAC3BC,EAAAA,EAAAA,IAA4B,KAAzBD,MAAM,gBAAc,eAG3BC,EAAAA,EAAAA,IAwCO,QAxCAqQ,SAAMlQ,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAUnC,EAAAqoB,aAAAroB,EAAAqoB,eAAAlmB,IAAW,cAAExE,MAAM,iB,EACxCC,EAAAA,EAAAA,IAOM,2BANJA,EAAAA,EAAAA,IAAiF,SAA1EuQ,IAAI,QAAQxQ,MAAM,2CAA0C,UAAM,KACzEC,EAAAA,EAAAA,IAIM,MAJNC,GAIM,WAHJD,EAAAA,EAAAA,IAEE,SAFKyF,KAAK,QAAQlG,GAAG,Q,qCAAiBc,EAAAqqB,UAAUnO,MAAKnc,GAAGuqB,SAAUtqB,EAAAuqB,gBAClE7qB,MAAM,yH,kBADgCM,EAAAqqB,UAAUnO,cAKtDvc,EAAAA,EAAAA,IAQM,2BAPJA,EAAAA,EAAAA,IAAmF,SAA5EuQ,IAAI,OAAOxQ,MAAM,2CAA0C,aAAS,KAC3EC,EAAAA,EAAAA,IAKM,MALNc,GAKM,WAJJd,EAAAA,EAAAA,IAEE,SAFKyF,KAAK,OAAOlG,GAAG,O,qCAAgBc,EAAAqqB,UAAU9qB,KAAIQ,GAAGuqB,SAAUtqB,EAAAwqB,eAC/D9qB,MAAM,yH,kBAD8BM,EAAAqqB,UAAU9qB,aAOpDI,EAAAA,EAAAA,IAKM,2BAJJA,EAAAA,EAAAA,IAA+G,SAAxGuQ,IAAI,uBAAuBxQ,MAAM,2CAA0C,yBAAqB,cACvGC,EAAAA,EAAAA,IAEE,SAFKyF,KAAK,OAAOlG,GAAG,uB,qCAAgCc,EAAAqqB,UAAUI,qBAAoB1qB,GAAEuqB,SAAA,GACpF5qB,MAAM,gF,iBAD8CM,EAAAqqB,UAAUI,2BAKlE9qB,EAAAA,EAAAA,IAKM,2BAJJA,EAAAA,EAAAA,IAAuF,SAAhFuQ,IAAI,WAAWxQ,MAAM,2CAA0C,aAAS,cAC/EC,EAAAA,EAAAA,IAEE,SAFKyF,KAAK,OAAOlG,GAAG,W,qCAAoBc,EAAAqqB,UAAUK,SAAQ3qB,GAAEuqB,SAAA,GAC5D5qB,MAAM,gF,iBADkCM,EAAAqqB,UAAUK,eAKtD/qB,EAAAA,EAAAA,IAKM,2BAJJA,EAAAA,EAAAA,IAA+F,SAAxFuQ,IAAI,eAAexQ,MAAM,2CAA0C,iBAAa,cACvFC,EAAAA,EAAAA,IAEE,SAFKyF,KAAK,OAAOlG,GAAG,e,qCAAwBc,EAAAqqB,UAAUtE,aAAYhmB,GAAEuqB,SAAA,GACpE5qB,MAAM,gF,iBADsCM,EAAAqqB,UAAUtE,mBAAY,0B,CAY9E,QACExmB,KAAM,iBACN0I,MAAO,CACL+hB,QAAS,CACP5kB,KAAMulB,QACNvmB,UAAU,GAEZ4kB,KAAM,CACJ5jB,KAAM+C,OACN/D,UAAU,IAGdgE,IAAAA,GACE,MAAO,CACLC,OAAQC,wBAER+hB,UAAW,IAAK9gB,KAAKyf,MACrBuB,iBAAiB,EACjBC,gBAAgB,EAEpB,EACA/a,MAAO,CACLua,QAAS,CACPY,WAAW,EACX/a,OAAAA,CAAQgb,GACFA,GACFthB,KAAKuhB,kBAET,GAEF9B,KAAM,CACJ4B,WAAW,EACX/a,OAAAA,CAAQgb,GACNthB,KAAK8gB,UAAY,IAAKQ,EACxB,IAGJ/gB,QAAS,CACPqgB,KAAAA,GACE5gB,KAAK/B,MAAM,QACb,EACAujB,mBAAAA,GACExhB,KAAKghB,iBAAmBhhB,KAAKghB,eAC/B,EACAS,kBAAAA,GACEzhB,KAAKihB,gBAAkBjhB,KAAKihB,cAC9B,EACA,sBAAMM,GACJ,IACE,MAAMpgB,QAAiBC,MAAM,GAAGpB,KAAKlB,cAAe,CAClDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,cAIpD,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAM,gCAGlB,MAAM3C,QAAasC,EAASO,OAC5B1B,KAAK8gB,UAAUnO,MAAQ9T,EAAK8T,MAC5B3S,KAAK8gB,UAAU9qB,KAAO6I,EAAK7I,KAC3BgK,KAAK8gB,UAAUI,qBAAuBriB,EAAK,wBAC3CmB,KAAK8gB,UAAUK,SAAWtiB,EAAK,YAC/BmB,KAAK8gB,UAAUtE,aAAe3d,EAAK,eACrC,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,+BAAgCA,EAChD,CACF,EACA,iBAAMgf,GACJ,IACE,MAAM1f,QAAiBC,MAAM,GAAGpB,KAAKlB,cAAe,CAClDuC,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiB,UAAUL,aAAaC,QAAQ,YAElDb,KAAMkR,KAAKC,UAAU,CACnBmB,MAAO3S,KAAK8gB,UAAUnO,MACtB3c,KAAMgK,KAAK8gB,UAAU9qB,KACrB0rB,qBAAsB1hB,KAAK8gB,UAAUI,qBACrCS,SAAU3hB,KAAK8gB,UAAUK,SACzBS,aAAc5hB,KAAK8gB,UAAUtE,iBAIjC,IAAKrb,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAGlBZ,QAAQC,IAAI,gBAAiBb,KAAK8gB,WAClC9gB,KAAK/B,MAAM,cAAe+B,KAAK8gB,WAC/B9gB,KAAK4gB,OACP,CAAE,MAAO/e,GACPjB,QAAQiB,MAAM,6BAA8BA,EAC9C,CACF,ICnJJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFiNA,IACE7L,KAAM,gBACNsI,WAAY,CACVujB,aAAYA,IAGdhjB,IAAAA,GACE,MAAO,CAELC,OAAQC,wBAER+hB,UAAW,CACTI,qBAAsB,IAGxBjC,SAAU,CACR,CAAEjpB,KAAM,YAAauhB,MAAO,YAAaiI,KAAM,kBAAmBF,KAAM,yBACxE,CAAEtpB,KAAM,WAAYuhB,MAAO,WAAYiI,KAAM,sBAAuBF,KAAM,uBAC1E,CAAEtpB,KAAM,cAAeuhB,MAAO,cAAeiI,KAAM,eAAgBF,KAAM,6BACzE,CAAEtpB,KAAM,UAAWuhB,MAAO,UAAW+H,KAAM,uBAAwBE,KAAM,eACzE,CAAExpB,KAAM,YAAauhB,MAAO,YAAa+H,KAAM,kBAAmBE,KAAM,mBAG1EC,KAAM,KACNI,cAAc,EACda,kBAAkB,EAClBJ,YAAY,EACZJ,iBAAiB,EACjBE,eAAgB,EAGhBT,QAAS,CACPmC,MAAO,GACPC,QAAS,GACTpP,MAAO,GACPiG,YAAa,GACboJ,SAAU,GACVC,SAAU,QACVC,kBAAmB,WACnBtC,oBAAqB,IAEvBuC,gBAAiB,CAAC,EAGtB,EACAC,KAAAA,GACE,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERnD,EAAYC,GAASiD,EAAMjD,OAASA,EACpCC,EAAYD,IAChB+C,EAAO1hB,KAAK2e,IAGd,MAAO,CACLC,WACAF,WACAkB,eAAgBkC,GAAoBF,EAAMjD,MAI9C,EACApZ,MAAO,CACL,cAAe,SAAUwc,GACvB1iB,KAAKugB,eAAiBkC,GAAoBC,EAC5C,GAMF,aAAM3iB,SACEC,KAAK2iB,qBACL3iB,KAAKuhB,yBACLvhB,KAAK+Z,UACX5Z,SAASyiB,iBAAiB,QAAS5iB,KAAK6iB,oBAGxC,MAAMC,EAAeA,KACf9iB,KAAK+iB,qBAAuB/iB,KAAKgjB,aAEnC5hB,MAAM,GAAGpB,KAAKlB,4BAA6B,CACzCuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,WAChD,eAAgB,oBAElBb,KAAMkR,KAAKC,UAAU,CACnBuR,oBAAqB/iB,KAAK+iB,oBAC1BC,YAAahjB,KAAKgjB,gBAGnBzG,MAAMpb,GAAaA,EAASO,SAC5B6a,MAAM1d,IACL+B,QAAQC,IAAI,yBAA0BhC,MAEvC8d,OAAO9a,IACNjB,QAAQiB,MAAM,iCAAkCA,OAMxD7B,KAAKijB,QACH,IAAM,CAACjjB,KAAK+iB,oBAAqB/iB,KAAKgjB,eACrCE,IACC,MAAOC,EAAwBC,GAAkBF,EAC7CC,GAA0BC,GAC5BN,MAGJ,CAAEzB,WAAW,EAAMhb,MAAM,IAK3Bgd,OAAOC,YAAc,KACnBC,GAAGC,KAAK,CACNC,MAAO,mBACPC,kBAAkB,EAClBC,OAAO,EACPC,QAAS,WAKb,MAAM1jB,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,4CACbmH,EAAOwe,OAAQ,EACfxe,EAAOye,OAAQ,EACfze,EAAO2jB,YAAc,YACrB1jB,SAASE,KAAKC,YAAYJ,GAG1BmjB,OAAOT,iBAAiB,WAAYne,IAClC,GACmB,6BAAjBA,EAAMqf,QACW,6BAAjBrf,EAAMqf,OAKR,IACE,MAAMjlB,EAAO0S,KAAKwS,MAAMtf,EAAM5F,MAC9B,GAAkB,uBAAdA,EAAKhD,KACP,GAAmB,WAAfgD,EAAK4F,MAAoB,CAC3B,MAAM,gBAAEuf,EAAe,QAAEC,GAAYplB,EAAKA,KAC1C+B,QAAQC,IACN,mBACAmjB,EACA,gCACAC,EAEJ,MAAO,GAAmB,WAAfplB,EAAK4F,MAAoB,CAClC,MAAM,aAAEyf,GAAiBrlB,EAAKA,KAC9B+B,QAAQoB,KAAK,qBAAsBkiB,EACrC,MAAO,GAAmB,UAAfrlB,EAAK4F,MAAmB,CACjC,MAAM,cAAE0f,GAAkBtlB,EAAKA,KAC/B+B,QAAQiB,MAAM,SAAUsiB,EAC1B,CAEFnkB,KAAK+iB,oBAAsBxR,KAAKC,UAAU3S,EAAM,KAAM,EAExD,CAAE,MACA+B,QAAQC,IAAI,qBAAsB4D,EAAM5F,KAC1C,IAEJ,EACAulB,aAAAA,GACEjkB,SAASkkB,oBAAoB,QAASrkB,KAAK6iB,mBAC7C,EAEAtiB,QAAS,CAGP,aAAMwZ,GACJ,IACE,MAAM5Y,QAAiBC,MAAM,GAAGpB,KAAKlB,cAAe,CAClDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,cAIpD,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAM,gCAGlBxB,KAAKyf,WAAate,EAASO,MAC7B,CAAE,MAAOG,GACPjB,QAAQiB,MAAM,+BAAgCA,EAChD,CACF,EAEA,sBAAM0f,GACJ,IACE,MAAMpgB,QAAiBC,MAAM,GAAGpB,KAAKlB,cAAe,CAClDuC,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,cAIpD,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAM,gCAGlB,MAAM3C,QAAasC,EAASO,OAC5B1B,KAAK8gB,UAAUI,qBAAuBriB,EAAK,uBAE7C,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,+BAAgCA,EAChD,CACF,EAEA,wBAAMyiB,CAAmBC,GACvB,IAEE,MAAMpjB,QAAiBC,MAAM,GAAGpB,KAAKlB,6BAA6BylB,IAAa,CAC7EljB,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUL,aAAaC,QAAQ,cAKpD,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAM,uBAAuBL,EAASlJ,UAIlD,MAAMusB,QAAiBrjB,EAASO,OAGhC1B,KAAKogB,eAAiBoE,EACtBxkB,KAAKogB,eAAiBpgB,KAAKogB,eAAeqE,QAAQ,EAGpD,CAAE,MAAO5iB,GAGP,OAFAjB,QAAQiB,MAAM,iCAAkCA,GAEzC,IACT,CACF,EAEA,kBAAM8gB,GACJ,IACE,MAAM3hB,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBwC,GAAAA,EAAM8K,IAAI,GAAGzO,KAAKlB,+BAAgC,CACvEwC,QAAS,CACPuC,cAAe,UAAU7C,OAI7B,GAAIG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,KAAOkJ,EAAStC,KAAKA,KAAK/B,OAAQ,CAChF,MAAM+B,EAAOsC,EAAStC,KAAKA,KAAK,GAChCmB,KAAK2f,QAAU,CACbmC,MAAOjjB,EAAKijB,OAAS,GACrBC,QAASljB,EAAKkjB,SAAW,GACzBpP,MAAO9T,EAAK8T,OAAS,GACrBqP,SAAWnjB,EAAKmjB,UAAYnjB,EAAKmjB,SAASxR,KAAK,OAAU,GACzDyR,SAAUpjB,EAAKojB,UAAY,QAC3BC,kBAAmBrjB,EAAKqjB,mBAAqB,WAC7CtJ,YAAa/Z,EAAK+Z,aAAe,GACjCgH,oBAAqB/gB,EAAK+gB,qBAAuB,IAEnD5f,KAAKmiB,gBAAkB,IAAKniB,KAAK2f,QACnC,CACF,CAAE,MAAO9d,GACPjB,QAAQiB,MAAM,0BAA2BA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,QACjF,CAAE,QACAlE,KAAKpC,SAAU,CACjB,CACF,EAEA8hB,cAAAA,GACE1f,KAAK6f,cAAgB7f,KAAK6f,YAC5B,EACA,uBAAMM,GACJngB,KAAKkgB,iBAAmBlgB,KAAKkgB,gBAC7B,MAAMwE,EAAa1kB,KAAKkgB,gBAEpBwE,SACI1kB,KAAKskB,mBAAmBtkB,KAAK8gB,UAAUI,qBAIjD,EACAb,YAAAA,GACEnG,MAAM,iBACR,EACA4F,WAAAA,GACE9f,KAAK0gB,kBAAmB,CAC1B,EACAV,YAAAA,GACEhgB,KAAK0c,QAAQ/b,KAAK,YACpB,EACAof,iBAAAA,GACE/f,KAAK0c,QAAQ/b,KAAK,kBACpB,EACAsf,MAAAA,GACEhf,aAAa0jB,WAAW,SACxB3kB,KAAK0c,QAAQ/b,KAAK,IACpB,EAEAkiB,kBAAAA,CAAmBpe,GAEjB,MAAMmgB,EAAe5kB,KAAK0d,MAAMkH,aAC1BC,EAAkB7kB,KAAK0d,MAAMmH,gBAE/BD,IAAiBA,EAAaE,SAASrgB,EAAMC,SAAWmgB,IAAoBA,EAAgBC,SAASrgB,EAAMC,UAC7G1E,KAAK6f,cAAe,EAExB,IAKJ,SAAS4C,GAAoBnD,GAC3B,OAAIA,EAAKyF,WAAW,cAAsB,YACtCzF,EAAKyF,WAAW,aAAqB,WACrCzF,EAAKyF,WAAW,gBAAwB,cACxCzF,EAAKyF,WAAW,YAAoB,UACpCzF,EAAKyF,WAAW,cAAsB,YACtCzF,EAAKyF,WAAW,UAAkB,UAE/B,WACT,CG1hBA,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,UCRO5uB,MAAM,uD,IAQJA,MAAM,8B,IACJA,MAAM,Q,0BAmBJA,MAAM,4C,0BAePA,MAAM,yD,UAONA,MAAM,qD,IAEHA,MAAM,wB,IAKVA,MAAM,0B,IAsBNA,MAAM,0B,IAuBNA,MAAM,0B,IA6BNA,MAAM,8B,2CAnIfP,EAAAA,EAAAA,IAuLM,MAvLNC,GAuLM,gBAtLJO,EAAAA,EAAAA,IAKM,OALDD,MAAM,gEAA8D,EACvEC,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAA+D,MAA3DD,MAAM,iCAAgC,qBAC1CC,EAAAA,EAAAA,IAA2C,SAAxC,4CAAoC,KAI3CA,EAAAA,EAAAA,IA2IM,MA3INC,GA2IM,EA1IJD,EAAAA,EAAAA,IA8CM,MA9CNY,GA8CM,EA7CJZ,EAAAA,EAAAA,IAgBM,aAfJA,EAAAA,EAAAA,IAWE,OAVC2C,IAAKtC,EAAAkpB,QAAQC,oBACdrJ,IAAI,uBACJrd,MAAA,qH,YASF9C,EAAAA,EAAAA,IAA0C,OAApC4uB,IAAKvuB,EAAAkpB,QAAQC,qB,0BAEnBxpB,EAAAA,EAAAA,IAAqD,MAAjDD,MAAM,wBAAuB,mBAAe,OAGlDC,EAAAA,EAAAA,IA0BM,MA1BNkB,GA0BM,EAzBJlB,EAAAA,EAAAA,IAA6D,SAAtDyF,KAAK,OAAQC,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAuD,kBAAAvD,EAAAuD,oBAAApB,IAAkBxE,MAAM,Q,UAEpDC,EAAAA,EAAAA,IAQM,aAPJA,EAAAA,EAAAA,IAMS,UALNE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwD,YAAAxD,EAAAwD,cAAArB,IACPsB,UAAWxF,EAAAyF,cAAgBzF,EAAA0F,YAC5BhG,MAAM,qE,QAEHM,EAAA0F,YAAc,eAAiB,UAApB,EAAAvE,MAKVnB,EAAA2F,iBAAc,WADtBxG,EAAAA,EAAAA,IAKM,MALNkC,GAKMvB,EAAA,MAAAA,EAAA,MADJH,EAAAA,EAAAA,IAAwD,KAArDD,MAAM,0BAAyB,sBAAkB,uBAI9CM,EAAAuI,cAAW,WADnBpJ,EAAAA,EAAAA,IAKM,MALNoC,GAKM,EADJ5B,EAAAA,EAAAA,IAA4D,IAA5D8B,GAAgC,WAAOL,EAAAA,EAAAA,IAAGpB,EAAAuI,aAAW,2BAK3D5I,EAAAA,EAAAA,IAqBM,MArBNgC,GAqBM,EApBJhC,EAAAA,EAAAA,IAQM,2BAPJA,EAAAA,EAAAA,IAA6D,SAAtDuQ,IAAI,QAAQxQ,MAAM,wBAAuB,SAAK,cACrDC,EAAAA,EAAAA,IAKE,SAJAT,GAAG,QACHkG,KAAK,O,qCACIpF,EAAAkpB,QAAQmC,MAAKtrB,GACtBL,MAAM,sG,iBADGM,EAAAkpB,QAAQmC,YAIrB1rB,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IACuC,SADhCuQ,IAAI,kBAAkBxQ,MAAM,wBAChC,oBAAgB,cAEnBC,EAAAA,EAAAA,IAKE,SAJAT,GAAG,kBACHkG,KAAK,O,qCACIpF,EAAAkpB,QAAQoC,QAAOvrB,GACxBL,MAAM,sG,iBADGM,EAAAkpB,QAAQoC,gBAKvB3rB,EAAAA,EAAAA,IAsBM,MAtBNkC,GAsBM,EArBJlC,EAAAA,EAAAA,IASM,2BARJA,EAAAA,EAAAA,IAC2C,SADpCuQ,IAAI,sBAAsBxQ,MAAM,wBACpC,wBAAoB,cAEvBC,EAAAA,EAAAA,IAIY,YAHVT,GAAG,sB,qCACMc,EAAAkpB,QAAQ/G,YAAWpiB,GAC5BL,MAAM,kH,iBADGM,EAAAkpB,QAAQ/G,kBAIrBxiB,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IACiD,SAD1CuQ,IAAI,gBAAgBxQ,MAAM,wBAC9B,8BAA0B,cAE7BC,EAAAA,EAAAA,IAKE,SAJAT,GAAG,gBACHkG,KAAK,Q,qCACIpF,EAAAkpB,QAAQhN,MAAKnc,GACtBL,MAAM,sG,iBADGM,EAAAkpB,QAAQhN,cAKvBvc,EAAAA,EAAAA,IA4BM,MA5BNmC,GA4BM,EA3BJnC,EAAAA,EAAAA,IAeM,2BAdJA,EAAAA,EAAAA,IACwC,SADjCuQ,IAAI,mBAAmBxQ,MAAM,wBACjC,qBAAiB,cAEpBC,EAAAA,EAAAA,IAUS,UATPT,GAAG,mB,qCACMc,EAAAkpB,QAAQsC,SAAQzrB,GACzBL,MAAM,sG,oTADGM,EAAAkpB,QAAQsC,eAUrB7rB,EAAAA,EAAAA,IAUM,2BATJA,EAAAA,EAAAA,IACiD,SAD1CuQ,IAAI,WAAWxQ,MAAM,wBACzB,8BAA0B,cAE7BC,EAAAA,EAAAA,IAKE,SAJAT,GAAG,WACHkG,KAAK,O,qCACIpF,EAAAkpB,QAAQqC,SAAQxrB,GACzBL,MAAM,sG,iBADGM,EAAAkpB,QAAQqC,iBAKvB5rB,EAAAA,EAAAA,IAeM,MAfNuC,GAeM,EAdJvC,EAAAA,EAAAA,IAMS,UALPyF,KAAK,SACJvF,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAysB,cAAAzsB,EAAAysB,gBAAAtqB,IACRxE,MAAM,yEACP,YAGDC,EAAAA,EAAAA,IAMS,UALPyF,KAAK,SACJvF,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA0sB,eAAA1sB,EAAA0sB,iBAAAvqB,IACRxE,MAAM,2EACP,eAKLC,EAAAA,EAAAA,IAkCM,2BAjCJA,EAAAA,EAAAA,IAKM,OALDD,MAAM,gEAA8D,EACvEC,EAAAA,EAAAA,IAGM,aAFJA,EAAAA,EAAAA,IAA6D,MAAzDD,MAAM,iCAAgC,mBAC1CC,EAAAA,EAAAA,IAA+C,SAA5C,gDAAwC,KAK/CA,EAAAA,EAAAA,IAwBM,2BAvBJA,EAAAA,EAAAA,IAAwB,OAAnBT,GAAG,WAAS,WACjBS,EAAAA,EAAAA,IAgBS,UAfNE,QAAKC,EAAA,MAAAA,EAAA,QAAAoE,IAAEnC,EAAA2sB,sBAAA3sB,EAAA2sB,wBAAAxqB,IACRzB,MAAA,mNAYD,8B,CAkBT,QACE2F,IAAAA,GACE,MAAO,CACLC,OAAQC,wBAER7C,aAAc,KACdC,aAAa,EACbC,eAAgB,KAChB4C,YAAa,KACbC,eAAgB,KAEhB0gB,QAAS,CACPmC,MAAO,GACPC,QAAS,GACTpP,MAAO,GACPiG,YAAa,GACboJ,SAAU,GACVC,SAAU,QACVC,kBAAmB,WACnBtC,oBAAqB,IAEvBuC,gBAAiB,CAAC,EAClBvkB,SAAS,EAGTmlB,oBAAqB,GACrBC,YAAa,GAEjB,EACA,aAAMjjB,SACEC,KAAK2iB,eACXxiB,SAASyiB,iBAAiB,QAAS5iB,KAAK6iB,oBAExC,MAAMC,EAAeA,KACf9iB,KAAK+iB,qBAAuB/iB,KAAKgjB,aAEnC5hB,MAAM,GAAGpB,KAAKlB,4BAA6B,CACzCuC,OAAQ,OACRC,QAAS,CACPuC,cAAe,UAAU5C,aAAaC,QAAQ,WAC9C,eAAgB,oBAElBb,KAAMkR,KAAKC,UAAU,CACnBuR,oBAAqB/iB,KAAK+iB,oBAC1BC,YAAahjB,KAAKgjB,gBAGnBzG,MAAMpb,GAAaA,EAASO,SAC5B6a,MAAM1d,IACL+B,QAAQC,IAAI,yBAA0BhC,MAEvC8d,OAAO9a,IACNjB,QAAQiB,MAAM,iCAAkCA,OAMxD7B,KAAKijB,QACH,IAAM,CAACjjB,KAAK+iB,oBAAqB/iB,KAAKgjB,eACrCE,IACC,MAAOC,EAAwBC,GAAkBF,EAC7CC,GAA0BC,GAC5BN,MAGJ,CAAEzB,WAAW,EAAMhb,MAAM,IAI3Bgd,OAAOC,YAAc,KACnBC,GAAGC,KAAK,CACNC,MAAO,mBACPC,kBAAkB,EAClBC,OAAO,EACPC,QAAS,WAKb,MAAM1jB,EAASC,SAASC,cAAc,UACtCF,EAAOnH,IAAM,4CACbmH,EAAOwe,OAAQ,EACfxe,EAAOye,OAAQ,EACfze,EAAO2jB,YAAc,YACrB1jB,SAASE,KAAKC,YAAYJ,GAG1BmjB,OAAOT,iBAAiB,WAAYne,IAClC,GACmB,6BAAjBA,EAAMqf,QACW,6BAAjBrf,EAAMqf,OAKR,IACE,MAAMjlB,EAAO0S,KAAKwS,MAAMtf,EAAM5F,MAC9B,GAAkB,uBAAdA,EAAKhD,KACP,GAAmB,WAAfgD,EAAK4F,MAAoB,CAC3B,MAAM,gBAAEuf,EAAe,QAAEC,GAAYplB,EAAKA,KAC1C+B,QAAQC,IACN,mBACAmjB,EACA,gCACAC,EAEJ,MAAO,GAAmB,WAAfplB,EAAK4F,MAAoB,CAClC,MAAM,aAAEyf,GAAiBrlB,EAAKA,KAC9B+B,QAAQoB,KAAK,qBAAsBkiB,EACrC,MAAO,GAAmB,UAAfrlB,EAAK4F,MAAmB,CACjC,MAAM,cAAE0f,GAAkBtlB,EAAKA,KAC/B+B,QAAQiB,MAAM,SAAUsiB,EAC1B,CAEFnkB,KAAK+iB,oBAAsBxR,KAAKC,UAAU3S,EAAM,KAAM,EACxD,CAAE,MACA+B,QAAQC,IAAI,qBAAsB4D,EAAM5F,KAC1C,IAEJ,EAEA0B,QAAS,CACP6kB,eAAAA,CAAgBjkB,GACd,GAAIA,EAASkkB,aAAc,CACzB,MAAMC,EAAOnkB,EAASkkB,aAAaC,KACnC1kB,QAAQC,IAAI,sBAAuBykB,EAErC,CACAtlB,KAAKgjB,YAAczR,KAAKC,UAAUrQ,EAAU,KAAM,EACpD,EAEAgkB,oBAAAA,GACE5B,GAAGgC,MAAMvlB,KAAKolB,gBAAiB,CAC7BI,UAAW,kBACXC,cAAe,OACfC,gCAAgC,EAChCC,OAAQ,CACNvD,MAAO,CAAC,EACRwD,YAAa,GACbC,mBAAoB,MAG1B,EAEAC,eAAAA,GACE,GAAK3lB,SAAS6R,eAAe,kBAS3BhS,KAAK+lB,4BATyC,CAC9C,MAAM7lB,EAASC,SAASC,cAAc,UACtCF,EAAOvK,GAAK,iBACZuK,EAAOnH,IAAM,4CACbmH,EAAOwe,OAAQ,EACfxe,EAAOye,OAAQ,EACfze,EAAO8lB,OAAShmB,KAAK+lB,sBACrB5lB,SAASE,KAAKC,YAAYJ,EAC5B,CAGF,EAEA6lB,qBAAAA,GACE1C,OAAOC,YAAc,KACnBC,GAAGC,KAAK,CACNC,MAAO,mBACPwC,QAAQ,EACRtC,OAAO,EACPC,QAAS,UAEX5jB,KAAKkmB,uBAET,EACA,kBAAMvD,GACJ,IACE,MAAM3hB,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBwC,GAAAA,EAAM8K,IAC3B,GAAGzO,KAAKlB,+BACR,CACEwC,QAAS,CACPuC,cAAe,UAAU7C,OAK/B,GACEG,EAASlJ,QAAU,KACnBkJ,EAASlJ,OAAS,KAClBkJ,EAAStC,KAAKA,KAAK/B,OACnB,CACA,MAAM+B,EAAOsC,EAAStC,KAAKA,KAAK,GAChCmB,KAAK2f,QAAU,CACbmC,MAAOjjB,EAAKijB,OAAS,GACrBC,QAASljB,EAAKkjB,SAAW,GACzBpP,MAAO9T,EAAK8T,OAAS,GACrBqP,SAAWnjB,EAAKmjB,UAAYnjB,EAAKmjB,SAASxR,KAAK,OAAU,GACzDyR,SAAUpjB,EAAKojB,UAAY,QAC3BC,kBAAmBrjB,EAAKqjB,mBAAqB,WAC7CtJ,YAAa/Z,EAAK+Z,aAAe,GACjCgH,oBAAqB/gB,EAAK+gB,qBAAuB,IAEnD5f,KAAKmiB,gBAAkB,IAAKniB,KAAK2f,QACnC,CACF,CAAE,MAAO9d,GACPjB,QAAQiB,MACN,0BACAA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,QAE1C,CAAE,QACAlE,KAAKpC,SAAU,CACjB,CACF,EACA,mBAAMsnB,GACJ,MAAM1hB,GAAQC,EAAAA,GAAAA,MACd,IACE,MAAMzC,EAAQC,aAAaC,QAAQ,SAC7BwC,EAAU,CACdoe,MAAO9hB,KAAK2f,QAAQmC,MACpBC,QAAS/hB,KAAK2f,QAAQoC,QACtBpP,MAAO3S,KAAK2f,QAAQhN,MACpBiG,YAAa5Y,KAAK2f,QAAQ/G,YAC1BoJ,SAAUhiB,KAAK2f,QAAQqC,SACnBhiB,KAAK2f,QAAQqC,SAASpc,MAAM,KAAKjE,KAAKwkB,GAASA,EAAKjjB,SACpD,GACJ+e,SAAUjiB,KAAK2f,QAAQsC,UAAY,QACnCC,kBAAmBliB,KAAK2f,QAAQuC,mBAAqB,WACrDkE,uBAAwBpmB,KAAKf,gBAAkB,IAG3CkC,QAAiBwC,GAAAA,EAAMC,KAC3B,GAAG5D,KAAKlB,yBACR4E,EACA,CACEpC,QAAS,CACPuC,cAAe,UAAU7C,OAK3BG,EAASlJ,QAAU,KAAOkJ,EAASlJ,OAAS,MAC9CuL,EAAMM,QAAQ,uCACR9D,KAAK2iB,eAEf,CAAE,MAAO9gB,GACP2B,EAAM3B,MAAM,6BACZjB,QAAQiB,MACN,0BACAA,EAAMV,UAAUtC,MAAMmF,QAAUnC,EAAMqC,QAE1C,CACF,EACA+gB,YAAAA,GACEjlB,KAAK2f,QAAU,IAAK3f,KAAKmiB,gBAC3B,EAEApmB,gBAAAA,CAAiB0I,GACfzE,KAAK9D,aAAeuI,EAAMC,OAAOC,MAAM,EACzC,EACA,gBAAM3I,GACJ,IAAKgE,KAAK9D,aAER,YADAge,MAAM,+BAIRla,KAAK7D,aAAc,EACnB6D,KAAK5D,eAAiB,KACtB4D,KAAKhB,YAAc,KAEnB,MAAM4F,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ9E,KAAK9D,cAE7B,IACE,MAAM8E,EAAQC,aAAaC,QAAQ,SAC7BC,QAAiBwC,GAAAA,EAAMC,KAC3B,GAAG5D,KAAKlB,2BACR8F,EACA,CACEtD,QAAS,CACPuC,cAAe,UAAU7C,IACzB,eAAgB,yBAKtBhB,KAAK5D,eAAiB+E,EAAStC,KAC/BmB,KAAKf,eAAiBkC,EAAStC,KAAKkG,iBAAiBC,GAAK,MAC1DpE,QAAQC,IAAIb,KAAKf,eACnB,CAAE,MAAO4C,GACP7B,KAAKhB,YAAc6C,EAAMV,SACrBU,EAAMV,SAAStC,KAAKmF,OACpB,eACN,CAAE,QACAhE,KAAK7D,aAAc,CACrB,CACF,IC5dJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROxG,GAAG,MAAMQ,MAAM,kB,IAEbA,MAAM,W,IAEFA,MAAM,U,IAWTA,MAAM,a,mBAOGA,MAAM,I,qBAONA,MAAM,e,IAahBA,MAAM,a,IAGJA,MAAM,e,IAEJA,MAAM,S,UAEJA,MAAM,iB,IAKNA,MAAM,kE,IAEN+C,MAAA,iD,IAGA/C,MAAM,uC,IACHR,GAAG,e,IAOVQ,MAAM,eAAeR,GAAG,cAAcinB,IAAI,e,qBAExCjnB,GAAG,Y,UAG8BQ,MAAM,0C,yBAQjC+C,MAAA,oC,UACoC/C,MAAM,sD,IAEtCA,MAAM,mB,sCAWRA,MAAM,e,qBAwBMA,MAAM,4B,qBAS1BA,MAAM,sB,UAScA,MAAM,gBAAgBymB,IAAI,U,UAgBzCzmB,MAAM,sD,IAUfA,MAAM,gB,IAEJA,MAAM,0D,IAIFA,MAAM,iB,IAkBVA,MAAM,0D,IAGFA,MAAM,iB,IAOf+C,MAAA,oC,2EApMJtD,EAAAA,EAAAA,IA8MM,MA9MNC,GA8MM,EA5MJO,EAAAA,EAAAA,IAoCM,MApCNC,GAoCM,EAnCJD,EAAAA,EAAAA,IAWI,WAVFA,EAAAA,EAAAA,IAQM,MARNY,GAQM,WAPJZ,EAAAA,EAAAA,IAMS,UANDJ,KAAK,GAAGL,GAAG,G,qCAAYc,EAAA4vB,iBAAgB7vB,GAAGsF,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA8tB,qBAAA9tB,EAAA8tB,uBAAA3rB,IACxDxE,MAAM,iCAAiC+C,MAAA,qC,gBACvC9C,EAAAA,EAAAA,IAAmF,UAA3E6E,MAAM,GAAGgd,SAAA,GAAS/e,MAAA,oCAAuC,aAAS,IAC1E9C,EAAAA,EAAAA,IACS,UADD6E,MAAM,OAAO/B,MAAA,oCAAuC,iBAC5D,iBAJ6BzC,EAAA4vB,yBAUnCjwB,EAAAA,EAAAA,IAsBK,KAtBLc,GAsBK,EArBHd,EAAAA,EAAAA,IAoBK,0BAnBHR,EAAAA,EAAAA,IAkBK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAlBcf,EAAA8vB,YAARC,K,WAAX5wB,EAAAA,EAAAA,IAkBK,MAlB2B+B,IAAK6uB,EAAKC,Y,EAExCrwB,EAAAA,EAAAA,IAaM,OAbDD,MAAM,oEACRG,QAAKE,IAAEgC,EAAAkuB,gBAAgBF,EAAKG,cAAelwB,EAAAmwB,WAAaJ,EAAKG,aAAclwB,EAAAowB,eAAiBL,EAAKM,c,EAElG1wB,EAAAA,EAAAA,IAIM,MAJNkB,GAIM,EAFJlB,EAAAA,EAAAA,IAA8C,WAA3CA,EAAAA,EAAAA,IAAuC,eAAAyB,EAAAA,EAAAA,IAA5B2uB,EAAKM,aAAW,MAC9B1wB,EAAAA,EAAAA,IAA0D,OAArD4D,UAAQxB,EAAAuuB,gBAAgBP,EAAKQ,kB,cAIpC5wB,EAAAA,EAAAA,IAEM,MAFN0B,GAEM,EADJ1B,EAAAA,EAAAA,IAA8D,UAAAyB,EAAAA,EAAAA,IAAxD2uB,EAAKS,eAAerhB,MAAM,KAAK,GAAGshB,UAAU,EAAG,IAAJ,iB,aAY7D9wB,EAAAA,EAAAA,IAqHM,MArHN4B,GAqHM,EAlHJ5B,EAAAA,EAAAA,IAmBM,MAnBN8B,GAmBM,EAjBJ9B,EAAAA,EAAAA,IAgBM,MAhBNgC,GAgBM,CAd6B3B,EAAAmwB,aAAU,WAA3ChxB,EAAAA,EAAAA,IAEM,MAFN0C,GAEM/B,EAAA,MAAAA,EAAA,MADJH,EAAAA,EAAAA,IAA8D,KAA3DD,MAAM,sBAAsB+C,MAAA,wB,8BAIjC9C,EAAAA,EAAAA,IAGM,MAHNmC,GAGM,EAFJnC,EAAAA,EAAAA,IAAoC,YAAhCA,EAAAA,EAAAA,IAA2B,UAAAyB,EAAAA,EAAAA,IAArBpB,EAAAowB,gBAAc,MACxBzwB,EAAAA,EAAAA,IAAkF,IAAlFuC,GAAkF,EAA3BvC,EAAAA,EAAAA,IAAuB,UAAAyB,EAAAA,EAAAA,IAAjBpB,EAAAmwB,YAAU,QAGzExwB,EAAAA,EAAAA,IAEM,MAFNwC,GAEM,EADJxC,EAAAA,EAAAA,IAAyD,OAAzDoR,IAAyD3P,EAAAA,EAAAA,IAA/BpB,EAAA0wB,uBAAqB,UAOrD/wB,EAAAA,EAAAA,IA+CM,MA/CN0D,GA+CM,EA9CJ1D,EAAAA,EAAAA,IAAgC,OAA3B4D,UAAQvD,EAAA2wB,aAAW,OAAArtB,KACxB3D,EAAAA,EAAAA,IAyCM,MAzCNwR,GAyCM,gBAxCJhS,EAAAA,EAAAA,IA+BM2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA/B0Bf,EAAA4wB,cAAY,CAA/BnjB,EAASjH,M,WAAtBrH,EAAAA,EAAAA,IA+BM,OA/ByC+B,IAAKuM,EAAQvO,I,CAE/C6C,EAAA8uB,eAAerqB,KAAK,WAA/BrH,EAAAA,EAAAA,IAEM,MAFNwE,GAEM,EADJhE,EAAAA,EAAAA,IAAoE,UAAAyB,EAAAA,EAAAA,IAA9DW,EAAA+b,WAAW9d,EAAA4wB,aAAapqB,GAAOsqB,UAAU3hB,MAAM,KAAK,KAAN,uBAItDxP,EAAAA,EAAAA,IAsBM,OAtBAD,OAAKiB,EAAAA,EAAAA,IAAA,2BAA0D,QAArB8M,EAAQsjB,YACrDC,eAAWrqB,EAAAA,EAAAA,KAAA5G,GAAUgC,EAAAkvB,gBAAgBlxB,EAAQ0N,IAAO,c,EAErD9N,EAAAA,EAAAA,IAkBM,MAlBNmE,GAkBM,CAjBO2J,EAAQyjB,qBAAkB,WAArC/xB,EAAAA,EAAAA,IASM,MATN4E,GASM,EAPJpE,EAAAA,EAAAA,IAKM,MALN2E,GAKM,gBAHJ3E,EAAAA,EAAAA,IAAmC,WAAhCA,EAAAA,EAAAA,IAA4B,cAApB,iBAAW,KACtBA,EAAAA,EAAAA,IACsE,OADjED,MAAM,wCACT6D,UAAQxB,EAAAovB,yBAAyB1jB,EAAQyjB,qB,iCAK/CvxB,EAAAA,EAAAA,IAAoK,OAA/J8C,MAAA,oGAAiGc,UAAQxB,EAAAqvB,sBAAsB3jB,EAAQ8iB,kB,YAE5I5wB,EAAAA,EAAAA,IAEM,MAFNoF,GAEM,EADJpF,EAAAA,EAAAA,IAA4D,UAAAyB,EAAAA,EAAAA,IAAtDqM,EAAQqjB,UAAU3hB,MAAM,KAAK,GAAGshB,UAAU,EAAG,IAAJ,oB,MAQ5CzwB,EAAAqxB,qBAAkB,WAA7BlyB,EAAAA,EAAAA,IAMM,O,MALHsD,OAAKgU,EAAAA,EAAAA,IAAA,CAAA9N,IAAS3I,EAAAsxB,oBAAoB7Z,EAAI,KAAH7O,KAAe5I,EAAAsxB,oBAAoB/Z,EAAI,OAC3E7X,MAAM,uB,EACNC,EAAAA,EAAAA,IAEK,YADHA,EAAAA,EAAAA,IAAsC,MAAjCE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAwvB,gBAAAxvB,EAAAwvB,kBAAArtB,KAAgB,YAAK,4BASL,mBAAzBlE,EAAA0wB,wBAAqB,WAAhCvxB,EAAAA,EAAAA,IAmCM,MAAA+F,GAAA,CAjCOlF,EAAAwxB,eAAY,WAAvBryB,EAAAA,EAAAA,IAQM,MARNgG,GAQM,EAPJxF,EAAAA,EAAAA,IAGM,2BAFJA,EAAAA,EAAAA,IAAoB,SAAjB,iBAAa,KAChBA,EAAAA,EAAAA,IAA0E,KAAvE4D,UAAkE,KAArD4tB,yBAAyBnxB,EAAAyxB,gBAAgBzB,a,cAG3DrwB,EAAAA,EAAAA,IAC2C,QADrCD,MAAM,2DACTG,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAA2vB,mBAAA3vB,EAAA2vB,qBAAAxtB,KAAmB,SAAO,gBAEtCvE,EAAAA,EAAAA,IAoBM,MApBNqG,GAoBM,WAnBJrG,EAAAA,EAAAA,IAAqG,SAA9FyF,KAAK,O,qCAAgBpF,EAAA2xB,WAAU5xB,GAAG6xB,QAAK9xB,EAAA,KAAAA,EAAA,IAAA8mB,EAAAA,EAAAA,KAAA,IAAA1iB,IAAQqD,EAAAsf,aAAAtf,EAAAsf,eAAA3iB,IAAW,YAAEF,YAAY,qB,iBAAnDhE,EAAA2xB,cAAU,eACtChyB,EAAAA,EAAAA,IAEQ,SAFDuQ,IAAI,cAAcxQ,MAAM,gB,EAC7BC,EAAAA,EAAAA,IAA+B,KAA5BD,MAAM,sBAAiB,KAG5BC,EAAAA,EAAAA,IAAkG,UAAzFE,QAAKC,EAAA,KAAAA,EAAA,IAAA6G,EAAAA,EAAAA,KAAA,IAAAzC,IAAOnC,EAAA8vB,cAAA9vB,EAAA8vB,gBAAA3tB,IAAY,WAAExE,MAAM,gB,gBAAeC,EAAAA,EAAAA,IAAiC,KAA9BD,MAAM,qBAAmB,YAGzEM,EAAA8xB,aAAU,WAArB3yB,EAAAA,EAAAA,IAEM,MAFN8G,GAEM,EADJ5G,EAAAA,EAAAA,IAAuC0yB,EAAA,CAAzBC,SAAQjwB,EAAAkwB,eAAa,6CAGrCtyB,EAAAA,EAAAA,IAA8E,SAAvEyF,KAAK,OAAOlG,GAAG,cAAemG,SAAMvF,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAmwB,YAAAnwB,EAAAmwB,cAAAhuB,IAAYxE,MAAM,c,SAG7BM,EAAAwxB,cAAkB,iBAAN,WAD9CryB,EAAAA,EAAAA,IAC6D,U,MADrDD,GAAG,cAAcQ,MAAM,yHAC9BG,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEgC,EAAAowB,oBAAwC,SACenyB,EAAAwxB,eAAY,WAA3EryB,EAAAA,EAAAA,IAA2F,U,MAAnFD,GAAG,cAAeW,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEgC,EAAAqwB,yBAA4C,WAAK,iCAQtFjzB,EAAAA,EAAAA,IAMM,MANN+G,GAMMpG,EAAA,MAAAA,EAAA,MAJJH,EAAAA,EAAAA,IAEK,oBAFD,oFACFA,EAAAA,EAAAA,IAAI,sFACN,UAMJA,EAAAA,EAAAA,IA2CM,MA3CN2G,GA2CM,EAzCJ3G,EAAAA,EAAAA,IAoBM,MApBNke,GAoBM,gBAnBJle,EAAAA,EAAAA,IAE0B,YAFtBA,EAAAA,EAAAA,IAC6E,KAD1ED,MAAM,qBACT+C,MAAA,8EAA6E9C,EAAAA,EAAAA,IAC7D,cADqE,sBAC9E,KACXA,EAAAA,EAAAA,IAeQ,QAfR+G,GAeQ,EAdN/G,EAAAA,EAAAA,IAaQ,eAZNA,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAqD,MAAjD8C,MAAA,oCAAwC,QAAI,KAChD9C,EAAAA,EAAAA,IAA+B,WAAAyB,EAAAA,EAAAA,IAAxBpB,EAAAqyB,YAAY9yB,MAAI,MAEzBI,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAsD,MAAlD8C,MAAA,oCAAwC,SAAK,KACjD9C,EAAAA,EAAAA,IAAgC,WAAAyB,EAAAA,EAAAA,IAAzBpB,EAAAqyB,YAAY5gB,OAAK,MAE1B9R,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAAsD,MAAlD8C,MAAA,oCAAwC,SAAK,KACjD9C,EAAAA,EAAAA,IAAgC,WAAAyB,EAAAA,EAAAA,IAAzBpB,EAAAqyB,YAAYnW,OAAK,YAMhCvc,EAAAA,EAAAA,IAgBM,MAhBNkH,GAgBM,gBAfJlH,EAAAA,EAAAA,IAC4B,YADxBA,EAAAA,EAAAA,IAAiF,KAA9ED,MAAM,WAAW+C,MAAA,2DAA6D9C,EAAAA,EAAAA,IAC9D,cADsE,wBAC/E,KACdA,EAAAA,EAAAA,IAYQ,QAZRsS,GAYQ,EAXNtS,EAAAA,EAAAA,IAUQ,eATNA,EAAAA,EAAAA,IAGK,0BAFHA,EAAAA,EAAAA,IAA2D,MAAvD8C,MAAA,oCAAwC,cAAU,KACtD9C,EAAAA,EAAAA,IAAqC,WAAAyB,EAAAA,EAAAA,IAA9BpB,EAAAqyB,YAAYzZ,YAAU,oBAE3CzZ,EAAAA,EAAAA,IAGK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHsBf,EAAAqyB,YAAY3gB,MAAI,CAA/BC,EAAKnL,M,WAAjBrH,EAAAA,EAAAA,IAGK,MAHyC+B,IAAKsF,GAAK,EACtD7G,EAAAA,EAAAA,IAAuE,KAAvEyH,IAAuEhG,EAAAA,EAAAA,IAAzBuQ,EAAIxC,MAAM,KAAK,IAAN,IACvDxP,EAAAA,EAAAA,IAAgC,WAAAyB,EAAAA,EAAAA,IAAzBuQ,EAAIxC,MAAM,KAAK,IAAN,Q,0CAgBlB,IACEtH,WAAY,CAAEyqB,YAAWA,GAAAA,GACzB/yB,KAAM,cAEN6I,IAAAA,GACE,MAAO,CACLC,OAAQC,wBAER+oB,oBAAoB,EACpBC,oBAAqB,CAAE/Z,EAAG,EAAGE,EAAG,GAChCga,gBAAiB,KACjBD,cAAc,EACde,eAAgB,KAEhB3C,iBAAkB,GAClBkC,YAAY,EACZhC,WAAY,GACZc,aAAc,GACd4B,iBAAkB,KAClB9B,sBAAuB,KACvB+B,MAAO,KACPtC,WAAY,GACZC,eAAgB,GAChBsC,MAAO,GACPC,UAAW,GACXhC,YAAa,GACb0B,YAAa,CAAC,EACdhM,SAAU,GACVsL,WAAY,GACZiB,YAAa,GACbC,gBAAiB,EACjBC,aAAc,KACdC,aAAc,KAElB,EACA,aAAMzpB,GAEJI,SAASyiB,iBAAiB,QAAS5iB,KAAKypB,0BAClCzpB,KAAK0pB,sBAEXvpB,SAASyiB,iBAAiB,SAAS,KACjC5iB,KAAK8nB,oBAAqB,IAG9B,EAEE1D,aAAAA,GACAjkB,SAASkkB,oBAAoB,QAASrkB,KAAKypB,oBAEvCzpB,KAAKwpB,eACP5oB,QAAQC,IAAI,wBAAyBb,KAAKwpB,cAC1CxpB,KAAKwpB,aAAa5I,QAClB5gB,KAAKwpB,aAAe,MAElBxpB,KAAKupB,eACPvpB,KAAKupB,aAAa3I,QAClBhgB,QAAQC,IAAI,+CAEhB,EAEAN,QAAS,CAEPwmB,eAAAA,CAAgB7iB,GACd,OAAIA,EAAQpH,OAAS,GACZ,GAAGoH,EAAQiX,MAAM,EAAG,sEAEtBjX,CACT,EAEA2jB,qBAAAA,CAAsB8B,GAEtB/oB,QAAQC,IAAI8oB,GACV,MAAMC,EAAiB,sBAGvB,GAAID,EAAQ5E,WAAW6E,GAAiB,CACtC,MAAMC,EAAiBF,EAAQtmB,QAAQumB,EAAgB,IACvD,IACE,MAAMZ,EAAiBzX,KAAKwS,MAAM8F,GAGlC,OAAKb,EAAe1qB,YAAewD,MAAMC,QAAQinB,EAAe1qB,YAMzD0qB,EAAe1qB,WACnBqD,KAAKgB,IAEJ,GAAuB,WAAnBA,EAAU9G,KAAmB,CAC/B,GAAyB,SAArB8G,EAAUpH,OACZ,MAAO,WAAWoH,EAAUjH,iBACvB,GAAyB,UAArBiH,EAAUpH,QAAsBoH,EAAU/C,SAASC,cAC5D,MAAO,2IACa8C,EAAU/C,QAAQC,cAAc,iNAIxD,KAAO,IAAuB,SAAnB8C,EAAU9G,KACnB,MAAO,mCAAmC8G,EAAUjH,aAC/C,GAAuB,WAAnBiH,EAAU9G,KACnB,MAAO,sDAAsD8G,EAAUjH,aAClE,GAAuB,YAAnBiH,EAAU9G,KACnB,OAAO8G,EAAUI,QAAQpB,KAAIlE,GACP,QAAhBA,EAAO5B,KACF,6EAER4B,EAAOC,2lBAQaD,EAAO/B,0CAGD,UAAhB+B,EAAO5B,KACT,4SAKf4B,EAAO/B,wCAIM,KACN8U,KAAK,GACV,CAGA,MAAO,MAERA,KAAK,KAtDN5P,QAAQiB,MAAM,8BAA+BmnB,GACtC,wDAsDX,CAAE,MAAOnnB,GAEP,OADAjB,QAAQiB,MAAM,oCAAqCA,GAC5C,qDACT,CACF,CAGA,MAAO,MAAM8nB,OACf,EAEAxB,iBAAAA,GACEnoB,KAAKioB,cAAe,EACdjoB,KAAKkoB,gBAAkB,EAC/B,EAEAR,eAAAA,CAAgBjjB,EAAOP,GACrBlE,KAAK8nB,oBAAqB,EAC1B9nB,KAAK+nB,oBAAsB,CAAE/Z,EAAGvJ,EAAMsJ,QAASG,EAAGzJ,EAAMwJ,SACxDjO,KAAKkoB,gBAAkBhkB,CACzB,EACA8jB,cAAAA,GACMhoB,KAAKkoB,kBAEPloB,KAAKioB,cAAe,EAGpBrnB,QAAQC,IAAI,eAAgBb,KAAK4nB,yBAAyB5nB,KAAKkoB,gBAAgBzB,cAEjFzmB,KAAK8nB,oBAAqB,CAC5B,EAGAF,wBAAAA,CAAyBkC,GACvB,IAAKhoB,MAAMC,QAAQ/B,KAAKqnB,cAEtB,OADAzmB,QAAQiB,MAAM,kDACP,GAGT,MAAMkoB,EAAiB/pB,KAAKqnB,aAAalZ,MAAKjK,GAAWA,EAAQuiB,aAAeqD,IAEhF,OAAKC,EAKE/pB,KAAK6nB,sBAAsBkC,EAAe/C,kBAJ/CpmB,QAAQoB,KAAK,mBAAmB8nB,+BACzB,GAIX,EAEAxC,cAAAA,CAAerqB,GACb,GAAc,IAAVA,EAAa,OAAO,EACxB,MAAM+sB,EAAchqB,KAAKqnB,aAAapqB,GAAOsqB,UAAU3hB,MAAM,KAAK,GAC5DqkB,EAAejqB,KAAKqnB,aAAapqB,EAAQ,GAAGsqB,UAAU3hB,MAAM,KAAK,GACvE,OAAOokB,IAAgBC,CACzB,EACA1V,UAAAA,CAAW/E,GAET,MAAMuG,EAAU,CAAEhG,KAAM,UAAWF,MAAO,OAAQJ,IAAK,WACvD,OAAO,IAAIwB,KAAKzB,GAAMwG,wBAAmB3X,EAAW0X,EACtD,EAEA4S,UAAAA,CAAWlkB,GACT,MAAMkK,EAAOlK,EAAMC,OAAOC,MAAM,GAChC/D,QAAQC,IAAI,iBAAkB8N,EAChC,EAEA2Z,YAAAA,GACEtoB,KAAKuoB,YAAcvoB,KAAKuoB,UAC1B,EACAkB,kBAAAA,CAAmBhlB,GACbzE,KAAKuoB,aAAevoB,KAAK0d,MAAMwM,OAAOpF,SAASrgB,EAAMC,UACvD1E,KAAKuoB,YAAa,EAEtB,EAEAG,aAAAA,CAAcyB,GACRA,GAASA,EAAMC,EACjBpqB,KAAKooB,YAAc+B,EAAMC,EAEzBxpB,QAAQiB,MAAM,wBAAyBsoB,EAE3C,EAEAE,WAAAA,CAAYC,GAEV1pB,QAAQC,IAAIypB,GACZtqB,KAAKipB,iBAAmBqB,EAGxB,MAAMC,EAAW,IAAItZ,KAAKqZ,GAIpBE,EAAmBD,EAInBE,EAAU,IAAIxZ,KAAKuZ,EAAiBE,SAASF,EAAiBta,WAAa,KAI7ElQ,KAAKkpB,OACPyB,cAAc3qB,KAAKkpB,OAIrB,MAAM0B,EAAsBA,KAG1B,MAAMZ,EAAc,IAAI/Y,KAClB4Z,GAAUC,EAAAA,GAAAA,IAAYd,EAAa,OAKnCe,EAAiBN,EAAUI,EAEjC,GAAIE,GAAkB,EAKpB,OAHAJ,cAAc3qB,KAAKkpB,YACnBlpB,KAAKmnB,sBAAwB,mBAO/B,MAAMhX,EAAU6a,KAAKC,MAAOF,EAAiB,IAAO,GAAM,IACpD9a,EAAQ+a,KAAKC,MAAOF,EAAiB,IAAO,GAAK,GAAM,IACvDhT,EAAOiT,KAAKC,MAAMF,EAAiB,IAAO,GAAK,GAAK,IAG1D,IAAIG,EAAgB,GAChBnT,EAAO,IAAGmT,GAAiB,GAAGnT,QAClCmT,GAAiB,GAAGxb,OAAOO,GAAOL,SAAS,EAAG,UAC9Csb,GAAiB,GAAGxb,OAAOS,GAASP,SAAS,EAAG,SAChD5P,KAAKmnB,sBAAwB+D,EAAchoB,QAI7C0nB,IAGA5qB,KAAKkpB,MAAQiC,YAAYP,EAAqB,IAChD,EAEAQ,aAAAA,GAEMprB,KAAKkpB,OACPyB,cAAc3qB,KAAKkpB,MAEvB,EAEA,yBAAMQ,CAAoBrD,EAAmB,MAC3C,IAEMrmB,KAAKwpB,eAEPxpB,KAAKwpB,aAAa5I,QAClBhgB,QAAQC,IAAI,oCAGd,MAAMG,EAAQC,aAAaC,QAAQ,SAGnClB,KAAKwpB,aAAe,IAAI6B,YAAY,GAAGrrB,KAAKlB,qCAAqCkC,IAAS,CAE1F,GAGAhB,KAAKwpB,aAAa8B,UAAa7mB,IAC7B,MAAM8mB,EAAcha,KAAKwS,MAAMtf,EAAM5F,MAGrCmB,KAAKumB,WAAagF,EAAY5pB,KAAK6pB,IAAU,CAC3CxE,gBAAiBwE,EAAWxE,gBAC5BF,YAAa0E,EAAW1E,YACxB2E,oBAAqBD,EAAWC,oBAChCtM,OAAQqM,EAAWrM,OACnBsH,WAAY+E,EAAW/E,WACvB9wB,GAAI61B,EAAW71B,GACfgxB,aAAc6E,EAAW7E,aACzBM,eAAgBuE,EAAWvE,mBACzBphB,QAAO2lB,GACM,OAArBnF,GAAkD,KAArBA,GAK1BmF,EAAWrM,SAAgC,SAArBkH,MAQvBrmB,KAAKwpB,aAAakC,QAAW7pB,IAC3BjB,QAAQiB,MAAM,uCAAwCA,GACtD7B,KAAKwpB,aAAa5I,QAGtB,CAAE,MAAO/e,GACPjB,QAAQiB,MAAM,uCAChB,CACF,EAEAykB,mBAAAA,CAAoB7hB,GAClB,MAAMxM,EAASwM,EAAMC,OAAOzJ,MAC5B+E,KAAK0pB,oBAAoBzxB,EAC3B,EAEA,qBAAMyuB,CAAgBiF,GAEpB3rB,KAAKmnB,sBAAwB,KAEzBnnB,KAAKupB,eAEPvpB,KAAKupB,aAAa3I,QAClBhgB,QAAQC,IAAI,oCAId,MAAMG,EAAQC,aAAaC,QAAQ,SAGnClB,KAAKupB,aAAe,IAAI8B,YAAY,GAAGrrB,KAAKlB,4BAA4B6sB,WAAe3qB,IAAS,CAC9FM,QAAS,CACP,cAAiB,UAAUN,aAIzBhB,KAAK4rB,qBAAqBD,GAChC3rB,KAAK8oB,YAAY9yB,KAAKgK,KAAK8oB,YAAY9yB,KAAKgK,KAAK8oB,YAAY9yB,KAAKgK,KAAK6mB,eACvE7mB,KAAK8oB,YAAY5gB,MAAMlI,KAAK8oB,YAAY5gB,MAAMlI,KAAK8oB,YAAY5gB,MAAMlI,KAAK4mB,WAG1E5mB,KAAKupB,aAAa+B,UAAa7mB,IAC7B,IAEE,MAAMonB,EAAmBta,KAAKwS,MAAMtf,EAAM5F,MAGpCuoB,EAAcpnB,KAAK0d,MAAM0J,YACzB0E,EAAa1E,EAAYvJ,aAAeuJ,EAAYxJ,WAAawJ,EAAY2E,aAAe,GAKlG,GAHA/rB,KAAKqnB,aAAewE,EAGhBA,EAAiB/uB,OAAS,EAAG,CAE/B,MAAMkvB,EAAmBH,EAAiBhmB,QACvC3B,GAAkC,YAAtBA,EAAQsjB,YAGvB,GAAIwE,EAAiBlvB,OAAS,EAAG,CAE/B,MAAMmvB,EACJD,EAAiBA,EAAiBlvB,OAAS,GAG7CkD,KAAKqqB,YAAY4B,EAAoB1E,UACvC,CACF,CAKIuE,GACF9rB,KAAKud,gBAET,CAAE,MAAO1b,GACPjB,QAAQiB,MAAM,yBAA0BA,EAC1C,GAIF7B,KAAKupB,aAAamC,QAAW7pB,IAC3BjB,QAAQiB,MAAM,wBAAyBA,IAIzCjB,QAAQC,IAAI,kCACd,EAGA0c,cAAAA,GACEvd,KAAKksB,WAAU,KACb,MAAM9E,EAAcpnB,KAAK0d,MAAM0J,YAC3BA,IACFA,EAAYxJ,UAAYwJ,EAAYvJ,gBAG1C,EAEA,0BAAM+N,CAAqBD,GACzB3rB,KAAK8oB,YAAa,CAAC,EACnB,MAAM9nB,EAAQC,aAAaC,QAAQ,SAEnC,IAEE,MAAMC,QAAiBC,MAAM,GAAGpB,KAAKlB,mBAAmB6sB,IAAS,CAC/DtqB,OAAQ,MACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,sBAIpB,IAAKG,EAASI,GACZ,MAAM,IAAIC,MAAM,+BAIlB,MAAMwG,QAAgB7G,EAASO,OAE/B1B,KAAK8oB,YAAc9gB,CAErB,CAAE,MAAOnG,GAEPjB,QAAQiB,MAAM,kCAAmCA,EAEnD,CACF,EAGA,qBAAM+mB,GAEJ,MAAM1kB,EAAUlE,KAAKooB,WACf+D,EAAWnsB,KAAK4mB,WACtB,IACE,MAAM5lB,EAAQC,aAAaC,QAAQ,SAE7BmQ,EAAc,CAClBsa,MAAOQ,EACP9rB,KAAM6D,GAGF/C,QAAiBC,MAAM,GAAGpB,KAAKlB,4BAA6B,CAChEuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAUH,KAGvB,IAAKlQ,EAASI,GACZ,MAAM,IAAIC,MAAM,6BAGhBxB,KAAKooB,WAAa,EAGtB,CAAE,MAAOvmB,GACPjB,QAAQiB,MAAM,wBAChB,CACF,EAEA,0BAAMgnB,GACJ,MAAM3kB,EAAUlE,KAAKooB,WACf+D,EAAWnsB,KAAK4mB,WACtB,IACE,MAAM5lB,EAAQC,aAAaC,QAAQ,SAE7BmQ,EAAc,CAClBsa,MAAOQ,EACP9rB,KAAM6D,EACNyjB,mBAAoB3nB,KAAKkoB,gBAAgBzB,YAIrCtlB,QAAiBC,MAAM,GAAGpB,KAAKlB,kCAAmC,CACtEuC,OAAQ,OACRC,QAAS,CACP,cAAiB,UAAUN,IAC3B,eAAgB,oBAElBX,KAAMkR,KAAKC,UAAUH,KAGvB,IAAKlQ,EAASI,GACZ,MAAM,IAAIC,MAAM,6BAGhBxB,KAAKooB,WAAa,GAClBpoB,KAAKkoB,gBAAkB,GACvBloB,KAAKioB,cAAe,CAGxB,CAAE,MAAOpmB,GACPjB,QAAQiB,MAAM,wBAChB,CACF,IChuBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCRS1L,MAAM,gC,IAEJA,MAAM,mE,IAINA,MAAM,kC,IAEJA,MAAM,8D,IAKNA,MAAM,8D,oIAbfP,EAAAA,EAAAA,IAkBM,MAlBNC,GAkBM,EAhBJO,EAAAA,EAAAA,IAEM,MAFNC,GAEM,EADJP,EAAAA,EAAAA,IAAes2B,MAGjBh2B,EAAAA,EAAAA,IAUM,MAVNY,GAUM,EARJZ,EAAAA,EAAAA,IAEM,MAFNc,GAEM,EADJpB,EAAAA,EAAAA,IAAeu2B,MAIjBj2B,EAAAA,EAAAA,IAEM,MAFNe,GAEM,EADJrB,EAAAA,EAAAA,IAAkBw2B,Q,WCdnBn2B,MAAM,gB,IAGJA,MAAM,kB,IAEJA,MAAM,a,IAENA,MAAM,Q,IACNA,MAAM,U,IAMNA,MAAM,a,IAENA,MAAM,Q,IACNA,MAAM,c,IAINA,MAAM,a,IAENA,MAAM,Q,IACNA,MAAM,U,IAMNA,MAAM,a,IAENA,MAAM,Q,2CAhCfP,EAAAA,EAAAA,IAmCM,MAnCNC,GAmCM,cAlCJO,EAAAA,EAAAA,IAAkE,MAA9DD,MAAM,SAAO,UAAC,kBAAaC,EAAAA,EAAAA,IAA8B,QAAxBD,MAAM,QAAO,UAAI,KAEtDC,EAAAA,EAAAA,IA+BM,MA/BNC,GA+BM,EA7BJD,EAAAA,EAAAA,IAMM,MANNY,GAMM,cALJZ,EAAAA,EAAAA,IAA2B,UAAvB,sBAAkB,KACtBA,EAAAA,EAAAA,IAAiD,IAAjDc,GAAiD,EAAjCd,EAAAA,EAAAA,IAA6B,SAA1B,KAACyB,EAAAA,EAAAA,IAAGpB,EAAA81B,iBAAe,MACtCn2B,EAAAA,EAAAA,IAEI,IAFJe,GAEI,EADFf,EAAAA,EAAAA,IAAoE,QAA7DD,OAAKiB,EAAAA,EAAAA,IAAEX,EAAA+1B,0B,QAA2B/1B,EAAAg2B,mBAAiB,wBAAU,mDAKxEr2B,EAAAA,EAAAA,IAIM,MAJNkB,GAIM,cAHJlB,EAAAA,EAAAA,IAA+C,UAA3C,0CAAsC,KAC1CA,EAAAA,EAAAA,IAAyD,IAAzDwB,GAAyD,EAAzCxB,EAAAA,EAAAA,IAAqC,SAAlC,KAACyB,EAAAA,EAAAA,IAAGpB,EAAAi2B,yBAAuB,MAC9Ct2B,EAAAA,EAAAA,IAAkD,IAAlD0B,IAAkDD,EAAAA,EAAAA,IAAzBpB,EAAAk2B,oBAAkB,MAI7Cv2B,EAAAA,EAAAA,IAMM,MANN4B,GAMM,cALJ5B,EAAAA,EAAAA,IAAgD,UAA5C,2CAAuC,KAC3CA,EAAAA,EAAAA,IAAgD,IAAhD8B,GAAgD,EAAhC9B,EAAAA,EAAAA,IAA4B,SAAzB,KAACyB,EAAAA,EAAAA,IAAGpB,EAAAm2B,gBAAc,MACrCx2B,EAAAA,EAAAA,IAEI,IAFJgC,GAEI,EADFhC,EAAAA,EAAAA,IAA8D,QAAvDD,OAAKiB,EAAAA,EAAAA,IAAEX,EAAAo2B,uB,QAAwBp2B,EAAAq2B,gBAAc,wBAAU,iDAKlE12B,EAAAA,EAAAA,IAGM,MAHNkC,GAGM,cAFJlC,EAAAA,EAAAA,IAAgC,UAA5B,2BAAuB,KAC3BA,EAAAA,EAAAA,IAAoD,IAApDmC,GAAoD,EAApCnC,EAAAA,EAAAA,IAAgC,SAA7B,KAACyB,EAAAA,EAAAA,IAAGpB,EAAAs2B,oBAAkB,U,2BAUnD,IACEluB,IAAAA,GACE,MAAO,CAELC,OAAQC,wBAERwtB,gBAAiB,EACjBE,kBAAmB,GACnBD,uBAAwB,GACxBE,wBAAyB,EACzBC,mBAAoB,GACpBC,eAAgB,EAChBE,eAAgB,GAChBD,oBAAqB,GACrBE,mBAAoB,EAExB,EACAxsB,QAAS,CACP,wBAAMysB,GACJ,IACE,MAAM7rB,QAAiBwC,GAAAA,EAAM8K,IAAI,GAAGzO,KAAKlB,oCAAqC,CAC5EwC,QAAS,CACPuC,cAAe,UAAU5C,aAAaC,QAAQ,cAIlDN,QAAQC,IAAI,oBAAqBM,EAAStC,MAE1C,MAAMA,EAAOsC,EAAStC,KAAKouB,uBAC3B,IAAKpuB,GAAwB,IAAhBA,EAAK/B,OAEhB,YADA8D,QAAQoB,KAAK,mCAIfhC,KAAKktB,YAAYruB,EACnB,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,4BAA6BA,EAC7C,CACF,EAEAqrB,WAAAA,CAAYruB,GACV,MAAMsuB,EAAeC,OAAQ7xB,OAAO,WAC9B8xB,EAAYD,OAAQE,SAAS,EAAG,SAAS/xB,OAAO,WAChDgyB,EAAQH,OAAQ5d,OAEtB,IAAI+c,EAAkB,EAClBG,EAA0B,EAC1BK,EAAqB,EACrBS,EAAqBJ,OAAQE,SAAS,EAAG,SAASG,cAEtD5uB,EAAK6D,SAASmO,IACZ,MAAM6c,EAAaN,KAAMvc,EAAM8c,YAAYpyB,OAAO,WAC5CqyB,EAAWR,KAAMvc,EAAM8c,YAAYne,OAErCke,IAAeP,IACjBZ,GAAmB1b,EAAMgd,MAEvBH,IAAeL,IACjBN,GAAsBlc,EAAMgd,KACxBD,GAAYL,IACdb,GAA2B7b,EAAMgd,UAOvC7tB,KAAKusB,gBAAkBuB,WAAWvB,EAAgB9H,QAAQ,IAChEzkB,KAAK0sB,wBAA0BoB,WAAWpB,EAAwBjI,QAAQ,IAC1EzkB,KAAK+sB,mBAAqBe,WAAWf,EAAmBtI,QAAQ,IAChEzkB,KAAKysB,kBAAoBqB,aAAavB,EAAkBG,IAA4BA,GAA2B,GAAK,KAAKjI,QAAQ,IACjIzkB,KAAK4sB,eAAiBkB,YAAavB,EAAkBgB,EAASC,GAAoB/I,QAAQ,IAC1FzkB,KAAK8sB,eAAiBgB,aAAa9tB,KAAK4sB,eAAiBG,IAAuBA,GAAsB,GAAK,KAAKtI,QAAQ,IACxHzkB,KAAK6sB,oBAAsBhuB,EAAKkvB,gBAAkB,EAAI,KAAO,OAC7D/tB,KAAKwsB,uBAAyBD,EAAkBG,EAA0B,KAAO,OAEjF9rB,QAAQC,IAAI,0BAA2B,CACrC0rB,gBAAiBvsB,KAAKusB,gBACtBE,kBAAmBzsB,KAAKysB,kBACxBC,wBAAyB1sB,KAAK0sB,wBAC9BK,mBAAoB/sB,KAAK+sB,mBACzBH,eAAgB5sB,KAAK4sB,eACrBE,eAAgB9sB,KAAK8sB,gBAGnB,GAEF/sB,OAAAA,GACEC,KAAKgtB,oBACP,GC7HF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCPS72B,MAAM,gB,IAECymB,IAAI,e,2CAFhBhnB,EAAAA,EAAAA,IAGM,MAHNC,GAGM,cAFFO,EAAAA,EAAAA,IAAoE,MAAhED,MAAM,SAAO,UAAC,oBAAeC,EAAAA,EAAAA,IAA8B,QAAxBD,MAAM,QAAO,UAAI,KACxDC,EAAAA,EAAAA,IAAmC,SAAnCC,GAAmC,W,0BAwB3C23B,GAAAA,GAAMC,SAASC,GAAAA,GAAeC,GAAAA,GAAYC,GAAAA,GAAeC,GAAAA,GAAaC,GAAAA,GAAOC,GAAAA,GAASC,GAAAA,IAEtF,QAIIpM,KAAAA,GACI,MAAMqM,GAAc7R,EAAAA,GAAAA,IAAI,MACxB,IAAI8R,EAAgB,KACpB,MAAM5vB,EAASC,wBAET4vB,EAAYjQ,UACd,IACI,MAAMvd,QAAiBwC,GAAAA,EAAM8K,IAAI,GAAG3P,+BAAqC,CACrEwC,QAAS,CACLuC,cAAe,UAAU5C,aAAaC,QAAQ,cAItDN,QAAQC,IAAI,gBAAiBM,EAAStC,MAEtC,MAAMA,EAAOsC,EAAStC,KAAKouB,uBACrB2B,EAAc,CAAC,EAGrB/vB,EAAK6D,SAASoO,IACV,MAAMtB,EAAO,IAAIyB,KAAKH,EAAK6c,YACrB9d,EAAQL,EAAKqf,eAAe,UAAW,CAAEhf,MAAO,QAASE,KAAM,YAEhE6e,EAAY/e,KACb+e,EAAY/e,GAAS,CAAEif,UAAW,EAAGC,QAAS,IAElDH,EAAY/e,GAAOiB,EAAKke,wBAA0Ble,EAAK+c,QAG3DjtB,QAAQC,IAAI,0BAA2B+tB,GAGvC,MAAMK,EAAerwB,OAAOswB,KAAKN,GAC5BjtB,KAAKkO,IAAK,CAAQA,QAAOL,KAAM,IAAIyB,KAAKpB,OACxC3N,MAAK,CAACC,EAAGC,IAAMD,EAAEqN,KAAOpN,EAAEoN,OAC1B7N,KAAKkP,GAAUA,EAAMhB,QAGpBsf,EAAeF,EAAa9T,OAAO,GAGnCiU,EAAgBD,EAAaxtB,KAAKkO,GAAU+e,EAAY/e,IAAQif,WAAa,IAC7EO,EAAcF,EAAaxtB,KAAKkO,GAAU+e,EAAY/e,IAAQkf,SAAW,IAG/EO,EAAYH,EAAcC,EAAeC,EAC7C,CAAE,MAAOxtB,GACLjB,QAAQiB,MAAM,uBAAwBA,EAC1C,GAGEytB,EAAcA,CAACC,EAAQH,EAAeC,KACpCX,GACAA,EAAcc,UAGlB,MAAMC,EAAMhB,EAAYxzB,MAAMy0B,WAAW,MAEzChB,EAAgB,IAAIV,GAAAA,GAAMyB,EAAK,CAC3B5zB,KAAM,MACNgD,KAAM,CACF0wB,OAAQA,EACRI,SAAU,CACN,CACIpY,MAAO,YACPwG,gBAAiB,UACjBlf,KAAMuwB,EACNQ,MAAO,UAEX,CACIrY,MAAO,UACPwG,gBAAiB,MACjBlf,KAAMwwB,EACNO,MAAO,YAInB7Z,QAAS,CACL8Z,YAAY,EACZC,QAAS,CACLC,OAAQ,CAAEC,SAAS,GACnBC,MAAO,CAAED,SAAS,EAAMt0B,KAAM,mCAElCw0B,OAAQ,CACJliB,EAAG,CACCmiB,KAAM,CACFH,SAAS,GAEbI,SAAS,GAEbliB,EAAG,CACCiiB,KAAM,CACFE,YAAY,EACZC,WAAW,EACXla,MAAO,SAAUma,GACb,OAA8B,IAAvBA,EAAQC,KAAKv1B,MAAc,cAAgB,SACtD,GAEJm1B,SAAS,IAGjBK,SAAU,CACNC,IAAK,CACDC,aAAc,SAWlC,OAFAC,EAAAA,EAAAA,IAAUjC,GAEH,CAAEF,cACb,GC9IJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROt4B,MAAM,gB,IAEJA,MAAM,iD,IACFA,MAAM,qC,IAUFA,MAAM,Y,IAELA,MAAM,sC,IACNA,MAAM,sC,IACNA,MAAM,sC,IACNA,MAAM,sC,IACNA,MAAM,sC,2CAnBtBP,EAAAA,EAAAA,IAyBM,MAzBNC,GAyBM,cAxBJO,EAAAA,EAAAA,IAAkE,MAA9DD,MAAM,SAAO,UAAC,kBAAaC,EAAAA,EAAAA,IAA8B,QAAxBD,MAAM,QAAO,UAAI,KACtDC,EAAAA,EAAAA,IAqBQ,MArBRC,GAqBQ,EApBND,EAAAA,EAAAA,IAmBU,QAnBVY,GAmBU,cAlBNZ,EAAAA,EAAAA,IAQQ,eAPNA,EAAAA,EAAAA,IAMK,MANDD,MAAM,yBAAuB,EAC/BC,EAAAA,EAAAA,IAAkF,MAA9ED,MAAM,0DAAyD,eACnEC,EAAAA,EAAAA,IAAgF,MAA5ED,MAAM,0DAAyD,aACnEC,EAAAA,EAAAA,IAAyF,MAArFD,MAAM,0DAAyD,sBACnEC,EAAAA,EAAAA,IAA6F,MAAzFD,MAAM,0DAAyD,0BACnEC,EAAAA,EAAAA,IAA4E,MAAxED,MAAM,0DAAyD,YAAI,KAG3EC,EAAAA,EAAAA,IAQQ,QARRc,GAQQ,gBAPNtB,EAAAA,EAAAA,IAMK2B,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANuBgB,EAAAq4B,qBAAmB,CAAnC/f,EAAM7T,M,WAAlBrH,EAAAA,EAAAA,IAMK,MAN6C+B,IAAKsF,EAAO9G,MAAM,e,EAClEC,EAAAA,EAAAA,IAAyE,KAAzEe,IAAyEU,EAAAA,EAAAA,IAAvBiZ,EAAK6c,YAAU,IACjEv3B,EAAAA,EAAAA,IAAuE,KAAvEkB,IAAuEO,EAAAA,EAAAA,IAArBiZ,EAAKggB,UAAQ,IAC/D16B,EAAAA,EAAAA,IAAgF,KAAhFwB,IAAgFC,EAAAA,EAAAA,IAA9BiZ,EAAKigB,mBAAiB,IACxE36B,EAAAA,EAAAA,IAAoF,KAApF0B,IAAoFD,EAAAA,EAAAA,IAAlCiZ,EAAKke,uBAAqB,IAC5E54B,EAAAA,EAAAA,IAAmE,KAAnE4B,IAAmEH,EAAAA,EAAAA,IAAjBiZ,EAAK+c,MAAI,Q,cAUzE,QACEhvB,IAAAA,GACE,MAAO,CAELC,OAAQC,wBAERiyB,cAAe,GACfC,sBAAuB,GACvBnQ,UAAW,CACTI,qBAAsB,IAExBgQ,cAAe,GACftzB,SAAS,EACTiE,MAAO,KAEX,EACA,aAAM9B,SACEC,KAAKuhB,mBAEX,MAAMgM,EAAQ,IAAItc,KACZkgB,EAAe,IAAIlgB,KAAKsc,EAAMvd,cAAeud,EAAMzd,WAAY,GAC/DshB,EAAa,IAAIngB,KAAKsc,EAAMvd,cAAeud,EAAMzd,WAAa,EAAG,GAGvE9P,KAAKixB,sBAAwBE,EAAajf,cAActM,MAAM,KAAK,GACnE5F,KAAKqxB,oBAAsBD,EAAWlf,cAActM,MAAM,KAAK,SAGzD5F,KAAKsxB,yBACTtxB,KAAKixB,sBACLjxB,KAAKqxB,oBAGT,EACAre,SAAU,CAER6d,mBAAAA,GACE,MAAO,IAAI7wB,KAAKkxB,eAAehvB,MAAK,CAACC,EAAGC,IAAM,IAAI6O,KAAK7O,EAAEurB,YAAc,IAAI1c,KAAK9O,EAAEwrB,aACpF,GAGFptB,QAAS,CAGP,mBAAMgxB,GACJ,IAAKvxB,KAAKgxB,cAAe,OAGzB,MAAOjhB,EAAMF,GAAS7P,KAAKgxB,cAAcprB,MAAM,KACzCuS,EAAY,IAAIlH,KAAKlB,EAAMF,EAAQ,EAAG,GAAGqC,cAActM,MAAM,KAAK,GAClEwS,EAAU,IAAInH,KAAKlB,EAAMF,EAAO,GAAGqC,cAActM,MAAM,KAAK,SAG5D5F,KAAKsxB,yBAAyBnZ,EAAWC,EACjD,EACA,sBAAMmJ,GACJ,IACE,MAAMpgB,QAAiBC,MAAM,GAAGpB,KAAKlB,cAAe,CAClDuC,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU5C,aAAaC,QAAQ,cAIlD,IAAKC,EAASI,GACZ,MAAM,IAAIC,MAAM,gCAGlB,MAAM3C,QAAasC,EAASO,OAC5Bd,QAAQC,IAAIhC,GACZmB,KAAK8gB,UAAUI,qBAAuBriB,EAAK,uBAC7C,CAAE,MAAOgD,GACPjB,QAAQiB,MAAM,+BAAgCA,EAChD,CACF,EACA,8BAAMyvB,CAAyBnZ,EAAWC,GAC5C,IACE,MAAMjX,QAAiBC,MACrB,GAAGpB,KAAKlB,gDAAgDqZ,cAAsBC,IAC9E,CACE/W,OAAQ,MACRC,QAAS,CACPuC,cAAe,UAAU5C,aAAaC,QAAQ,cAI9CrC,QAAasC,EAASO,OAC5B1B,KAAKkxB,cAAgBryB,EAAKouB,uBAC1BjtB,KAAKpC,SAAU,CACjB,CAAE,MAAO4c,GACPxa,KAAK6B,MAAQ2Y,EAAItW,SAAW,uBAC5BlE,KAAKpC,SAAU,CACjB,CACF,EACI4zB,aAAAA,GACExxB,KAAK0c,QAAQ/b,KAAK,aACpB,ICvHJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UNoBA,IACErC,WAAW,CACPmzB,YAAW,GAACC,aAAY,GAACC,gBAAeA,KOxB9C,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROx7B,MAAM,gC,IACJA,MAAM,gF,IAEJA,MAAM,qC,IAQJA,MAAM,yC,UAWKA,MAAM,S,IAEhBymB,IAAI,kB,8EAxBhBhnB,EAAAA,EAAAA,IA2BM,MA3BNC,GA2BM,EA1BJO,EAAAA,EAAAA,IAwBM,MAxBNC,GAwBM,EAtBJD,EAAAA,EAAAA,IAeM,MAfNY,GAeM,cAdJZ,EAAAA,EAAAA,IAEM,aADJA,EAAAA,EAAAA,IAAmE,MAA/DD,MAAM,SAAO,UAAC,mBAAcC,EAAAA,EAAAA,IAA8B,QAAxBD,MAAM,QAAO,YAAI,KAMzDC,EAAAA,EAAAA,IAMM,MANNc,GAMM,EALJpB,EAAAA,EAAAA,IAC0G87B,EAAA,C,WADjFn7B,EAAAo7B,U,qCAAAp7B,EAAAo7B,UAASr7B,GAAEqF,KAAK,YAAY,kBAAgB,KAAK,oBAAkB,aAC1F,kBAAgB,WAAW,eAAa,aAAcC,SAAQtD,EAAAs5B,YAAc37B,MAAM,qB,mCAEpFC,EAAAA,EAAAA,IACsH,UAD7GE,QAAKC,EAAA,KAAAA,EAAA,OAAAoE,IAAEnC,EAAAw0B,oBAAAx0B,EAAAw0B,sBAAAryB,IAChBxE,MAAM,gGAAkG,aAMjGM,EAAAoL,QAAK,WAAhBjM,EAAAA,EAAAA,IAAiD,MAAjDuB,IAAiDU,EAAAA,EAAAA,IAAdpB,EAAAoL,OAAK,qBAExCzL,EAAAA,EAAAA,IAAsC,SAAtCkB,GAAsC,a,gBAU5C,I,QAAA,CACEtB,KAAM,gBACN6I,IAAAA,GACE,MAAO,CAELC,OAAQC,wBACR8yB,UAAW,GACX1Z,UAAW,GACXC,QAAS,GACT8Y,cAAe,KACfrvB,MAAO,KACPjE,SAAS,EACTm0B,MAAO,KACPC,YAAa,GACbC,UAAW,CACTnnB,KAAM,GACNI,UAAW,IAGjB,EACA6O,OAAAA,GAEE,MAAMwT,EAAQ,IAAItc,KAClBjR,KAAKoY,QAAUmV,EAAMrb,cAActM,MAAM,KAAK,GAG9C,MAAMssB,EAAW,IAAIjhB,KACrBihB,EAASC,QAAQ5E,EAAM5d,UAAY,GACnC3P,KAAKmY,UAAY+Z,EAAShgB,cAActM,MAAM,KAAK,GAEnD5F,KAAKgtB,qBACLhtB,KAAKsvB,aACP,EACA/uB,QAAS,CAEPuxB,WAAAA,GACE9xB,KAAKmY,UAAYnY,KAAK6xB,UAAY7xB,KAAK6xB,UAAU,GAAK,KACtD7xB,KAAKoY,QAAUpY,KAAK6xB,UAAY7xB,KAAK6xB,UAAU,GAAK,IACtD,EACA7E,kBAAAA,GACE,IAAKhtB,KAAKmY,YAAcnY,KAAKoY,QAE3B,YADApY,KAAK6B,MAAQ,qCAIf7B,KAAKpC,SAAU,EACfoC,KAAK6B,MAAQ,KACb7B,KAAKgyB,YAAc,GACnBhyB,KAAKiyB,UAAY,CACfnnB,KAAM,GACNI,UAAW,IAGb,MAAMxN,EAAM,GAAGsC,KAAKlB,8BAA8BkB,KAAKmY,iBAAiBnY,KAAKoY,UAE7EhX,MAAM1D,EAAK,CACT2D,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiB,UAAUL,aAAaC,QAAQ,cAGjDqb,MAAK6V,IACJ,IAAKA,EAAI7wB,GAAI,MAAM,IAAIC,MAAM,6BAC7B,OAAO4wB,EAAI1wB,UAEZ6a,MAAK1d,IACJmB,KAAKkxB,cAAgBryB,EAErB,MAAMwzB,EAAUxzB,EAAKyzB,WAAWC,aAAe,GAC/C,GAAuB,IAAnBF,EAAQv1B,OAEV,YADAkD,KAAK6B,MAAQ,4BAIf,IAAI2wB,EAAcH,EAGlB,GAAIA,EAAQv1B,OAAS,GAAI,CACvB,MAAM21B,EAAWzH,KAAK0H,KAAKL,EAAQv1B,OAAS,IAC5C01B,EAAcH,EAAQxsB,QAAO,CAAC8sB,EAAG11B,IAAUA,EAAQw1B,IAAa,GAClE,CAEAD,EAAY9vB,SAAQoO,IAClB,MAAMtB,EAAO,IAAIyB,KAAkB,IAAbH,EAAK8hB,OACrB5hB,EAAgBxB,EAAKwG,mBAAmB,QAAS,CAAEvG,IAAK,UAAWI,MAAO,UAChF7P,KAAKgyB,YAAYrxB,KAAKqQ,GACtBhR,KAAKiyB,UAAUnnB,KAAKnK,KAAKmQ,EAAKhG,MAAQ,GACtC9K,KAAKiyB,UAAU/mB,UAAUvK,KAAKmQ,EAAK5F,WAAa,MAUlDlL,KAAKsvB,iBAEN3S,OAAMnC,IACLxa,KAAK6B,MAAQ2Y,EAAItW,WAElB2uB,SAAQ,KACP7yB,KAAKpC,SAAU,IAErB,EACA0xB,WAAAA,GACE,MAAMG,EAAMzvB,KAAK0d,MAAMoV,eAEnB9yB,KAAK+xB,OACP/xB,KAAK+xB,MAAMvC,UAGbxvB,KAAK+xB,MAAQ,IAAI/D,GAAAA,EAAMyB,EAAK,CAC1B5zB,KAAM,OACNgD,KAAM,CACJ0wB,OAAQvvB,KAAKgyB,YACbrC,SAAU,CACR,CACEpY,MAAO,gBACP1Y,KAAMmB,KAAKiyB,UAAUnnB,KAAKnJ,KAAI,CAACoxB,EAAK91B,IAAU81B,EAAM/yB,KAAKiyB,UAAU/mB,UAAUjO,KAC7E+1B,YAAa,MACbjV,gBAAiB,0BACjBkV,WAAY,CAAC,EAAG,GAChBC,QAAS,GAEX,CACE3b,MAAO,OACP1Y,KAAMmB,KAAKiyB,UAAUnnB,KACrBkoB,YAAa,UACbjV,gBAAiB,0BACjBkV,WAAY,GACZC,QAAS,GAEX,CACE3b,MAAO,YACP1Y,KAAMmB,KAAKiyB,UAAU/mB,UACrB8nB,YAAa,UACbjV,gBAAiB,yBACjBkV,WAAY,CAAC,EAAG,GAChBC,QAAS,KAIfnd,QAAS,CACP8Z,YAAY,EACZC,QAAS,CACPC,OAAQ,CACNoD,SAAU,OAEZlD,MAAO,CACLD,SAAS,EACTt0B,KAAM,yCAGVw0B,OAAQ,CACNhiB,EAAG,CACDklB,aAAa,EACbnD,MAAO,CACLD,SAAS,EACTt0B,KAAM,aAGVsS,EAAG,CACDiiB,MAAO,CACLD,SAAS,EACTt0B,KAAM,YAMlB,KCzMJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCROvF,MAAM,kB,IACDA,MAAM,U,IAYRA,MAAM,mB,IACLA,MAAM,gB,IAkKJA,MAAM,a,2EAhLjBP,EAAAA,EAAAA,IAsLM,MAtLNC,GAsLM,EArLJO,EAAAA,EAAAA,IAUS,SAVTC,GAUS,EARPP,EAAAA,EAAAA,IAOcooB,EAAA,CAPDC,GAAG,IAAIhoB,MAAM,a,mBACxB,IAIEI,EAAA,KAAAA,EAAA,KAJFH,EAAAA,EAAAA,IAIE,OAHA2C,IAAI,gCACJwd,IAAI,cACJpgB,MAAM,a,UAERC,EAAAA,EAAAA,IAAqC,QAA/BD,MAAM,aAAY,UAAM,O,gBAIlCC,EAAAA,EAAAA,IAwKO,OAxKPY,GAwKO,EAvKLZ,EAAAA,EAAAA,IAsKM,MAtKNc,GAsKM,oxLAJJd,EAAAA,EAAAA,IAGM,MAHNe,GAGM,EADJrB,EAAAA,EAAAA,IAA8DooB,EAAA,CAAjDC,GAAG,IAAIhoB,MAAM,U,mBAAS,IAAaI,EAAA,KAAAA,EAAA,aAAb,qB,qBAQ7C,QACEP,KAAM,mBCrLR,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCWA,MAAMwN,IAAQC,EAAAA,GAAAA,MAER4vB,GAAS,CAEb,CAAE/T,KAAM,IAAK3c,UAAW2wB,IACxB,CAAEhU,KAAM,UAAW3c,UAAW4wB,IAI9B,CACEjU,KAAM,qBACN3c,UAAW6wB,GACXx9B,KAAM,mBAIR,CACEspB,KAAM,aACN3c,UAAW8wB,GACXC,KAAM,CAAEC,cAAc,GACtBC,SAAU,CACR,CAAEtU,KAAM,SAAU3c,UAAWkxB,GAAS79B,KAAM,WAC5C,CACEspB,KAAM,kBACN3c,UAAWmxB,GACX99B,KAAM,iBAER,CACEspB,KAAM,2BACN3c,UAAWoxB,GACX/9B,KAAM,iBAER,CACEspB,KAAM,wBACN3c,UAAWqxB,GACXh+B,KAAM,cAER,CACEspB,KAAM,wBACN3c,UAAWsxB,GACXj+B,KAAM,cAER,CACEspB,KAAM,wBACN3c,UAAWuxB,GACXl+B,KAAM,cAER,CAAEspB,KAAM,sBAAuB3c,UAAWwxB,GAAWn+B,KAAM,aAC3D,CAAEspB,KAAM,sBAAuB3c,UAAWyxB,GAAWp+B,KAAM,aAC3D,CACEspB,KAAM,4BACN3c,UAAW0xB,GACXr+B,KAAM,gBAER,CAAEspB,KAAM,WAAY3c,UAAW2xB,IAC/B,CAAEhV,KAAM,YAAa3c,UAAW4xB,IAChC,CAAEjV,KAAM,GAAIkV,SAAU,yBACtB,CACElV,KAAM,uBACN3c,UAAW8xB,GACXz+B,KAAM,kBAORqsB,IAASqS,EAAAA,EAAAA,IAAa,CAC1BC,SAASC,EAAAA,EAAAA,MACTvB,YAKFhR,GAAOwS,YAAW,CAAC1W,EAAI2W,EAAMC,KAC3B,MAAM/zB,EAAQC,aAAaC,QAAQ,SAEnC,GAAIid,EAAG6W,QAAQ1f,MAAM2f,GAAWA,EAAOvB,KAAKC,eAAe,CACzD,IAAK3yB,EAIH,OADAwC,GAAM3B,MAAM,yCACLkzB,EAAK,KAGd,IACE,MAAMrxB,EAAU6N,KAAKwS,MAAMmR,KAAKl0B,EAAM4E,MAAM,KAAK,KAC3CiN,EAAMmY,KAAKC,MAAMha,KAAK4B,MAAQ,KAEpC,GAAInP,EAAQyxB,IAAMtiB,EAIhB,OAFA5R,aAAa0jB,WAAW,SACxBnhB,GAAM3B,MAAM,yCACLkzB,EAAK,IAEhB,CAAE,MAAOlzB,GAIP,OAFAZ,aAAa0jB,WAAW,SAEjBoQ,EAAK,IACd,CACF,CAGAA,OAIF,U,qBCtHA,MAAMK,IAAMC,EAAAA,EAAAA,IAAUC,GACtBF,GAAIG,IAAIC,GAAAA,GACRJ,GAAIG,IAAIE,GAAAA,GAAO,CACXtC,SAAUuC,GAAAA,GAASC,SACnBC,QAAS,IACTC,OAAQ,aAIZT,GAAIU,OAAOC,UAAW,EAEtBn1B,QAAQC,IAAI,WAAY9B,yBAGxBq2B,GAAIG,IAAIlT,IAAQ2T,MAAM,O,GCvBlBC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB93B,IAAjB+3B,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBO,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfR,EAAoBS,EAAI,SAAS/kB,EAAQglB,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAAS5M,EAAI,EAAGA,EAAIsM,EAAS55B,OAAQstB,IAAK,CACrCwM,EAAWF,EAAStM,GAAG,GACvByM,EAAKH,EAAStM,GAAG,GACjB0M,EAAWJ,EAAStM,GAAG,GAE3B,IAJA,IAGI6M,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS95B,OAAQo6B,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAal4B,OAAOswB,KAAKgH,EAAoBS,GAAGQ,OAAM,SAASx/B,GAAO,OAAOu+B,EAAoBS,EAAEh/B,GAAKi/B,EAASM,GAAK,IAChKN,EAASnxB,OAAOyxB,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbP,EAASjxB,OAAO2kB,IAAK,GACrB,IAAIhO,EAAIya,SACEx4B,IAAN+d,IAAiBxK,EAASwK,EAC/B,CACD,CACA,OAAOxK,CArBP,CAJCklB,EAAWA,GAAY,EACvB,IAAI,IAAI1M,EAAIsM,EAAS55B,OAAQstB,EAAI,GAAKsM,EAAStM,EAAI,GAAG,GAAK0M,EAAU1M,IAAKsM,EAAStM,GAAKsM,EAAStM,EAAI,GACrGsM,EAAStM,GAAK,CAACwM,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBkB,EAAI,SAASd,GAChC,IAAIe,EAASf,GAAUA,EAAOgB,WAC7B,WAAa,OAAOhB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBn/B,EAAEsgC,EAAQ,CAAEl1B,EAAGk1B,IAC5BA,CACR,C,eCNAnB,EAAoBn/B,EAAI,SAASs/B,EAASkB,GACzC,IAAI,IAAI5/B,KAAO4/B,EACXrB,EAAoBsB,EAAED,EAAY5/B,KAASu+B,EAAoBsB,EAAEnB,EAAS1+B,IAC5EiH,OAAO64B,eAAepB,EAAS1+B,EAAK,CAAE+/B,YAAY,EAAMjpB,IAAK8oB,EAAW5/B,IAG3E,C,eCPAu+B,EAAoByB,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO53B,MAAQ,IAAI63B,SAAS,cAAb,EAChB,CAAE,MAAOC,GACR,GAAsB,kBAAXzU,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB6S,EAAoBsB,EAAI,SAASO,EAAKC,GAAQ,OAAOp5B,OAAOq5B,UAAUC,eAAe1B,KAAKuB,EAAKC,EAAO,C,eCCtG9B,EAAoB9Z,EAAI,SAASia,GACX,qBAAX8B,QAA0BA,OAAOC,aAC1Cx5B,OAAO64B,eAAepB,EAAS8B,OAAOC,YAAa,CAAEn9B,MAAO,WAE7D2D,OAAO64B,eAAepB,EAAS,aAAc,CAAEp7B,OAAO,GACvD,C,eCDA,IAAIo9B,EAAkB,CACrB,IAAK,GAaNnC,EAAoBS,EAAEO,EAAI,SAASoB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B35B,GAC/D,IAKIs3B,EAAUmC,EALV1B,EAAW/3B,EAAK,GAChB45B,EAAc55B,EAAK,GACnB65B,EAAU75B,EAAK,GAGIurB,EAAI,EAC3B,GAAGwM,EAASthB,MAAK,SAAS3f,GAAM,OAA+B,IAAxB0iC,EAAgB1iC,EAAW,IAAI,CACrE,IAAIwgC,KAAYsC,EACZvC,EAAoBsB,EAAEiB,EAAatC,KACrCD,EAAoBO,EAAEN,GAAYsC,EAAYtC,IAGhD,GAAGuC,EAAS,IAAI9mB,EAAS8mB,EAAQxC,EAClC,CAEA,IADGsC,GAA4BA,EAA2B35B,GACrDurB,EAAIwM,EAAS95B,OAAQstB,IACzBkO,EAAU1B,EAASxM,GAChB8L,EAAoBsB,EAAEa,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOpC,EAAoBS,EAAE/kB,EAC9B,EAEI+mB,EAAqBC,KAAK,sBAAwBA,KAAK,uBAAyB,GACpFD,EAAmBj2B,QAAQ61B,EAAqBM,KAAK,KAAM,IAC3DF,EAAmBh4B,KAAO43B,EAAqBM,KAAK,KAAMF,EAAmBh4B,KAAKk4B,KAAKF,G,IC/CvF,IAAIG,EAAsB5C,EAAoBS,OAAEt4B,EAAW,CAAC,MAAM,WAAa,OAAO63B,EAAoB,KAAO,IACjH4C,EAAsB5C,EAAoBS,EAAEmC,E","sources":["webpack://Wotnot/./src/App.vue","webpack://Wotnot/./src/App.vue?7ccd","webpack://Wotnot/./src/components/broadcast/broadcast1.vue","webpack://Wotnot/./src/components/popups/popup.vue","webpack://Wotnot/./src/components/popups/popup.vue?501f","webpack://Wotnot/./src/components/popups/template_preview.vue","webpack://Wotnot/./src/components/popups/template_preview.vue?d2f1","webpack://Wotnot/./src/components/popups/confirmation.vue","webpack://Wotnot/./src/components/popups/confirmation.vue?2450","webpack://Wotnot/./src/components/broadcast/broadcast1.vue?6864","webpack://Wotnot/./src/components/broadcast/broadcast2.vue","webpack://Wotnot/./src/components/popups/popup1.vue","webpack://Wotnot/./src/components/popups/popup1.vue?7908","webpack://Wotnot/./src/components/broadcast/broadcast2.vue?6dee","webpack://Wotnot/./src/components/broadcast/broadcast3.vue","webpack://Wotnot/./src/components/broadcast/broadcast3.vue?0309","webpack://Wotnot/./src/components/contacts/contacts1.vue","webpack://Wotnot/./src/components/popups/popup_small.vue","webpack://Wotnot/./src/components/popups/popup_small.vue?6150","webpack://Wotnot/./src/components/contacts/contacts1.vue?4b29","webpack://Wotnot/./src/components/contacts/contacts2.vue","webpack://Wotnot/./src/components/contacts/contacts2.vue?a8e4","webpack://Wotnot/./src/components/integration/integration.vue","webpack://Wotnot/./src/components/integration/integration.vue?64fa","webpack://Wotnot/./src/components/login/login.vue","webpack://Wotnot/./src/components/login/login.vue?4650","webpack://Wotnot/./src/components/AIagent/AIagent.vue","webpack://Wotnot/./src/components/AIagent/AIagent.vue?69e0","webpack://Wotnot/./src/components/signup/basic_signup.vue","webpack://Wotnot/./src/components/signup/basic_signup.vue?e716","webpack://Wotnot/./src/views/dashboardview.vue","webpack://Wotnot/./src/views/profile.vue","webpack://Wotnot/./src/views/profile.vue?ab09","webpack://Wotnot/./src/views/dashboardview.vue?94c0","webpack://Wotnot/./src/views/profileSettings.vue","webpack://Wotnot/./src/views/profileSettings.vue?ea72","webpack://Wotnot/./src/components/chatbot/chatbotview.vue","webpack://Wotnot/./src/components/chatbot/chatbotview.vue?ce14","webpack://Wotnot/./src/components/PurchaseHistory/CostDashboard.vue","webpack://Wotnot/./src/components/PurchaseHistory/costSummary.vue","webpack://Wotnot/./src/components/PurchaseHistory/costSummary.vue?9066","webpack://Wotnot/./src/components/PurchaseHistory/costBarChart.vue","webpack://Wotnot/./src/components/PurchaseHistory/costBarChart.vue?32db","webpack://Wotnot/./src/components/PurchaseHistory/PurchaseHistory.vue","webpack://Wotnot/./src/components/PurchaseHistory/PurchaseHistory.vue?2264","webpack://Wotnot/./src/components/PurchaseHistory/CostDashboard.vue?b761","webpack://Wotnot/./src/components/analytics/Analytics.vue","webpack://Wotnot/./src/components/analytics/Analytics.vue?0515","webpack://Wotnot/./src/views/TermsAndPrivacy.vue","webpack://Wotnot/./src/views/TermsAndPrivacy.vue?d828","webpack://Wotnot/./src/router.js","webpack://Wotnot/./src/main.js","webpack://Wotnot/webpack/bootstrap","webpack://Wotnot/webpack/runtime/chunk loaded","webpack://Wotnot/webpack/runtime/compat get default export","webpack://Wotnot/webpack/runtime/define property getters","webpack://Wotnot/webpack/runtime/global","webpack://Wotnot/webpack/runtime/hasOwnProperty shorthand","webpack://Wotnot/webpack/runtime/make namespace object","webpack://Wotnot/webpack/runtime/jsonp chunk loading","webpack://Wotnot/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n};\r\n</script>\r\n\r\n<style>\r\n.Toastify__toast-container {\r\n  z-index: 99999 !important;\r\n}\r\n</style>","import { render } from \"./App.vue?vue&type=template&id=58bd0463\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=58bd0463&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-xl md:text-2xl font-bold\">Manage Templates</h2>\r\n\r\n        <p class=\"text-sm md:text-base\">Your content for scheduled broadcasts goes here.</p>\r\n      </div>\r\n\r\n      <div>\r\n        <!-- <button @click=\"showPopup = true\"\r\n          class=\"text-[#f5f6fa] px-4 py-2 md:px-4 md:py-4 text-sm md:text-base w-full md:w-auto\">\r\n          Create New Template\r\n        </button> -->\r\n        <button\r\n          class=\"bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:from-[#078478] hover:via-[#08b496] hover:to-[#078478] transition-all duration-300\"\r\n          @click=\"showPopup = true\">\r\n          <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4v16m8-8H4\"></path>\r\n          </svg>\r\n          New Template\r\n        </button>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <h3 class=\"text-xl md:text-2xs mb-4 text-gray-600\"><b>Template List</b><span v-if=\"cursor\"\r\n        class=\"ml-5 w-5 h-5 border-2 border-green-500 border-t-transparent rounded-full animate-spin inline-block\"></span>\r\n    </h3>\r\n\r\n\r\n    <div class=\"overflow-x-auto max-h-[55vh] custom-scrollbar mb-2\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\"\r\n        :class=\"{ 'opacity-50 pointer-events-none': tableLoading }\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n            <th class=\"p-3 md:p-4 text-left border border-gray-300 sticky top-0 z-10 bg-gray-100\">Name</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Language</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Status</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Category</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Sub Category</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">ID</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Preview</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody class=\"\">\r\n          <tr v-for=\"template in templates\" :key=\"template.id\" class=\"hover:bg-gray-50\">\r\n            <td class=\"p-3 md:p-4 text-left border border-gray-200\">{{ template.name }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ template.language }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div :class=\"{\r\n                ' text-green-600 font-semibold px-2 py-1 rounded': template.status === 'APPROVED',\r\n                ' text-blue-600 font-semibold px-2 py-1 rounded': template.status === 'PENDING',\r\n                ' text-red-500 font-semibold px-2 py-1 rounded': template.status === 'REJECTED'\r\n              }\">\r\n                {{ template.status }}\r\n              </div>\r\n            </td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ template.category }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ template.sub_category }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ template.id }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <button class=\"text-gray-600 underline hover:text-gray-800 hover:bg-inherit font-medium\"\r\n                @click=\"showpreview(template.preview)\">\r\n                Preview\r\n              </button>\r\n            </td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <button @click=\"showConfirmationPopup(template.name)\" class=\"hover:bg-white rounded-full p-2 transition\">\r\n                <lord-icon src=\"https://cdn.lordicon.com/skkahier.json\" trigger=\"hover\"\r\n                  colors=\"primary:#ff5757,secondary:#000000\" style=\"width:32px;height:32px\">\r\n                </lord-icon>\r\n              </button>\r\n            </td>\r\n            \r\n              \r\n            \r\n           \r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n\r\n    <confirmationPopup  v-if=\"showConfirmPopup\" @yes=\"deleteTemplate(deleteTemplateName)\" @no=\"showConfirmPopup = false\" @close=\"showConfirmPopup = false\" />\r\n\r\n    <PopUp_preview v-if=\"showPreview\" @close=\"closePreview\">\r\n\r\n      <div\r\n        class=\"flex flex-col aspect-[10/19] p-3 max-h-[670px] bg-[url('@/assets/chat-bg.jpg')] bg-cover bg-center custom-scrollbar\">\r\n        <div class=\"message\">\r\n          <span style=\"white-space: pre-line;\" v-html=\"preview_data\"></span>\r\n        </div>\r\n      </div>\r\n\r\n    </PopUp_preview>\r\n\r\n    <PopUp v-if=\"showPopup\" @close=\"closePopup\"\r\n      class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 custom-scrollbar\">\r\n\r\n\r\n      <h2 class=\"text-xl font-semibold mb-4 text-green-800\">Create Message Template</h2>\r\n\r\n      <hr class=\"pb-4\">\r\n\r\n\r\n      <div>\r\n\r\n        <div class=\"flex \">\r\n          <div class=\"mr-4 max-h-[600px] overflow-y-auto custom-scrollbar\">\r\n            <form class=\"p-4\" :class=\"{ 'opacity-50 pointer-events-none': isSubmitted }\">\r\n              <h4 class=\"text-green-800\"><b>Template name and language</b></h4>\r\n              <p class=\"text-sm mb-2 \">Categorize your template</p>\r\n              <div class=\"grid grid-cols-3 gap-4 bg-[#f5f6fa] p-4 mb-2\">\r\n                <div>\r\n                  <label class=\"block below-402:text-custom-small text-sm font-medium\">Template Name\r\n                    <span class=\"text-red-800\">*</span>\r\n                  </label>\r\n                  <div class=\"relative mb-2\">\r\n                    <input v-model=\"template.name\" :placeholder=\"'Template Name'\"\r\n                      @blur=\"validateTemplateName\" class=\"mt-1 p-2 w-full border border-gray-300 rounded-md h-10\" required />\r\n                                    <span v-if=\"nameError\" class=\"text-red-500 text-xs absolute top-full left-0 mt-1\">\r\n                      {{ nameError }}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label class=\"block text-sm font-medium\">Category<span class=\"text-red-800\">*</span></label>\r\n                  <select v-model=\"selectedCategory\" class=\"mt-1 p-2 w-full border border-gray-300 rounded-md h-10\"\r\n                    required>\r\n                    <option value=\"Marketing\">Marketing</option>\r\n                    <option value=\"Utility\">Utility</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <!-- Language -->\r\n                <div class=\"mb-4\">\r\n                  <label class=\"block text-sm font-medium\">Language<span class=\"text-red-800\">*</span></label>\r\n                  <select v-model=\"selectedLanguage\" class=\"mt-1 p-2 w-full border border-gray-300 rounded-md h-10\"\r\n                    required>\r\n                    <option value=\"af\">Afrikaans</option>\r\n                    <option value=\"sq\">Albanian</option>\r\n                    <option value=\"ar\">Arabic</option>\r\n                    <option value=\"az\">Azerbaijani</option>\r\n                    <option value=\"bn\">Bengali</option>\r\n                    <option value=\"bg\">Bulgarian</option>\r\n                    <option value=\"ca\">Catalan</option>\r\n                    <option value=\"zh_CN\">Chinese (Simplified)</option>\r\n                    <option value=\"zh_HK\">Chinese (Hong Kong)</option>\r\n                    <option value=\"zh_TW\">Chinese (Taiwan)</option>\r\n                    <option value=\"hr\">Croatian</option>\r\n                    <option value=\"cs\">Czech</option>\r\n                    <option value=\"da\">Danish</option>\r\n                    <option value=\"nl\">Dutch</option>\r\n                    <option value=\"en\">English</option>\r\n                    <option value=\"en_GB\">English (UK)</option>\r\n                    <option value=\"en_US\" default>English (US)</option>\r\n                    <option value=\"et\">Estonian</option>\r\n                    <option value=\"fil\">Filipino</option>\r\n                    <option value=\"fi\">Finnish</option>\r\n                    <option value=\"fr\">French</option>\r\n                    <option value=\"ka\">Georgian</option>\r\n                    <option value=\"de\">German</option>\r\n                    <option value=\"el\">Greek</option>\r\n                    <option value=\"gu\">Gujarati</option>\r\n                    <option value=\"ha\">Hausa</option>\r\n                    <option value=\"he\">Hebrew</option>\r\n                    <option value=\"hi\">Hindi</option>\r\n                    <option value=\"hu\">Hungarian</option>\r\n                    <option value=\"id\">Indonesian</option>\r\n                    <option value=\"ga\">Irish</option>\r\n                    <option value=\"it\">Italian</option>\r\n                    <option value=\"ja\">Japanese</option>\r\n                    <option value=\"kn\">Kannada</option>\r\n                    <option value=\"kk\">Kazakh</option>\r\n                    <option value=\"rw_RW\">Kinyarwanda</option>\r\n                    <option value=\"ko\">Korean</option>\r\n                    <option value=\"ky_KG\">Kyrgyz (Kyrgyzstan)</option>\r\n                    <option value=\"lo\">Lao</option>\r\n                    <option value=\"lv\">Latvian</option>\r\n                    <option value=\"lt\">Lithuanian</option>\r\n                    <option value=\"mk\">Macedonian</option>\r\n                    <option value=\"ms\">Malay</option>\r\n                    <option value=\"ml\">Malayalam</option>\r\n                    <option value=\"mr\">Marathi</option>\r\n                    <option value=\"nb\">Norwegian</option>\r\n                    <option value=\"fa\">Persian</option>\r\n                    <option value=\"pl\">Polish</option>\r\n                    <option value=\"pt_BR\">Portuguese (Brazil)</option>\r\n                    <option value=\"pt_PT\">Portuguese (Portugal)</option>\r\n                    <option value=\"pa\">Punjabi</option>\r\n                    <option value=\"ro\">Romanian</option>\r\n                    <option value=\"ru\">Russian</option>\r\n                    <option value=\"sr\">Serbian</option>\r\n                    <option value=\"sk\">Slovak</option>\r\n                    <option value=\"sl\">Slovenian</option>\r\n                    <option value=\"es\">Spanish</option>\r\n                    <option value=\"es_AR\">Spanish (Argentina)</option>\r\n                    <option value=\"es_ES\">Spanish (Spain)</option>\r\n                    <option value=\"es_MX\">Spanish (Mexico)</option>\r\n                    <option value=\"sw\">Swahili</option>\r\n                    <option value=\"sv\">Swedish</option>\r\n                    <option value=\"ta\">Tamil</option>\r\n                    <option value=\"te\">Telugu</option>\r\n                    <option value=\"th\">Thai</option>\r\n                    <option value=\"tr\">Turkish</option>\r\n                    <option value=\"uk\">Ukrainian</option>\r\n                    <option value=\"ur\">Urdu</option>\r\n                    <option value=\"uz\">Uzbek</option>\r\n                    <option value=\"vi\">Vietnamese</option>\r\n                    <option value=\"zu\">Zulu</option>\r\n                    <!-- Add other languages here -->\r\n                  </select>\r\n                </div>\r\n\r\n              </div>\r\n\r\n              \r\n\r\n\r\n              <h4 class=\"text-green-800\"><b>Content</b></h4>\r\n              <p class=\"text-sm mb-2 \">Fill in the header, body and footer sections of your template.</p>\r\n\r\n              <div class=\"bg-[#f5f6fa] p-4\">\r\n\r\n                <div>\r\n                  <label class=\"block text-sm font-medium\">Header</label>\r\n                  <select v-model=\"headerMediaComponent.format\" class=\"border border-[#ddd] p-2 rounded-md w-full mb-2\">\r\n                    <option value=\"TEXT\">Text</option>\r\n                    <option value=\"IMAGE\">Image</option>\r\n                    <option value=\"VIDEO\">Video</option>\r\n\r\n                  </select>\r\n\r\n                  <div v-if=\"headerMediaComponent.format === 'TEXT'\">\r\n                    <input v-model=\"headerComponent.text\" class=\"border border-[#ddd] p-2 rounded-md w-full mb-2\" />\r\n                  </div>\r\n\r\n                  <div v-if=\"headerMediaComponent.format === 'IMAGE' || headerMediaComponent.format === 'VIDEO'\">\r\n                    <div class=\"flex ml-4 place-items-stretch justify-between w-full\">\r\n                      <input type=\"file\" @change=\"handleFileChange\" class=\"mb-4\">\r\n\r\n                      <div>\r\n                        <button @click=\"uploadFile\" :disabled=\"!selectedFile || isUploading\"\r\n                          class=\"mr-5 px-4 py-2 bg-green-700 hover:bg-green-800 text-white rounded-lg disabled:cursor-not-allowed\">\r\n                          {{ isUploading ? 'Uploading...' : 'Upload' }}{{ uploadResponse ? 'ed' : '' }}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label class=\"block text-sm font-medium\">Body<span class=\"text-red-800\">*</span></label>\r\n\r\n                  <textarea v-model=\"bodyComponent.text\" class=\"mt-1 p-2 w-full border border-gray-300 rounded-md h-30\"\r\n                    placeholder=\"Enter text\" rows=\"4\" required></textarea>\r\n\r\n                  <div v-if=\"warningData\"\r\n                    class=\"mt-2 p-3 bg-yellow-100 text-yellow-800 text-sm rounded-md border border-yellow-300\">\r\n                    <p class=\"font-semibold\">Warning:{{ warningData }}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- <div class=\"quill-editor-wrapper\">\r\n                                  <QuillEditor class=\"quill-custom mt-1 p-2 w-full rounded-md h-60 bg-white\"\r\n                                   ref=\"myQuillEditor\"\r\n                  v-model:content=\"bodyComponent.text\" contentType=\"html\" theme=\"snow\" :toolbar=\"[\r\n                    ['bold', 'italic', 'underline']\r\n                  ]\" placeholder=\"Start typing your content here...\" />\r\n\r\n                </div> -->\r\n\r\n\r\n\r\n                <div class=\"flex items=flex-end justify-end\">\r\n                  <button type=\"button\" @click=\"addVariable\" class=\"text-black p-2 text-xs font-bold hover:bg-gray-200\">\r\n                    + Add variable\r\n                  </button>\r\n                </div>\r\n\r\n\r\n\r\n                <!-- <div v-if=\"variableCounter\">\r\n                <h4>Variable Examples</h4>\r\n                <div v-for=\"index in variableCounter\" :key=\"index\">\r\n                  <input type=\"text\" :placeholder=\"'Variable ' + index\" v-model=\"variables[index - 1]\"\r\n                    class=\"border border-[#ddd] p-2 rounded-md w-50px mb-2\" />\r\n                </div>\r\n              </div> -->\r\n\r\n                <div v-if=\"variables.length\">\r\n\r\n                  <h4></h4>\r\n                  <label class=\"block text-sm font-medium\">Samples for body content<span class=\"text-red-800\">*</span></label>\r\n                  <span class=\"text-sm text-gray-500\">To help us review your message template, please add an example for each variable in your body text. Do not use real customer information. Cloud API hosted by Meta reviews templates and variable parameters to protect the security and integrity of our services.</span>\r\n                  \r\n                  <div v-for=\"(variable, index) in variables\" :key=\"index\">\r\n                    <input type=\"text\" :placeholder=\"'Variable ' + (index + 1)\" v-model=\"variables[index]\"\r\n                      class=\"border border-[#ddd] p-2 rounded-md w-50px mb-2\" required />\r\n                  </div>\r\n                </div>\r\n\r\n\r\n                <label class=\"block text-sm font-medium\">Footer</label>\r\n                <input v-model=\"footerComponent.text\" placeholder=\"Enter text\"\r\n                  class=\"border border-[#ddd] p-2 rounded-md w-full mb-2\" />\r\n\r\n\r\n              </div>\r\n\r\n              <h4 class=\"text-green-800 mt-2\"><b>Buttons</b></h4>\r\n              <p class=\"text-sm mb-2 \">Create buttons that let customers respond to your message or take action.</p>\r\n              <div class=\"bg-[#f5f6fa] p-4 \">\r\n                  <span>\r\n                  <button class=\"text-black p-2 text-small border border-black hover:bg-gray-200\"\r\n                    @click.prevent=\"addbutton\">\r\n                     + Add Button\r\n                  </button>\r\n                </span>\r\n                <!-- Button Text and URL Inputs -->\r\n                 <div class=\"mt-2\">\r\n                                  <input v-if=\"addButton && selectedSubCategory !== 'ORDER_STATUS'\" v-model=\"button.text\"\r\n                  placeholder=\"Text\" class=\"border border-[#ddd] p-2 rounded-md w-full mb-2\" />\r\n                <input v-if=\"addButton && selectedSubCategory !== 'ORDER_STATUS'\" v-model=\"button.url\"\r\n                  placeholder=\"URL\" class=\"border border-[#ddd] p-2 rounded-md w-full mb-2\" />\r\n                 </div>\r\n\r\n              </div>\r\n\r\n\r\n              <!-- Actions -->\r\n\r\n              <button @click.prevent=\"submitTemplate\"\r\n                class=\"bg-green-700 mt-4 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center \"\r\n                :disabled=\"loading || isSubmitted\">\r\n                <span v-if=\"loading\"\r\n                  class=\"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 mr-2\"></span>\r\n                {{ isSubmitted ? \"Submitted\" : loading ? \"Submitting...\" : \"Submit\" }}\r\n              </button>\r\n\r\n            </form>\r\n          </div>\r\n\r\n          <div\r\n            class=\"flex flex-col flex-grow h-full overflow-y-auto aspect-[10/19] min-w-[320px] p-3 max-h-[600px]  bg-[url('@/assets/chat-bg.jpg')] bg-cover bg-center custom-scrollbar\">\r\n            <div class=\"message\">\r\n              <span style=\"white-space: pre-line;\" v-html=\"preview_data\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </PopUp>\r\n\r\n\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n// import { QuillEditor } from '@vueup/vue-quill';\r\n// import '@vueup/vue-quill/dist/vue-quill.snow.css';\r\nimport axios from 'axios';\r\nimport PopUp from \"../popups/popup\";\r\nimport { useToast } from 'vue-toastification';\r\nimport PopUp_preview from \"../popups/template_preview\";\r\nimport confirmationPopup from '../popups/confirmation';\r\n\r\nexport default {\r\n  components: {\r\n    // QuillEditor,\r\n    \r\n    PopUp_preview,\r\n    confirmationPopup,\r\n    PopUp\r\n  },\r\n  name: 'BroadCast1',\r\n  props: {\r\n    contactReport: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      cursor: false,\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      selectedFile: null,\r\n      isUploading: false,\r\n      uploadResponse: null,\r\n      uploadError: null,\r\n      uploadHandleID: null,\r\n      deleteTemplateName: '', // To store the name of the template to be deleted\r\n      showConfirmPopup: false, // State to control the confirmation popup visibility\r\n\r\n      // loading\r\n      loading: false, // Add loading state\r\n      isSubmitted: false,\r\n      tableLoading: false,\r\n\r\n      showPreview: false,\r\n      preview_data: '',\r\n      tooltipVisible: false,\r\n      tooltipStyles: {\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        width: \"170px\", // Set square dimensions\r\n        height: \"100px\",\r\n      },\r\n      templateName: '',\r\n      isTemplateNameValid: true,\r\n      templates: [],\r\n      showPopup: false,\r\n      addButton: false,\r\n      showSelectionPopup: false,\r\n      selectedCategory: 'Marketing',\r\n      selectedSubCategory: '',\r\n      selectedLanguage: 'en_US',\r\n      selectedHeaderFormat: 'TEXT',\r\n      template: {\r\n        name: '',\r\n        components: []\r\n      },\r\n      bodyComponent: {\r\n        type: 'BODY',\r\n        text: ''\r\n      },\r\n      headerComponent: {\r\n        type: 'HEADER',\r\n        format: 'TEXT',\r\n        text: ''\r\n      },\r\n      headerMediaComponent: {\r\n        type: 'HEADER',\r\n        format: '',\r\n        example: {\r\n          header_handle: [\r\n            ''\r\n          ]\r\n        }\r\n      },\r\n      footerComponent: {\r\n        type: 'FOOTER',\r\n        text: ''\r\n      },\r\n      button: {\r\n        type: 'URL',\r\n        text: '',\r\n        url: ''\r\n      },\r\n      nameError: '',\r\n\r\n      variableCounter: null,\r\n      variables: [],\r\n      warningData: null, // To store error data from the API\r\n    };\r\n  },\r\n\r\n\r\n\r\n  async mounted() {\r\n    await this.fetchtemplateList();\r\n\r\n    // this.preview_data = this.generateTemplatePreview(this.template.components);\r\n\r\n    const script = document.createElement('script');\r\n    script.src = \"https://cdn.lordicon.com/lordicon.js\";\r\n    document.body.appendChild(script);\r\n  },\r\n\r\n  methods: {\r\n\r\n      async showConfirmationPopup(templateName) {\r\n    this.showConfirmPopup = true;\r\n    this.deleteTemplateName = templateName; // Store the template name to be deleted\r\n     // Store the template name to be deleted\r\n  },\r\n\r\n    addVariable() {\r\n      // const countWords = (text) => {\r\n      //   if (!text) return 0;\r\n      //   return text.split(/\\s+/).filter(word => word.trim().length > 0).length;\r\n      // };\r\n\r\n      const text = this.bodyComponent.text || '';\r\n      // const wordCount = countWords(text);\r\n\r\n      const currentVariables = text.match(/{{\\d+}}/g) || [];\r\n      // const requiredWords = 3 * (currentVariables.length + 1);\r\n\r\n      // if (wordCount < requiredWords) {\r\n      //   alert(`The text must have at least ${requiredWords} words to add ${currentVariables.length + 1} variables.`);\r\n      //   return;\r\n      // }\r\n\r\n      const nextVariableNumber = currentVariables.length + 1;\r\n      this.bodyComponent.text += ` {{${nextVariableNumber}}}`;\r\n\r\n      // 🔧 Update both\r\n      this.variableCounter = nextVariableNumber;\r\n\r\n      // 🔧 Extend `variables` array safely\r\n      while (this.variables.length < nextVariableNumber) {\r\n        this.variables.push(\"\");\r\n      }\r\n\r\n      console.log(\"Updated variable counter:\", this.variableCounter);\r\n      console.log(\"Updated variables:\", this.variables);\r\n    },\r\n\r\n\r\n    //  addVariable() {\r\n    //   const nextVariableNumber = (this.bodyComponent.text.match(/{{\\d+}}/g) || []).length + 1;\r\n    //   const variableToInsert = ` {{${nextVariableNumber}}}`;\r\n\r\n    //   // 1. Get the Quill editor instance using the ref\r\n    //   const quill = this.$refs.myQuillEditor.quill;\r\n\r\n    //   if (quill) {\r\n    //     // 2. Get the current cursor selection\r\n    //     const selection = quill.getSelection();\r\n\r\n    //     if (selection) {\r\n    //       // If there's a selection, insert the text at the current cursor position\r\n    //       quill.insertText(selection.index, variableToInsert, 'user');\r\n    //       // Move the cursor after the inserted text\r\n    //       quill.setSelection(selection.index + variableToInsert.length, 0);\r\n    //     } else {\r\n    //       // If no selection (e.g., editor not focused), append to the end\r\n    //       quill.insertText(quill.getLength(), variableToInsert, 'user');\r\n    //       // Move the cursor to the very end\r\n    //       quill.setSelection(quill.getLength(), 0);\r\n    //     }\r\n\r\n    //     // 3. Update your internal data properties\r\n    //     this.variableCounter = nextVariableNumber;\r\n\r\n    //     // Extend `variables` array safely\r\n    //     while (this.variables.length < nextVariableNumber) {\r\n    //       this.variables.push(\"\");\r\n    //     }\r\n\r\n    //     console.log(\"Updated variable counter:\", this.variableCounter);\r\n    //     console.log(\"Updated variables:\", this.variables);\r\n\r\n    //     // Optional: If this.bodyComponent.text is bound with 'contentType=\"text\"',\r\n    //     // update it from Quill's content after insertion to keep them in sync.\r\n    //     // If using 'html' or 'delta', v-model should handle most sync automatically,\r\n    //     // but for immediate plain text reflection, you might still need this.\r\n    //     // This will only update the text representation, not the rich text.\r\n    //     this.bodyComponent.text = quill.getText();\r\n\r\n    //   } else {\r\n    //     console.error(\"Quill editor instance not found. Make sure the ref is set correctly and the editor is mounted.\");\r\n    //     // Fallback or error handling if Quill instance isn't available\r\n    //     // (though this is less likely if ref is correctly used)\r\n    //     this.bodyComponent.text += variableToInsert;\r\n    //   }\r\n    // },\r\n\r\n\r\n\r\n\r\n    showpreview(preview) {\r\n      this.showPreview = true;\r\n      this.preview_data = preview;\r\n\r\n    },\r\n    addbutton() {\r\n      this.addButton = !this.addButton;\r\n    },\r\n\r\n    openPopup() {\r\n      this.showPopup = true;\r\n      this.selectedType = 'MARKETING';  // Ensure Marketing is default when opening\r\n    },\r\n\r\n\r\n    async fetchtemplateList() {\r\n      const token = localStorage.getItem('token');\r\n      this.cursor = true;\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/template`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const templatelist = await response.json();\r\n        this.templates = templatelist.data;\r\n        this.cursor = false;\r\n\r\n        // Generate previews for templates\r\n        this.templates = this.templates.map(template => {\r\n          return {\r\n            ...template,\r\n            preview: this.generateTemplatePreview(template.components),\r\n          };\r\n        });\r\n      } catch (error) {\r\n        console.error(\"There was an error fetching the templates:\", error);\r\n      }\r\n    },\r\n\r\n\r\n    generateTemplatePreview(components) {\r\n\r\n      if (!Array.isArray(components)) {\r\n        console.warn(\"generateTemplatePreview: components is not an array\", components);\r\n        return ''; // Return an empty string instead of breaking the app\r\n      }\r\n      let previewMessage = '';\r\n\r\n      components.sort((a, b) => {\r\n        const order = { HEADER: 1, BODY: 2, FOOTER: 3, BUTTONS: 4 };\r\n        return (order[a.type] || 5) - (order[b.type] || 5);\r\n      });\r\n\r\n\r\n      // Loop through components and construct the preview message\r\n      components.forEach(component => {\r\n        switch (component.type) {\r\n          case 'HEADER': {\r\n            if (component.format === 'TEXT') {\r\n              previewMessage += `<strong>${component.text}\\n</strong> `;\r\n            } else if (component.format === 'IMAGE' && component.example?.header_handle) {\r\n              previewMessage += `<div style=\"width: auto; height: 200px; overflow: hidden; position: relative; border-radius: 5px\">\r\n  <img src=\"${component.example.header_handle[0]}\" alt=\"Description of image\" \r\n       style=\"width: 100%; height: 100%; object-fit: cover; object-position: start; display: block ; border-radius: 4px\">\r\n</div>`;\r\n\r\n            }\r\n\r\n            else if (component.format === 'VIDEO' && component.example?.header_handle) {\r\n              previewMessage += `<div style=\"width: auto; height: 200px; overflow: hidden; position: relative; border-radius: 5px\">\r\n                <video controls \r\n                    src=\"${component.example.header_handle[0]}\" \r\n                    style=\"width: 100%; height: 100%; object-fit: cover; object-position: start; display: block; border-radius: 4px\">\r\n                    Your browser does not support the video tag.\r\n                </video>\r\n            </div>`;\r\n            }\r\n            break;\r\n          }\r\n          case 'BODY': {\r\n            let bodyText = component.text;\r\n            // Check if the body contains dynamic placeholders like {{1}}\r\n            bodyText = this.replacePlaceholders(bodyText, component.example?.body_text);\r\n            previewMessage += bodyText;\r\n\r\n            break;\r\n          }\r\n          case 'FOOTER': {\r\n            previewMessage += `<span style=\"font-weight: lighter; color:gray;\">\\n${component.text}</span> `;\r\n            break;\r\n          }\r\n          case 'BUTTONS': {\r\n            if (component.buttons && Array.isArray(component.buttons)) {\r\n              previewMessage += `<div style=\" text-align: left;\">`;\r\n              component.buttons.forEach(button => {\r\n                if (button.type === 'URL') {\r\n                  previewMessage += `\r\n          <a href=\"${button.url}\" target=\"_blank\" \r\n             style=\"display: inline-flex; align-items: center; \r\n                    text-decoration: none; font-weight: bold; color: #007bff; \r\n                     border-top: 1px solid #ddd;\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#007bff\" width=\"19\" height=\"19\" viewBox=\"0 0 24 24\" style=\"margin-right: 5px;\">\r\n              <path d=\"M14 3v2h3.586l-8.293 8.293 1.414 1.414 8.293-8.293v3.586h2v-7h-7z\"/>\r\n              <path d=\"M5 5h6v-2h-6c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-6h-2v6h-14v-14z\"/>\r\n            </svg>\r\n            <span style=\"padding:5px\">${button.text}</span>\r\n            \r\n          </a>`;\r\n                } else if (button.type === 'REPLY') {\r\n                  previewMessage += `\r\n          <button style=\"display: inline-block; margin: 5px 0; padding: 10px 15px; \r\n                         background-color: #007bff; color: white; border: none; \r\n                         border-radius: 20px; cursor: pointer; font-weight: bold;\">\r\n            ${button.text}\r\n          </button>`;\r\n                }\r\n              });\r\n              previewMessage += `</div>`;\r\n            }\r\n            break;\r\n          }\r\n\r\n          default: {\r\n            previewMessage += `[Unknown Component Type] `;\r\n            break;\r\n          }\r\n        }\r\n      });\r\n\r\n      return previewMessage;\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    replacePlaceholders(bodyText, example) {\r\n      if (!bodyText || !Array.isArray(example) || example.length === 0) return bodyText;\r\n\r\n      example.forEach((param, index) => {\r\n        if (param && param.toString().trim() !== '') {\r\n          const placeholder = `${index + 1}`;\r\n          const regex = new RegExp(placeholder, 'g');\r\n          bodyText = bodyText.replace(regex, param.toString().trim());\r\n        }\r\n      });\r\n\r\n      return bodyText;\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    updateTemplateComponents() {\r\n\r\n\r\n      const clonedBodyComponent = { ...this.bodyComponent };\r\n\r\n      if (this.variables.length > 0) {\r\n        clonedBodyComponent.example = { body_text: this.variables };\r\n      }\r\n\r\n      let components = [clonedBodyComponent];\r\n\r\n      if (this.headerComponent.text) {\r\n        components.push(this.headerComponent);\r\n      }\r\n\r\n      if (\r\n        this.headerMediaComponent.example.header_handle &&\r\n        this.headerMediaComponent.example.header_handle.length > 0 &&\r\n        this.headerMediaComponent.example.header_handle[0] !== ''\r\n      ) {\r\n        components.push(this.headerMediaComponent);\r\n      }\r\n\r\n      if (this.footerComponent.text) {\r\n        components.push(this.footerComponent);\r\n      }\r\n\r\n      if (this.button.text && this.button.url) {\r\n        components.push({\r\n          type: 'BUTTONS',\r\n          buttons: [this.button]\r\n        });\r\n      }\r\n\r\n      this.template.components = components;\r\n      console.log(this.template); // Update template components dynamically\r\n    },\r\n\r\n    async submitTemplate() {\r\n      const toast = useToast();\r\n      if (this.nameError) {\r\n        return; // Prevent form submission if there are validation errors\r\n      }\r\n\r\n      this.loading = true; // Show loading indicator\r\n\r\n      const payload = {\r\n        name: this.template.name,\r\n        components: this.template.components,\r\n        language: this.selectedLanguage,\r\n        category: this.selectedCategory,\r\n        sub_category: this.selectedSubCategory\r\n      };\r\n\r\n      const token = localStorage.getItem('token');\r\n\r\n      if (!token) {\r\n        console.error('No access token found in local storage');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/create-template`, payload, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (response.status >= 200 && response.status < 300) {\r\n          console.log('Template created successfully:', response.data);\r\n          toast.success('Template created successfully');\r\n          this.isSubmitted = true;\r\n          await this.fetchtemplateList();\r\n\r\n        } else {\r\n          const errorMessage = response.data.detail || \"Unknown error occurred\";\r\n          \r\n          // alert(`Error creating template: ${errorMessage}`);\r\n          toast.error(`Error creating template: ${errorMessage}`);\r\n          console.error('Error creating template:', response.data.detail);\r\n        }\r\n      } catch (error) {\r\n        // Handle network errors\r\n        const errorMessage = error.response?.data?.detail?.error?.error_user_msg || error.response?.data?.detail?.error?.message || error.message;\r\n        toast.error(`Request failed: ${errorMessage}`);\r\n        // alert(`Request failed: ${errorMessage}`);\r\n        console.error('Request failed:', error);\r\n      }\r\n      finally {\r\n\r\n        this.loading = false; // Hide loading indicator\r\n      }\r\n    },\r\n\r\n\r\n    // \r\nvalidateTemplateName() {\r\n  // Convert to lowercase, replace spaces with underscores, and trim whitespace\r\n  this.template.name = this.template.name\r\n    .toLowerCase()\r\n    .replace(/\\s+/g, '_')       // replace spaces with underscores\r\n    .trim();                    // remove leading/trailing whitespace\r\n\r\n  const regex = /^[a-z_0-9]+$/;\r\n\r\n  if (this.template.name === '') {\r\n    this.nameError = 'Template name is required';\r\n  } else if (!regex.test(this.template.name)) {\r\n    this.nameError = 'Template name must contain only lowercase letters, numbers, and underscores.';\r\n  } else {\r\n    this.nameError = '';\r\n  }\r\n},\r\n\r\n    async deleteTemplate(template_name) {\r\n      this.showConfirmPopup = false; // Close the confirmation popup if it's open\r\n\r\n      const toast = useToast();\r\n      const token = localStorage.getItem('token');\r\n\r\n      try {\r\n        this.tableLoading = true;\r\n        const response = await fetch(`${this.apiUrl}/delete-template/${template_name}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n\r\n        if (response.ok) {\r\n          toast.success(\"Template deleted successfully\");\r\n          await this.fetchtemplateList();\r\n        }\r\n        else {\r\n          const errorData = await response.json();\r\n          toast.error(`Error: ${errorData.detail}`);\r\n        }\r\n\r\n\r\n      } catch (error) {\r\n        console.error('Error deleting template:', error.response ? error.response.data : error.message);\r\n      }\r\n      finally {\r\n        this.tableLoading = false;\r\n        this.deleteTemplateName = ''; // Clear the template name after deletion\r\n      }\r\n\r\n    },\r\n\r\n    closePopup() {\r\n      this.showPopup = false;\r\n      this.clearForm();\r\n    },\r\n\r\n\r\n    clearForm() {\r\n      this.Loading = false;\r\n      this.template.name = '';\r\n      this.isSubmitted = false;\r\n      this.variableCounter = null;\r\n      this.template.components = [];\r\n      this.bodyComponent.text = '';\r\n      this.headerComponent.text = '';\r\n      this.footerComponent.text = '';\r\n      this.button.text = '';\r\n      this.button.url = '';\r\n      this.variables = [];\r\n      this.addButton = false;\r\n      this.selectedCategory = 'Marketing';\r\n      this.selectedSubCategory = '';\r\n      this.selectedLanguage = 'en_US';\r\n      this.nameError = '';\r\n      this.loading = false;\r\n      this.preview_data = '';\r\n\r\n    },\r\n\r\n    closePreview() {\r\n      this.showPreview = false;\r\n      this.preview_data = '';\r\n    },\r\n\r\n    handleFileChange(event) {\r\n      this.selectedFile = event.target.files[0];\r\n    },\r\n    async uploadFile() {\r\n      if (!this.selectedFile) {\r\n        this.uploadError = \"No file selected for upload.\";\r\n        \r\n        return;\r\n      }\r\n\r\n      this.isUploading = true;\r\n      this.uploadResponse = null;\r\n      this.uploadError = null;\r\n\r\n      const formData = new FormData();\r\n      formData.append('file', this.selectedFile);\r\n\r\n      try {\r\n        const token = localStorage.getItem(\"token\"); // Adjust based on your auth storage\r\n        const response = await axios.post(`${this.apiUrl}/resumable-upload/`, formData, {\r\n          headers: {\r\n            \"Authorization\": `Bearer ${token}`,\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        });\r\n\r\n        this.uploadResponse = response.data;\r\n        this.headerMediaComponent.example.header_handle[0] = response.data.upload_response?.h || \"N/A\";\r\n        console.log(this.uploadHandleID);\r\n      } catch (error) {\r\n        this.uploadError = error.response ? error.response.data.detail : \"Upload failed\";\r\n      } finally {\r\n        this.isUploading = false;\r\n      }\r\n    },\r\n\r\n    updateVariablesFromText(newText) {\r\n      const placeholders = newText.match(/{{\\d+}}/g) || [];\r\n      const uniquePlaceholders = [...new Set(placeholders.map(p => parseInt(p.match(/\\d+/)[0])))];\r\n      const requiredLength = uniquePlaceholders.length;\r\n\r\n      if (this.variables.length < requiredLength) {\r\n        while (this.variables.length < requiredLength) {\r\n          this.variables.push('');\r\n        }\r\n      } else if (this.variables.length > requiredLength) {\r\n        this.variables.splice(requiredLength);\r\n      }\r\n\r\n      console.log(\"Updated variables:\", this.variables);\r\n    },\r\n\r\n    validateTemplateText(newText) {\r\n      const countWords = (text) => {\r\n        if (!text) return 0;\r\n        return text.split(/\\s+/).filter(word => word.trim().length > 0).length;\r\n      };\r\n\r\n      const text = newText || '';\r\n      const wordCount = countWords(text);\r\n      const currentVariables = text.match(/{{\\d+}}/g) || [];\r\n      const variableCount = currentVariables.length;\r\n\r\n      if (variableCount > 0) {\r\n        const ratio = (wordCount - 1) / variableCount;\r\n        if (ratio < 3) {\r\n          this.warningData = \"This template contains too many variable parameters relative to the message length. You need to decrease the number of variable parameters or increase the message length.\";\r\n        } else {\r\n          this.warningData = null;\r\n        }\r\n      } else {\r\n        this.warningData = null;\r\n      }\r\n    }\r\n\r\n\r\n  },\r\n\r\n\r\n  watch: {\r\n    templateName() {\r\n      this.validateTemplateName();\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    'bodyComponent.text'(newText) {\r\n      this.updateVariablesFromText(newText);\r\n      this.validateTemplateText(newText);\r\n    },\r\n\r\n\r\n    selectType(type) {\r\n      this.selectedType = type;\r\n      this.showSelectionPopup = false;\r\n      this.showPopup = true;\r\n    },\r\n\r\n\r\n    closeSelectionPopup() {\r\n      this.showSelectionPopup = false;\r\n    },\r\n\r\n    // Watch any changes in template.components and update preview_data\r\n    'template.components': {\r\n      deep: true,\r\n      handler(newComponents) {\r\n        console.log(\"Updated Components:\", newComponents);\r\n        this.preview_data = this.generateTemplatePreview(newComponents);\r\n      }\r\n    },\r\n    // Watch for changes in form inputs and update template.components dynamically\r\n    variables: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    },\r\n    bodyComponent: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    },\r\n    headerComponent: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    },\r\n    headerMediaComponent: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    },\r\n    footerComponent: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    },\r\n    button: {\r\n      deep: true,\r\n      handler() {\r\n        this.updateTemplateComponents();\r\n      }\r\n    }\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.message {\r\n  font-size: small;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #ffffff;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  max-width: 90%;\r\n  min-width: 80px;\r\n  height: auto;\r\n  max-height: 650px;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  width: fit-content;\r\n  overflow: hidden;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n/* Custom Scrollbar */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n.quill-editor-wrapper .ql-container {\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  /* This is the key property! */\r\n  /* You might need to adjust height or other styles based on your layout */\r\n  min-height: 200px;\r\n  /* Example: ensure the editor has some height */\r\n  border: 1px solid #ccc;\r\n  /* Restore border if it gets lost with flexbox */\r\n}\r\n\r\n/* Optional: Adjust spacing or appearance */\r\n.quill-editor-wrapper .ql-toolbar {\r\n  border-top: 1px solid #ccc;\r\n  /* Add a top border to the toolbar */\r\n  border-bottom: none;\r\n  /* Remove default bottom border if it exists */\r\n}\r\n\r\n.quill-editor-wrapper .ql-editor {\r\n  /* Ensure the editor area expands to fill available space */\r\n  flex-grow: 1;\r\n}\r\n\r\n\r\n</style>\r\n\r\n<!-- <style scoped>\r\n\r\n.error {\r\n  border-color: red;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-size: 0.875em;\r\n  margin-top: 0.5em;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.CreateTemplateContainer {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  max-width: 1100px;\r\n  padding: 20px;\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.CreateTemplateContainer button {\r\n  margin-left: 805px;\r\n}\r\n\r\n.templateList_container {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px 12px;\r\n  width: 100%;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  max-width: 1100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.templateList-table {\r\n  width: 100%;\r\n  border-radius: 12px 12px;\r\n  border-collapse: collapse;\r\n  overflow-x: auto;\r\n  display: block;\r\n  max-height: 400px;\r\n}\r\n\r\nth {\r\n  padding: 20px 43px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.templateList-table td {\r\n  border: 1px solid #ddd;\r\n  padding: 20px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.templateList-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #dddddd;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n}\r\n\r\n.templateList-table tbody {\r\n  background-color: white;\r\n}\r\n\r\n/* Popup Styles */\r\n.popup-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.popup-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  max-width: 400px;\r\n  width: 100%;\r\n}\r\n\r\n.template-type-options {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 20px;\r\n}\r\n\r\n.template-type-options button {\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: none;\r\n  background-color: #075e54;\r\n  color: white;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.template-type-options button:hover {\r\n  background-color: #075e54;\r\n}\r\n\r\n.discard-button {\r\n  margin-top: 20px;\r\n  background-color: #ff4d4d;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.submit-button {\r\n  background-color: 5;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.submit-button:hover {\r\n  background-color: #218838;\r\n}\r\n</style>  -->\r\n","<template>\r\n    <div class=\"fixed inset-0 bg-black bg-opacity-20 flex justify-center items-center p-5 z-[10000] text-left shadow-lg\">\r\n      <div class=\"bg-[#ffffff] p-6 rounded-md w-[1000px]  relative max-h-[750px]\">\r\n        <div class=\"flex \">\r\n          <span class=\"close\" @click=\"$emit('close')\" hover>&times;</span> \r\n        </div>\r\n          \r\n        <slot/>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: 'PopUp'\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n.close{\r\n\r\n  margin-left: auto;\r\n  font-size: 25px;\r\n  cursor: pointer;\r\n}\r\n</style>","import { render } from \"./popup.vue?vue&type=template&id=59477ffe&scoped=true\"\nimport script from \"./popup.vue?vue&type=script&lang=js\"\nexport * from \"./popup.vue?vue&type=script&lang=js\"\n\nimport \"./popup.vue?vue&type=style&index=0&id=59477ffe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-59477ffe\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"fixed inset-0 bg-black bg-opacity-20 flex justify-center items-center p-3 z-[10000]\"\r\n  @click.self=\"$emit('close')\">\r\n    <div class=\"phone-frame relative flex flex-col items-center justify-start p-4\">\r\n      <div class=\"w-full flex justify-end px-2 pt-2\">\r\n        <!-- <span class=\"close\" @click=\"$emit('close')\">&times;</span> -->\r\n      </div>\r\n      <div class=\"screen w-full h-max-[60vh] overflow-y-auto \">\r\n        <slot />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PopUp_preview'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.phone-frame {\r\n  width: 390px;\r\n  height: 750px;\r\n  background-color: #3b3b3b;\r\n  border-radius: 40px;\r\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);\r\n  border: 6px solid #2d2d2d;\r\n}\r\n\r\n.screen {\r\n  flex-grow: 1;\r\n  border-radius: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.close {\r\n  font-size: 24px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./template_preview.vue?vue&type=template&id=966138b2&scoped=true\"\nimport script from \"./template_preview.vue?vue&type=script&lang=js\"\nexport * from \"./template_preview.vue?vue&type=script&lang=js\"\n\nimport \"./template_preview.vue?vue&type=style&index=0&id=966138b2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-966138b2\"]])\n\nexport default __exports__","<template>\r\n    \r\n  <div class=\"fixed inset-0 bg-black bg-opacity-20 flex justify-center items-center p-5 z-[10000] text-left shadow-lg\">\r\n    <div class=\"bg-white p-6 rounded-md w-full max-w-md relative\">\r\n        <div class=\"flex\">\r\n            <span class=\"close\" @click=\"$emit('close')\" hover>&times;</span> \r\n        \r\n        </div>\r\n      \r\n      <!-- Confirmation Message -->\r\n      <div class=\"text-lg font-medium text-gray-800 mb-6\">\r\n        Are you sure you want to proceed?\r\n      </div>\r\n\r\n      <!-- Action Buttons -->\r\n      <div class=\"flex justify-end gap-4\">\r\n        <button\r\n          class=\"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400\"\r\n          @click=\"$emit('no')\"\r\n        >\r\n          No\r\n        </button>\r\n        <button\r\n          class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n          @click=\"$emit('yes')\"\r\n        >\r\n          Yes\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ConfirmationPopup',\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.close{\r\n\r\n  margin-left: auto;\r\n  font-size: 25px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./confirmation.vue?vue&type=template&id=5d69e07e&scoped=true\"\nimport script from \"./confirmation.vue?vue&type=script&lang=js\"\nexport * from \"./confirmation.vue?vue&type=script&lang=js\"\n\nimport \"./confirmation.vue?vue&type=style&index=0&id=5d69e07e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5d69e07e\"]])\n\nexport default __exports__","import { render } from \"./broadcast1.vue?vue&type=template&id=348d1af0&scoped=true\"\nimport script from \"./broadcast1.vue?vue&type=script&lang=js\"\nexport * from \"./broadcast1.vue?vue&type=script&lang=js\"\n\nimport \"./broadcast1.vue?vue&type=style&index=0&id=348d1af0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-348d1af0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-xl md:text-2xl font-bold text-green-800\">Broadcast Messages</h2>\r\n        <p class=\"text-sm md:text-base\">Send out Broadcast Messages using templates</p>\r\n      </div>\r\n\r\n      <div>\r\n        <button class=\"bg-green-700  hover:bg-green-600  text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center \"\r\n        @click=\"showPopup = true, fetchContacts()\">\r\n          <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4v16m8-8H4\"></path>\r\n          </svg>\r\n          New Broadcast\r\n        </button>\r\n        <!-- <button @click=\"showPopup = true, fetchContacts()\"\r\n          class=\"bg-[#075e54] text-[#f5f6fa] px-4 py-2 md:px-4 md:py-4 text-sm md:text-base rounded-md shadow-lg \">\r\n          \r\n        </button> -->\r\n      </div>\r\n    </div>\r\n\r\n    <PopUp v-if=\"showPopup\" @close=\"closePopup()\"\r\n      class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 custom-scrollbar\">\r\n\r\n\r\n      <h2 class=\"text-xl font-semibold mb-4 text-green-800\">New Broadcast</h2>\r\n\r\n      <hr class=\"pb-4\">\r\n      \r\n\r\n      <div class=\"flex\">\r\n\r\n\r\n        <div class=\"popup-content custom-scrollbar p-4\">\r\n          <form @submit.prevent=\"handleBroadcast\" id=\"messageForm\"\r\n            :class=\"{ 'opacity-50 pointer-events-none': isSubmitted }\"\r\n      \r\n            >\r\n            \r\n\r\n            <h4 class=\"text-green-700\"><b>What message do you want to send?</b></h4>\r\n            <p class=\"text-sm mb-2 \">Add broadcast name and template below</p>\r\n\r\n\r\n\r\n            <div class=\"p-4 bg-[#f5f6fa] mb-4\">\r\n\r\n              <!-- Input Bradacast Name -->\r\n              <div class=\"mb-2\">\r\n                <label for=\"broadcastName\" class=\"block text-sm font-medium\">Broadcast Name<span\r\n                    class=\"text-red-800\">*</span></label>\r\n                <input type=\"text\" v-model=\"broadcastName\" id=\"broadcastName\" placeholder=\"Broadcast Name\" required\r\n                  class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n              </div>\r\n\r\n              <!-- input template -->\r\n              <div class=\"mb-2 \">\r\n                <label for=\"templates\" class=\"block text-sm font-medium\">Choose a template<span\r\n                    class=\"text-red-800\">*</span></label>\r\n                <!-- <select v-model=\"selectedTemplate\" id=\"templates\" required\r\n                class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n                <option value=\"\" disabled>Select your option</option>\r\n                <option v-for=\"template in templates\" :key=\"template.id\" :value=\"template.id\">{{ template.name }}</option>\r\n              </select> -->\r\n\r\n                <!-- New select field-->\r\n                <select id=\"template-select\" v-model=\"selectedTemplateId\" @change=\"onTemplateSelect\"\r\n                  class=\"border border-gray-300 rounded px-3 py-2 w-full max-h-[50px]\" required>\r\n                  <option v-for=\"template in templates\" :key=\"template.id\" :value=\"template.id\">\r\n                    {{ template.name }}\r\n                  </option>\r\n                </select>\r\n\r\n                <!-- Conditional Image URL input field -->\r\n                <div v-if=\"selectedTemplateHasMedia\">\r\n                  <label for=\"\" class=\"block text-sm font-semibold\">Upload Media</label>\r\n                  <input type=\"file\" @change=\"onFileChange\" class=\"mb-2 w-[60%] mr-1\">\r\n                  <div v-if=\"uploadedMedia\"><p  class=\"text-green-800 font-bold\">Uploaded</p></div>\r\n                  <div v-else><span class=\"ml-5 w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin inline-block\"></span></div>\r\n                  \r\n\r\n                </div>\r\n                \r\n\r\n                <div v-if=\"selectedTemplateHasParameters\">\r\n                  <label for=\"\">Select Parameter</label>\r\n                  <select name=\"\" id=\"\" v-model=\"bodyParameter\">\r\n                    <option value=\"Name\">Cotact_Name</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <h4 class=\"text-green-700\"><b>Who do you want to send it to?</b></h4>\r\n            <p class=\"text-sm mb-2 \">Select contacts below or <a\r\n                href=\"https://drive.google.com/file/d/1hVQErwmNN6eGN1zLBoniW_34-GzAtMwm/view?usp=sharing\"\r\n                target=\"_blank\" class=\"text-blue-500\"><u>Download sample format for contact upload</u></a></p>\r\n\r\n            <div class=\"p-4 bg-[#f5f6fa] mb-4\">\r\n\r\n              <div class=\"mb-2\">\r\n                <label for=\"recipients\" class=\"block text-sm font-medium\">Recipients<span\r\n                    class=\"text-red-800\">*</span></label>\r\n                <input type=\"text\" v-model=\"recipients\" id=\"recipients\"\r\n                  placeholder=\"Enter phone numbers, comma-separated\" required\r\n                  class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n              </div>\r\n\r\n\r\n              <div class=\"mb-1\">\r\n                <label for=\"csvFile\" class=\"block text-sm font-semibold\">Upload CSV for Contacts:</label>\r\n                <input type=\"file\" @change=\"handleFileUpload\" class=\"mb-2 w-[60%] mr-1\" />\r\n\r\n              </div>\r\n            </div>\r\n            <div v-if=\"csvUploaded\">\r\n              <h4><b>Imported Contacts</b></h4>\r\n              <p class=\"text-sm mb-2 \">Imported contacts are not saved to your contacts directory</p>\r\n            </div>\r\n\r\n            <div v-else>\r\n              <h4 class=\"text-green-700\"><b>Contacts</b></h4>\r\n              <p class=\"text-sm mb-2 \">Select from your saved contacts</p>\r\n            </div>\r\n\r\n            <!-- Contacts Filter -->\r\n            <div class=\"flex bg-[#f5f6fa] items-center space-x-2 p-2 justify-between\">\r\n              <h3 class=\"text-l\"><b>Filter by tags:</b></h3>\r\n\r\n              <input type=\"text\" v-model=\"tag_key\" placeholder=\"Key\"\r\n                class=\"border border-gray-300 rounded px-3 py-2 w-30px\">\r\n              <input type=\"text\" v-model=\"tag_value\" placeholder=\"Value\"\r\n                class=\"border border-gray-300 rounded px-3 py-2 w-30px\">\r\n\r\n              <button @click.prevent=\"fiterBytTags\"\r\n                class=\" bg-gray-300 hover:bg-gray-400 relative my-2 h-auto w-auto p-1 text-white \">Apply\r\n                filter</button>\r\n            </div>\r\n\r\n\r\n            <div class=\"overflow-x-auto max-h-[20vh] mb-8 custom-scrollbar\">\r\n              <table class=\"contact-table w-full rounded-lg border-collapse\">\r\n                <thead>\r\n                  <tr class=\"bg-[#ffffff] text-center\">\r\n                    <th class=\"z-10 p-2 bg-[#ffffff] sticky top-0\">\r\n                      <input type=\"checkbox\" @change=\"selectAll($event)\" v-model=\"allSelected\"\r\n                        class=\" scale-150 m-2 z-10\">Select\r\n                    </th>\r\n                    <th class=\"p-2  bg-[#ffffff] sticky top-0\">Name</th>\r\n                    <th class=\"p-2  bg-[#ffffff] sticky top-0\">Phone Number</th>\r\n                    <th class=\"p-2  bg-[#ffffff] sticky top-0\">Tags</th>\r\n\r\n\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"contact in contacts\" :key=\"contact.id\">\r\n                    <td class=\"text-center p-2 md:p-4 scale-125\">\r\n                      <input type=\"checkbox\" v-model=\"selectedContacts\" :value=\"`${contact.name}:${contact.phone}`\">\r\n                    </td>\r\n\r\n                    <td class=\"text-center p-2 md:p-4\">{{ contact.name }}</td>\r\n                    <td class=\"text-center p-2 md:p-4\">{{ contact.phone }}</td>\r\n                    <td class=\"text-center p-2 md:p-4\">\r\n                      <div v-for=\"(tag, index) in contact.tags\" :key=\"index\">\r\n                        <span class=\"font-bold\">{{ tag.key }}:</span> {{ tag.value }}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n\r\n            <h4 class=\"text-green-700\"><b>When do you want to send the message ?</b></h4>\r\n            <p class=\"text-sm mb-2 \">Select from the options below </p>\r\n\r\n\r\n            <div class=\"p-4 bg-[#f5f6fa] mb-4\">\r\n\r\n\r\n              <p class=\" text-sm font-semibold mb-1\"><input type=\"radio\" v-model=\"isScheduled\" :value=\"false\"\r\n                  class=\"scale-150 text-green-500 m-2 accent-green-700\">Send Now</p>\r\n\r\n              <p class=\"text-sm font-semibold mb-1\"><input type=\"radio\" v-model=\"isScheduled\" :value=\"true\"\r\n                  class=\"scale-150 text-green-500 m-2 accent-green-700\" @click=\"currentDateTime\">Schedule </p>\r\n\r\n              <div v-if=\"isScheduled\" class=\"flex justify-between\">\r\n                <div class=\"w-[50%]\">\r\n                  <label for=\"scheduleDate\" class=\"block text-sm font-medium\">Date<span\r\n                      class=\"text-red-800\">*</span></label>\r\n                  <input type=\"date\" v-model=\"scheduleDate\" id=\"scheduleDate\" required\r\n                    class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n                </div>\r\n                <div class=\"w-[50%]\">\r\n                  <label for=\"scheduleTime\" class=\"block text-sm font-medium\">Time<span\r\n                      class=\"text-red-800\">*</span>(GMT\r\n                    +5:30)</label>\r\n                  <input type=\"time\" v-model=\"scheduleTime\" id=\"scheduleTime\" required\r\n                    class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- <button type=\"submit\" class=\"bg-[#23a455] text-[#f5f6fa] px-4 py-2 rounded\">{{ isScheduled ?\r\n              'Schedule Message' : 'Send Message' }}</button> -->\r\n\r\n              <button\r\n              type=\"submit\"\r\n              class=\"bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center \"\r\n              :disabled=\"popupLoading || isSubmitted\">\r\n              <span v-if=\"popupLoading\"\r\n                class=\"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 mr-2\"></span>\r\n              {{ isSubmitted ? \"Submitted\" : popupLoading ? \"Submitting...\" : isScheduled ?\r\n                'Schedule Message' : 'Send Message' }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n\r\n        <!-- Template preview  -->\r\n\r\n        <!-- <div class=\"flex justify-center items-center h-screen bg-gray-200\">\r\n          <div class=\"w-80 h-[550px] bg-white rounded-3xl shadow-lg border-4 border-black flex flex-col\">\r\n            <div class=\"h-12 bg-black rounded-t-3xl flex items-center justify-center text-white font-semibold\">\r\n              Phone Screen\r\n            </div>\r\n            <div class=\"flex-1 overflow-y-auto p-4\">\r\n              <div\r\n          class=\"flex flex-col aspect-[10/19] min-w-[320px] p-3 max-h-[670px] bg-[url('@/assets/chat-bg.jpg')] bg-cover bg-center custom-scrollbar\">\r\n          <div class=\"message\">\r\n            <span style=\"white-space: pre-line;\" v-html=\"previewData\"></span>\r\n          </div>\r\n        </div>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n\r\n        <div\r\n          class=\"flex flex-col flex-grow h-full overflow-y-auto aspect-[10/19] min-w-[320px] p-3 max-h-[600px]  bg-[url('@/assets/chat-bg.jpg')] bg-cover bg-center custom-scrollbar\">\r\n          <div class=\"message\">\r\n            <span style=\"white-space: pre-line;\" v-html=\"previewData\"></span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n    </PopUp>\r\n\r\n\r\n    <div class=\"p-4  filter-container space-x-2\">\r\n\r\n      <div class=\"flex items-center\">\r\n        <h3 class=\"text-xl md:text-2xs mb-2 text-green-700\"><b>Broadcast List </b></h3>\r\n        <div class=\"pb-2 pl-2\">\r\n          <button class=\" text-green-600 underline hover:text-green-700 hover:bg-transparent\"\r\n            @click=\"fetchBroadcastList(this.filterStatus, 1)\">\r\n             <i class=\"bi bi-arrow-clockwise inline-block text-xl\" :class=\"{ 'animate-spin': loading }\"></i> \r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"flex justify-between\">\r\n        <div class=\"flex items-center filter-container space-x-2\">\r\n          <h3><b>Filter by:</b></h3>\r\n          <div class=\"w-40px\">\r\n            <select name=\"\" id=\"\" @change=\"filterBroadcastsByStatus\" class=\"border border-gray-300 rounded px-3 py-2 \">\r\n              <option value=\"null\">Status</option>\r\n              <option value=\"Successful\">Successful</option>\r\n              <option value=\"Cancelled\">Cancelled</option>\r\n              <option value=\"Partially Successful\">Partially Successful</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"overflow-x-auto max-h-[51vh] custom-scrollbar\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n            <th class=\"p-3 md:p-4 text-left border border-gray-300 sticky top-0 z-10 bg-gray-100\">Broadcast Name</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Type</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Template</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Contacts</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Status</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"broadcast in broadcasts\" :key=\"broadcast.id\" class=\"hover:bg-gray-50\">\r\n            <td class=\"p-3 md:p-4 text-left border border-gray-200\">{{ broadcast.name }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.type }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.template }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.contacts.length }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div :class=\"{\r\n                  'text-emerald-600 font-semibold': broadcast.status === 'Successful',           // Green: Success\r\n                  'text-sky-600 font-semibold': broadcast.status === 'Scheduled',                // Blue: Info/Scheduled\r\n                  'text-rose-600 font-semibold': broadcast.status === 'Cancelled',              // Red: Danger/Cancelled\r\n                  'text-amber-600 font-semibold': broadcast.status === 'Partially Successful',  // Amber: Warning/Partial\r\n                  'text-indigo-600 font-semibold': broadcast.status === 'processing...', \r\n              }\">\r\n                {{ broadcast.status }}\r\n              </div>\r\n            </td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <button class=\"underline text-gray-800 hover:bg-inherit font-medium\"\r\n                @click=\"showReportPopup = true, fetchBroadcastReport(broadcast.id)\">\r\n                View Report\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n\r\n    \r\n    <div class=\"flex justify-center mt-4\">\r\n      <div class=\"flex items-center space-x-4 bg-white shadow-md rounded-lg px-4 py-2\">\r\n        <button\r\n          class=\"px-3 py-1 bg-green-500 text-white font-medium rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          @click=\"loadPreviousPage\"\r\n          :disabled=\"currentPage === 1\"\r\n        >\r\n          Previous\r\n        </button>\r\n        <div class=\"px-4 py-1 border border-gray-300 rounded text-gray-700 font-semibold\">\r\n          {{ currentPage }}\r\n        </div>\r\n        <button\r\n          class=\"px-3 py-1 bg-green-500 text-white font-medium rounded hover:bg-green-600\"\r\n          @click=\"loadNextPage\"\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <PopUp1 v-if=\"showReportPopup\" @close=\"showReportPopup = false, broadcastReports = ['']\">\r\n\r\n      <h3 class=\"text-xl md:text-2xs mb-4\"><b>Broadcast Report</b></h3>\r\n\r\n      <!-- show the overview totals -->\r\n\r\n      <div class=\"grid grid-cols-4 gap-4 p-4\">\r\n        <!-- Sent -->\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.sent }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\"><svg width=\"18\"\r\n                height=\"14\" viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M1.66797 7L7.16797 12.5L16.3346 1.5\" stroke=\"#23A455\" stroke-width=\"2\" stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"></path>\r\n              </svg></div>\r\n          </div>\r\n\r\n\r\n          <span class=\"text-gray-500\">Sent</span>\r\n        </div>\r\n\r\n        <!-- Delivered -->\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.delivered }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\"><svg width=\"22\"\r\n                height=\"12\" viewBox=\"0 0 22 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M1.83203 6L6.64453 10.5833L9.05078 7.83333\" stroke=\"#23A455\" stroke-width=\"2\"\r\n                  stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n                <path d=\"M7.33203 5.99984L12.1445 10.5832L20.1654 1.4165\" stroke=\"#23A455\" stroke-width=\"2\"\r\n                  stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n                <path d=\"M14.6654 1.4165L11.457 5.08317\" stroke=\"#23A455\" stroke-width=\"2\" stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"></path>\r\n              </svg></div>\r\n          </div>\r\n\r\n\r\n          <span class=\"text-gray-500\">Delivered</span>\r\n        </div>\r\n\r\n        <!-- Read -->\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.read }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\"><svg width=\"22\"\r\n                height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M20.2565 6.962C20.7305 7.582 20.7305 8.419 20.2565 9.038C18.7635 10.987 15.1815 15 10.9995 15C6.81752 15 3.23552 10.987 1.74252 9.038C1.51191 8.74113 1.38672 8.37592 1.38672 8C1.38672 7.62408 1.51191 7.25887 1.74252 6.962C3.23552 5.013 6.81752 1 10.9995 1C15.1815 1 18.7635 5.013 20.2565 6.962V6.962Z\"\r\n                  stroke=\"#23A455\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n                <path\r\n                  d=\"M11 11C12.6569 11 14 9.65685 14 8C14 6.34315 12.6569 5 11 5C9.34315 5 8 6.34315 8 8C8 9.65685 9.34315 11 11 11Z\"\r\n                  stroke=\"#23A455\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n              </svg></div>\r\n\r\n          </div>\r\n          <span class=\"text-gray-500\">Read</span>\r\n        </div>\r\n\r\n        <!-- Replied -->\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.replied }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\">\r\n              <svg width=\"22\" height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M8.60219 0.736277C8.76965 0.805709 8.91277 0.923237 9.01344 1.074C9.11411 1.22476 9.16782 1.40199 9.16777 1.58328V3.03711L11.2697 0.935194C11.3979 0.807035 11.5612 0.719762 11.739 0.684408C11.9168 0.649055 12.1011 0.667208 12.2685 0.736572C12.436 0.805936 12.5792 0.923397 12.6799 1.07411C12.7806 1.22482 12.8344 1.40201 12.8344 1.58328V4.35986C14.5385 4.45978 15.9245 4.84203 17.0447 5.44519C18.2398 6.0821 19.2221 7.0554 19.8699 8.24469C21.0524 10.3851 21.0844 12.9023 21.0844 14.4166C21.0844 14.6597 20.9879 14.8929 20.816 15.0648C20.644 15.2367 20.4109 15.3333 20.1678 15.3333C19.9247 15.3333 19.6915 15.2367 19.5196 15.0648C19.3477 14.8929 19.2511 14.6597 19.2511 14.4166C19.2511 13.8474 19.0513 13.4257 18.7039 13.0783C18.3335 12.7089 17.7679 12.399 17.0245 12.1616C15.7925 11.7693 14.2562 11.6354 12.8344 11.6437V14.4166C12.8344 14.5979 12.7806 14.7751 12.6799 14.9258C12.5792 15.0765 12.436 15.1939 12.2685 15.2633C12.1011 15.3327 11.9168 15.3508 11.739 15.3155C11.5612 15.2801 11.3979 15.1929 11.2697 15.0647L9.16777 12.9628V14.4166C9.16773 14.5979 9.11395 14.7751 9.01322 14.9258C8.9125 15.0765 8.76935 15.1939 8.60187 15.2633C8.4344 15.3327 8.25012 15.3508 8.07233 15.3155C7.89454 15.2801 7.73122 15.1929 7.60302 15.0647L1.18636 8.64803C1.01451 8.47613 0.917969 8.24301 0.917969 7.99994C0.917969 7.75688 1.01451 7.52376 1.18636 7.35186L7.60302 0.935194C7.73121 0.806922 7.89457 0.719555 8.07243 0.684147C8.25028 0.648739 8.43465 0.666881 8.60219 0.736277ZM7.33444 11.1294L4.85302 8.64803C4.68117 8.47613 4.58464 8.24301 4.58464 7.99994C4.58464 7.75688 4.68117 7.52376 4.85302 7.35186L7.33444 4.87044V3.79611L3.13061 7.99994L7.33444 12.2038V11.1294ZM18.955 11.0011C18.8138 10.3485 18.5814 9.719 18.2648 9.13111C17.7871 8.24994 17.0601 7.5293 16.1748 7.05944C15.1866 6.52686 13.8199 6.16661 11.9178 6.16661C11.6747 6.16661 11.4415 6.07003 11.2696 5.89812C11.0977 5.72622 11.0011 5.49306 11.0011 5.24994V3.79611L6.79727 7.99994L11.0011 12.2038V10.7499C11.0011 10.514 11.0921 10.2871 11.2552 10.1165C11.4182 9.94593 11.6408 9.84481 11.8765 9.83419C13.5989 9.75628 15.787 9.84336 17.5819 10.4154C18.0584 10.5635 18.5185 10.7601 18.955 11.002V11.0011Z\"\r\n                  fill=\"#23A455\"></path>\r\n              </svg>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <span class=\"text-gray-500\">Replied</span>\r\n        </div>\r\n\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.sent }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\">\r\n              <svg width=\"22\" height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M8.60219 0.736277C8.76965 0.805709 8.91277 0.923237 9.01344 1.074C9.11411 1.22476 9.16782 1.40199 9.16777 1.58328V3.03711L11.2697 0.935194C11.3979 0.807035 11.5612 0.719762 11.739 0.684408C11.9168 0.649055 12.1011 0.667208 12.2685 0.736572C12.436 0.805936 12.5792 0.923397 12.6799 1.07411C12.7806 1.22482 12.8344 1.40201 12.8344 1.58328V4.35986C14.5385 4.45978 15.9245 4.84203 17.0447 5.44519C18.2398 6.0821 19.2221 7.0554 19.8699 8.24469C21.0524 10.3851 21.0844 12.9023 21.0844 14.4166C21.0844 14.6597 20.9879 14.8929 20.816 15.0648C20.644 15.2367 20.4109 15.3333 20.1678 15.3333C19.9247 15.3333 19.6915 15.2367 19.5196 15.0648C19.3477 14.8929 19.2511 14.6597 19.2511 14.4166C19.2511 13.8474 19.0513 13.4257 18.7039 13.0783C18.3335 12.7089 17.7679 12.399 17.0245 12.1616C15.7925 11.7693 14.2562 11.6354 12.8344 11.6437V14.4166C12.8344 14.5979 12.7806 14.7751 12.6799 14.9258C12.5792 15.0765 12.436 15.1939 12.2685 15.2633C12.1011 15.3327 11.9168 15.3508 11.739 15.3155C11.5612 15.2801 11.3979 15.1929 11.2697 15.0647L9.16777 12.9628V14.4166C9.16773 14.5979 9.11395 14.7751 9.01322 14.9258C8.9125 15.0765 8.76935 15.1939 8.60187 15.2633C8.4344 15.3327 8.25012 15.3508 8.07233 15.3155C7.89454 15.2801 7.73122 15.1929 7.60302 15.0647L1.18636 8.64803C1.01451 8.47613 0.917969 8.24301 0.917969 7.99994C0.917969 7.75688 1.01451 7.52376 1.18636 7.35186L7.60302 0.935194C7.73121 0.806922 7.89457 0.719555 8.07243 0.684147C8.25028 0.648739 8.43465 0.666881 8.60219 0.736277ZM7.33444 11.1294L4.85302 8.64803C4.68117 8.47613 4.58464 8.24301 4.58464 7.99994C4.58464 7.75688 4.68117 7.52376 4.85302 7.35186L7.33444 4.87044V3.79611L3.13061 7.99994L7.33444 12.2038V11.1294ZM18.955 11.0011C18.8138 10.3485 18.5814 9.719 18.2648 9.13111C17.7871 8.24994 17.0601 7.5293 16.1748 7.05944C15.1866 6.52686 13.8199 6.16661 11.9178 6.16661C11.6747 6.16661 11.4415 6.07003 11.2696 5.89812C11.0977 5.72622 11.0011 5.49306 11.0011 5.24994V3.79611L6.79727 7.99994L11.0011 12.2038V10.7499C11.0011 10.514 11.0921 10.2871 11.2552 10.1165C11.4182 9.94593 11.6408 9.84481 11.8765 9.83419C13.5989 9.75628 15.787 9.84336 17.5819 10.4154C18.0584 10.5635 18.5185 10.7601 18.955 11.002V11.0011Z\"\r\n                  fill=\"#23A455\"></path>\r\n              </svg>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <span class=\"text-gray-500\">Success</span>\r\n        </div>\r\n\r\n        <div class=\"bg-gray-100 p-4 rounded-md shadow-sm flex flex-col items-left border-2 border-green-600\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-3xl font-semibold\">{{ totals.failed }}</span>\r\n            <div class=\"w-10 h-10 flex items-center justify-center mb-auto rounded-full bg-white\">\r\n              <svg width=\"22\" height=\"16\" viewBox=\"0 0 22 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                  d=\"M8.60219 0.736277C8.76965 0.805709 8.91277 0.923237 9.01344 1.074C9.11411 1.22476 9.16782 1.40199 9.16777 1.58328V3.03711L11.2697 0.935194C11.3979 0.807035 11.5612 0.719762 11.739 0.684408C11.9168 0.649055 12.1011 0.667208 12.2685 0.736572C12.436 0.805936 12.5792 0.923397 12.6799 1.07411C12.7806 1.22482 12.8344 1.40201 12.8344 1.58328V4.35986C14.5385 4.45978 15.9245 4.84203 17.0447 5.44519C18.2398 6.0821 19.2221 7.0554 19.8699 8.24469C21.0524 10.3851 21.0844 12.9023 21.0844 14.4166C21.0844 14.6597 20.9879 14.8929 20.816 15.0648C20.644 15.2367 20.4109 15.3333 20.1678 15.3333C19.9247 15.3333 19.6915 15.2367 19.5196 15.0648C19.3477 14.8929 19.2511 14.6597 19.2511 14.4166C19.2511 13.8474 19.0513 13.4257 18.7039 13.0783C18.3335 12.7089 17.7679 12.399 17.0245 12.1616C15.7925 11.7693 14.2562 11.6354 12.8344 11.6437V14.4166C12.8344 14.5979 12.7806 14.7751 12.6799 14.9258C12.5792 15.0765 12.436 15.1939 12.2685 15.2633C12.1011 15.3327 11.9168 15.3508 11.739 15.3155C11.5612 15.2801 11.3979 15.1929 11.2697 15.0647L9.16777 12.9628V14.4166C9.16773 14.5979 9.11395 14.7751 9.01322 14.9258C8.9125 15.0765 8.76935 15.1939 8.60187 15.2633C8.4344 15.3327 8.25012 15.3508 8.07233 15.3155C7.89454 15.2801 7.73122 15.1929 7.60302 15.0647L1.18636 8.64803C1.01451 8.47613 0.917969 8.24301 0.917969 7.99994C0.917969 7.75688 1.01451 7.52376 1.18636 7.35186L7.60302 0.935194C7.73121 0.806922 7.89457 0.719555 8.07243 0.684147C8.25028 0.648739 8.43465 0.666881 8.60219 0.736277ZM7.33444 11.1294L4.85302 8.64803C4.68117 8.47613 4.58464 8.24301 4.58464 7.99994C4.58464 7.75688 4.68117 7.52376 4.85302 7.35186L7.33444 4.87044V3.79611L3.13061 7.99994L7.33444 12.2038V11.1294ZM18.955 11.0011C18.8138 10.3485 18.5814 9.719 18.2648 9.13111C17.7871 8.24994 17.0601 7.5293 16.1748 7.05944C15.1866 6.52686 13.8199 6.16661 11.9178 6.16661C11.6747 6.16661 11.4415 6.07003 11.2696 5.89812C11.0977 5.72622 11.0011 5.49306 11.0011 5.24994V3.79611L6.79727 7.99994L11.0011 12.2038V10.7499C11.0011 10.514 11.0921 10.2871 11.2552 10.1165C11.4182 9.94593 11.6408 9.84481 11.8765 9.83419C13.5989 9.75628 15.787 9.84336 17.5819 10.4154C18.0584 10.5635 18.5185 10.7601 18.955 11.002V11.0011Z\"\r\n                  fill=\"#23A455\"></path>\r\n              </svg>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <span class=\"text-gray-500\">Failed</span>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    <div class=\"p-4 overflow-x-auto max-h-[51vh] custom-scrollbar\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Name</th>\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Phone No</th>\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Status</th>\r\n              <!-- <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Sent</th>\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Delivered</th>\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Read</th>\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Replied</th> -->\r\n              <th class=\"p-2 md:p-4 border-b-2 sticky top-0\">Failure Reason</th>\r\n\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"bg-white\">\r\n            <tr v-for=\"(contactReport, index) in broadcastReports\" :key=\"contactReport.id\">\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.contact_name }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.phone_no }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.status }}</td>\r\n              <!-- <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.sent }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.delivered }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.read }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">{{ contactReport.replied }}</td> -->\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-center\">\r\n                <div class=\"relative flex justify-center items-center\">\r\n                  <button v-if=\"contactReport.error_reason\" @mouseenter=\"showTooltip(index, $event)\"\r\n                    @mouseleave=\"hideTooltip\" class=\"info-button\">\r\n                    ℹ️\r\n                  </button>\r\n                  <div v-if=\"tooltipVisible === index\"\r\n                    class=\"tooltip-container absolute bg-gray-700 text-white p-2 rounded text-sm\"\r\n                    :style=\"tooltipStyles\">\r\n                    {{ contactReport.error_reason }}\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </PopUp1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useToast } from 'vue-toastification';\r\nimport PopUp1 from \"../popups/popup1\";\r\nimport PopUp from \"../popups/popup\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: 'BroadCast2',\r\n\r\n  components: {\r\n    PopUp,\r\n    PopUp1\r\n  }\r\n  ,\r\n  props: {\r\n    contactReport: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n\r\n      // Tmeplate preview\r\n      previewData: null,\r\n\r\n      loading: false,\r\n      currentPage: 1,\r\n      tooltipVisible: null, // Index of the row with a visible tooltip\r\n      tooltipStyles: {},\r\n      mediafile: null,\r\n      mediaId: \"\",\r\n      uploadedMedia: false,\r\n\r\n      broadcastName: '',\r\n      recipients: '',\r\n      selectedTemplate: '',\r\n      templates: [],\r\n      contacts: [],\r\n      broadcasts: [],\r\n      // broadcast report\r\n      broadcastReports: [],\r\n      totalRead: '',\r\n      totalSent: '',\r\n      totalDelivered: '',\r\n      csvUploaded: false,\r\n\r\n      allSelected: false,\r\n\r\n\r\n      csvFile: null,\r\n      selectedContacts: [],\r\n      showPopup: false,\r\n      showReportPopup: false,\r\n      scheduleDate: '',  // New data property for schedule date\r\n      scheduleTime: '',\r\n      isScheduled: false,\r\n\r\n\r\n      selectedTemplateId: null, // Holds the selected template's ID\r\n      selectedTemplateHasMedia: false, // Boolean to control if image URL input should appear\r\n      imageUrl: '',// To store the input value for the image URL\r\n      selectedTemplateHasParameters: false,\r\n      bodyParameters: [],\r\n      bodyParameter: '',\r\n\r\n\r\n      filterStatus: null,\r\n\r\n      // loading\r\n      popupLoading: false,\r\n      isSubmitted: false,\r\n      tableLoading: false\r\n\r\n    };\r\n  },\r\n  async mounted() {\r\n    // await this.fetchTemplates();\r\n    await this.fetchContacts();\r\n    await this.fetchBroadcastList();\r\n    await this.fetchtemplateList();\r\n\r\n\r\n\r\n    // Fetch contacts when the component is mounted\r\n  },\r\n  methods: {\r\n\r\n\r\n    generateTemplatePreview(components) {\r\n      let previewMessage = '';\r\n\r\n\r\n      // Loop through components and construct the preview message\r\n      components.forEach(component => {\r\n        switch (component.type) {\r\n          case 'HEADER': {\r\n            if (component.format === 'TEXT') {\r\n              previewMessage += `<strong>${component.text}\\n</strong> `;\r\n            } else if (component.format === 'IMAGE' && component.example?.header_handle) {\r\n              previewMessage += `<div style=\"width: auto; height: 200px; overflow: hidden; position: relative; border-radius: 5px\">\r\n  <img src=\"${component.example.header_handle[0]}\" alt=\"Description of image\" \r\n       style=\"width: 100%; height: 100%; object-fit: cover; object-position: start; display: block ; border-radius: 4px\">\r\n</div>`;\r\n\r\n            }\r\n            else if (component.format === 'VIDEO' && component.example?.header_handle) {\r\n              previewMessage += `<div style=\"width: auto; height: 200px; overflow: hidden; position: relative; border-radius: 5px\">\r\n                <video controls \r\n                    src=\"${component.example.header_handle[0]}\" \r\n                    style=\"width: 100%; height: 100%; object-fit: cover; object-position: start; display: block; border-radius: 4px\">\r\n                    Your browser does not support the video tag.\r\n                </video>\r\n            </div>`;\r\n            }\r\n            break;\r\n          }\r\n          case 'BODY': {\r\n            let bodyText = component.text;\r\n            // Check if the body contains dynamic placeholders like {{1}}\r\n            bodyText = this.replacePlaceholders(bodyText, component.example?.body_text);\r\n            previewMessage += bodyText;\r\n\r\n            break;\r\n          }\r\n          case 'FOOTER': {\r\n            previewMessage += `<span style=\"font-weight: lighter; color:gray;\">\\n${component.text}</span> `;\r\n            break;\r\n          }\r\n          case 'BUTTONS': {\r\n            if (component.buttons && Array.isArray(component.buttons)) {\r\n              previewMessage += `<div style=\" text-align: left;\">`;\r\n              component.buttons.forEach(button => {\r\n                if (button.type === 'URL') {\r\n                  previewMessage += `\r\n          <a href=\"${button.url}\" target=\"_blank\" \r\n             style=\"display: inline-flex; align-items: center; \r\n                    text-decoration: none; font-weight: bold; color: #007bff; \r\n                     border-top: 1px solid #ddd;\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#007bff\" width=\"19\" height=\"19\" viewBox=\"0 0 24 24\" style=\"margin-right: 5px;\">\r\n              <path d=\"M14 3v2h3.586l-8.293 8.293 1.414 1.414 8.293-8.293v3.586h2v-7h-7z\"/>\r\n              <path d=\"M5 5h6v-2h-6c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-6h-2v6h-14v-14z\"/>\r\n            </svg>\r\n            <span style=\"padding:5px\">${button.text}</span>\r\n            \r\n          </a>`;\r\n                } else if (button.type === 'REPLY') {\r\n                  previewMessage += `\r\n          <button style=\"display: inline-block; margin: 5px 0; padding: 10px 15px; \r\n                         background-color: #007bff; color: white; border: none; \r\n                         border-radius: 20px; cursor: pointer; font-weight: bold;\">\r\n            ${button.text}\r\n          </button>`;\r\n                }\r\n              });\r\n              previewMessage += `</div>`;\r\n            }\r\n            break;\r\n          }\r\n\r\n          default: {\r\n            previewMessage += `[Unknown Component Type] `;\r\n            break;\r\n          }\r\n        }\r\n      });\r\n\r\n      return previewMessage;\r\n    },\r\n\r\n    // Replace placeholders with example data (or default values if not available)\r\n    replacePlaceholders(bodyText, example) {\r\n      if (example && example.length > 0) {\r\n        // Assuming example contains placeholder names like \"Name\"\r\n        example.forEach((param, index) => {\r\n          const placeholder = `${index + 1}`;\r\n          bodyText = bodyText.replace(placeholder, param[0]); // Replace with the actual placeholder value\r\n        });\r\n      }\r\n      // console.log(bodyText);\r\n      return bodyText;\r\n    },\r\n\r\n\r\n    async loadNextPage() {\r\n      const prevFirst = this.broadcasts[0]?.id;\r\n      await this.fetchBroadcastList(this.filterStatus, this.currentPage+1);\r\n      const newFirst = this.broadcasts[0]?.id;\r\n\r\n      if (prevFirst !== newFirst && this.broadcasts.length > 0) {\r\n        this.currentPage += 1;\r\n      }\r\n    },\r\n    async loadPreviousPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage -= 1;\r\n        await this.fetchBroadcastList(this.filterStatus, this.currentPage);\r\n      }\r\n    },\r\n\r\n    showTooltip(index, event) {\r\n      this.tooltipVisible = index; // Set the visible tooltip to the current row index\r\n      const { clientX: x, clientY: y } = event;\r\n      this.tooltipStyles = {\r\n        left: `${x}px`,\r\n        top: `${y + 15}px`, // Offset for better visibility\r\n      };\r\n    },\r\n    hideTooltip() {\r\n      this.tooltipVisible = null; // Hide the tooltip\r\n    },\r\n\r\n    // showTooltip(event) {\r\n    //   this.tooltipVisible = true;\r\n    //   const buttonRect = event.target.getBoundingClientRect();\r\n    //   this.tooltipStyles = {\r\n    //     top: `${buttonRect.bottom + 8}px`, // Position below the button with a small gap\r\n    //     left: `${buttonRect.left + buttonRect.width / 2 - 85}px`, // Center horizontally, adjust for half of 170px width\r\n    //     width: \"170px\", // Tooltip width\r\n    //     height: \"100px\", // Tooltip height\r\n    //   };\r\n    // },\r\n\r\n    // hideTooltip() {\r\n    //   this.tooltipVisible = false;\r\n    // },\r\n\r\n\r\n\r\n\r\n    async fetchtemplateList() {\r\n      const token = localStorage.getItem('token');\r\n\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/template`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const templatelist = await response.json();\r\n        this.templates = templatelist.data;\r\n      } catch (error) {\r\n        console.error(\"There was an error fetching the templates:\", error);\r\n      }\r\n    },\r\n\r\n    async onTemplateSelect() {\r\n      // Find the selected template\r\n  \r\n      const selectedTemplate = this.templates.find(template => template.id === this.selectedTemplateId);\r\n      this.previewData = this.generateTemplatePreview(selectedTemplate.components);\r\n      console.log(this.previewData);\r\n\r\n      // Check if the selected template has a HEADER with IMAGE format\r\n      const headerComponent = selectedTemplate.components.find(\r\n        component => component.type === 'HEADER' && (component.format === 'IMAGE' || component.format === 'VIDEO')\r\n\r\n      );\r\n\r\n      // if (headerComponent) {\r\n      //   // Show the image input field and pre-fill with the example image URL if available\r\n      //   this.selectedTemplateHasMedia = true;\r\n      //   this.imageUrl = headerComponent.example?.header_handle?.[0] || ''; // Use the first example image if available\r\n      // } else {\r\n      //   // Hide the image input field if no image is found in the template\r\n      //   this.selectedTemplateHasMedia = false;\r\n      //   this.imageUrl = '';\r\n      // }\r\n\r\n      if (headerComponent) {\r\n        this.selectedTemplateHasMedia = true;\r\n        this.imageUrl = headerComponent.example?.header_handle?.[0] || '';\r\n\r\n        if (this.imageUrl) {\r\n          try {\r\n            const token = localStorage.getItem('token'); // or however you're storing it\r\n            const downloadUrl = new URL(\"http://localhost:8000/download-media\");\r\n            downloadUrl.searchParams.append(\"media_url\", this.imageUrl);\r\n\r\n            const response = await fetch(downloadUrl.toString(), {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            });\r\n\r\n            if (!response.ok) {\r\n              throw new Error(`Download failed with status ${response.status}`);\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            console.log(\"Blob received:\", blob);\r\n            const contentType = response.headers.get(\"content-type\") || \"application/octet-stream\";\r\n            const ext = contentType.split(\"/\")[1] || \"bin\";\r\n            const file = new File([blob], `template-media.${ext}`, { type: contentType });\r\n\r\n            const fakeEvent = {\r\n              target: {\r\n                files: [file]\r\n              }\r\n            };\r\n\r\n            await this.onFileChange(fakeEvent);\r\n            this.popupLoading = false;\r\n            console.log(`Template media downloaded and uploaded successfully.: ${this.mediaId}`);\r\n          } catch (error) {\r\n            console.error(\"Failed to download/upload template media:\", error);\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedTemplateHasMedia = false;\r\n        this.imageUrl = '';\r\n      }\r\n\r\n\r\n\r\n\r\n      // Check if the selected template has BODY parameters\r\n      const bodyComponent = selectedTemplate.components.find(component => component.type === 'BODY');\r\n\r\n      if (bodyComponent && bodyComponent.text.includes('{{')) {\r\n        // Extract the parameters from the body text if there are placeholders\r\n        const parameterMatches = bodyComponent.text.match(/{{\\d+}}/g);\r\n        if (parameterMatches) {\r\n          this.selectedTemplateHasParameters = true;\r\n          this.bodyParameters = parameterMatches.map((param, index) => ({\r\n            name: `Parameter ${index + 1}`,\r\n            value: ''\r\n          }));\r\n        } else {\r\n          this.selectedTemplateHasParameters = false;\r\n          this.bodyParameters = [];\r\n        }\r\n      } else {\r\n        // Hide the parameter input fields if no parameters are found\r\n        this.selectedTemplateHasParameters = false;\r\n        this.bodyParameters = [];\r\n      }\r\n    },\r\n\r\n\r\n\r\n    async fetchContacts() {\r\n\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/contacts/?limit=1000&offset=0`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const contactList = await response.json();\r\n        this.contacts = contactList.map(contact => ({\r\n          id: contact.id,\r\n          name: contact.name,\r\n          phone: contact.phone,\r\n          tags: contact.tags.map(tag => {\r\n            const [key, value] = tag.split(\":\");\r\n            return { key, value };\r\n          }),\r\n        }));\r\n      } catch (error) {\r\n        console.error('Error fetching contacts:', error);\r\n      }\r\n    },\r\n\r\n    async fetchBroadcastList(statusFilter = null, page = 1) {\r\n      const token = localStorage.getItem('token'); // Retrieve token from localStorage\r\n      const itemsPerPage = 10;\r\n\r\n      this.filterStatus = statusFilter;// Number of items to display per page\r\n      const url = `${this.apiUrl}/broadcast?limit=${itemsPerPage}&offset=${(page - 1) * itemsPerPage}&statusfilter=${this.filterStatus}`;\r\n\r\n      try {\r\n        // Fetch data from the backend\r\n        this.loading = true;\r\n        // await new Promise(resolve => setTimeout(resolve, 2000));\r\n        const response = await fetch(url, {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        // Check if the response is OK\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        // Parse JSON response\r\n        const broadcastList = await response.json();\r\n        this.loading = false;\r\n        // Process and optionally filter broadcasts\r\n        this.broadcasts = broadcastList\r\n          .map((broadcast) => ({\r\n            id: broadcast.id,\r\n            name: broadcast.name,\r\n            type: broadcast.type,\r\n            template: broadcast.template,\r\n            contacts: broadcast.contacts,\r\n            success: broadcast.success,\r\n            failed: broadcast.failed,\r\n            status: broadcast.status,\r\n            created_at: broadcast.created_at, // Include for sorting\r\n            updated_at: broadcast.updated_at, // Include for sorting\r\n          }))\r\n        // .filter((broadcast) => {\r\n        //   return statusFilter ? broadcast.status === statusFilter : true;\r\n        // }); \r\n\r\n        console.log('Broadcasts:', this.broadcasts); // Debug: Log the fetched broadcasts\r\n      } catch (error) {\r\n        console.error('Error fetching broadcasts:', error); // Log errors\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    filterBroadcastsByStatus(event) {\r\n      const status = event.target.value;\r\n      this.fetchBroadcastList(status);\r\n    },\r\n\r\n    formatDateTime(date) {\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const year = date.getFullYear();\r\n      const hours = String(date.getHours()).padStart(2, '0');\r\n      const minutes = String(date.getMinutes()).padStart(2, '0');\r\n      const seconds = String(date.getSeconds()).padStart(2, '0');\r\n\r\n      return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;\r\n    },\r\n\r\n    updateRecipients() {\r\n      this.recipients = this.selectedContacts.join(', ');\r\n    },\r\n\r\n\r\n    async onFileChange(event) {\r\n      this.mediafile = event.target.files[0];\r\n      this.uploadMedia();\r\n    },\r\n\r\n\r\n    async uploadMedia() {\r\n      if (!this.mediafile) {\r\n        console.error(\"No file available for upload\");\r\n        return;\r\n      }\r\n      const token = localStorage.getItem('token');\r\n\r\n      const formData = new FormData();\r\n      formData.append('file', this.mediafile);\r\n\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/upload-media`, {\r\n          method: \"POST\",\r\n          headers: {\r\n\r\n            'Authorization': `Bearer ${token}`,\r\n            // 'Content-Type': 'multipart/form-data',\r\n\r\n          },\r\n          body: formData,\r\n        });\r\n\r\n        const media = await response.json()\r\n        this.mediaId = media.whatsapp_media_id\r\n        console.log(this.mediaId)\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        else {\r\n          this.uploadedMedia = true\r\n          // alert(\"Media Uploaded Successfully\")\r\n        }\r\n      } catch (error) {\r\n        console.error('Error uploading media:', error);\r\n      }\r\n    },\r\n\r\n\r\n\r\n    async sendBroadcast() {\r\n      const toast = useToast();\r\n\r\n\r\n      // Assuming recipients have both name and number in format 'Name:1234567890'\r\n      const contacts = this.recipients.split(',').map(entry => {\r\n        const [name, phone] = entry.split(':').map(item => item.trim());\r\n        return { name, phone };\r\n      });\r\n\r\n      const Template = this.templates.find(template => template.id === this.selectedTemplateId);\r\n      const selectedTemplate = Template.name;\r\n      const formattedDate = this.formatDateTime(new Date());\r\n      const broadcastNameWithDate = `${this.broadcastName} - ${formattedDate}`;\r\n\r\n      const mediaID = this.mediaId;\r\n      const token = localStorage.getItem('token');\r\n      const bodyparamter = this.bodyParameter\r\n\r\n      try {\r\n        this.popupLoading = true;\r\n        this.fetchBroadcastList();\r\n\r\n        const requestBody = {\r\n          name: broadcastNameWithDate,\r\n          recipients: contacts, // Now sending both name and number\r\n          template: selectedTemplate,\r\n          template_data: JSON.stringify(Template),\r\n          type: \"Broadcast\",\r\n          status: 'Saved',\r\n        };\r\n\r\n        if (mediaID) {\r\n          requestBody.image_id = mediaID;\r\n        }\r\n\r\n        if (bodyparamter) {\r\n          requestBody.body_parameters = bodyparamter;\r\n        }\r\n\r\n        const response = await fetch(`${this.apiUrl}/send-template-message/`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(requestBody),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        } else {\r\n          this.fetchBroadcastList();\r\n          this.popupLoading = false;\r\n          this.isSubmitted = true;\r\n          toast.success('Broadcast sent successfully');\r\n        }\r\n\r\n\r\n\r\n      } catch (error) {\r\n        console.error('Error sending broadcast:', error);\r\n\r\n      }\r\n    },\r\n\r\n\r\n    closePopup() {\r\n      this.showPopup = false;\r\n      this.clearForm();\r\n    },\r\n\r\n    async fetchBroadcastReport(broadcast_id) {\r\n\r\n\r\n      const token = localStorage.getItem('token');\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/broadcast-report/${broadcast_id}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const result = await response.json()\r\n        this.broadcastReports = result.map(report => ({\r\n\r\n          phone_no: report.phone_no,\r\n          contact_name: report.contact_name,\r\n          status: report.status,\r\n          sent: report.sent,\r\n          delivered: report.delivered,\r\n          read: report.read,\r\n          replied: report.replied,\r\n          error_reason: report.error_reason\r\n\r\n        }));\r\n\r\n      } catch (error) {\r\n        console.error(\"Error fetching report for the broadcast\", error)\r\n      }\r\n    },\r\n\r\n    handleBroadcast() {\r\n      if (this.isScheduled) {\r\n        this.scheduleBroadcast2();\r\n\r\n      } else {\r\n        this.sendBroadcast();\r\n      }\r\n    },\r\n    async scheduleBroadcast2() {\r\n\r\n      const contacts = this.recipients.split(',').map(entry => {\r\n        const [name, phone] = entry.split(':').map(item => item.trim());\r\n        return { name, phone };\r\n      });\r\n\r\n\r\n      // Logic for scheduling a broadcast\r\n      const toast = useToast();\r\n      // const phoneNumbers = this.recipients.split(',').map(num => num.trim());\r\n      const Template = this.templates.find(template => template.id === this.selectedTemplateId);\r\n      const selectedTemplate = Template.name;\r\n      const formattedDate = this.formatDateTime(new Date());\r\n      const broadcastNameWithDate = `${this.broadcastName} - ${formattedDate}`;\r\n      const responseDiv = document.getElementById('response');\r\n      // responseDiv.textContent = 'Scheduling...';\r\n      const token = localStorage.getItem('token');\r\n      const mediaID = this.mediaId;\r\n      const bodyparamter = this.bodyParameter\r\n\r\n      // Combine date and time for scheduling\r\n      const scheduledDatetime = new Date(`${this.scheduleDate}T${this.scheduleTime}`).toISOString();\r\n\r\n      try {\r\n        this.popupLoading = true;\r\n        this.fetchBroadcastList();\r\n\r\n\r\n\r\n\r\n        const requestBody = {\r\n          name: broadcastNameWithDate,\r\n          recipients: contacts,\r\n          template: selectedTemplate,\r\n          template_data: JSON.stringify(Template),\r\n          type: \"Scheduled\",\r\n          status: 'Saved',\r\n          scheduled_time: scheduledDatetime\r\n        };\r\n\r\n        if (mediaID) {\r\n          requestBody.image_id = mediaID;\r\n        }\r\n\r\n        if (bodyparamter) {\r\n\r\n          requestBody.body_parameters = bodyparamter;\r\n        }\r\n\r\n        const response = await fetch(`${this.apiUrl}/schedule-template-message/`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(requestBody),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorData = await response.json(); // Parse the response JSON\r\n          const errorMessage = errorData.detail || 'Unknown error'; // Extract error message\r\n          toast.error(`Error scheduling broadcast: ${errorMessage}`);\r\n          // alert(`Error scheduling broadcast: ${errorMessage}`);\r\n          throw new Error('Network response was not ok');\r\n        } else {\r\n          toast.success('Broadcast scheduled successfully!');\r\n          this.popupLoading = false;\r\n          this.isSubmitted = true;\r\n          this.fetchBroadcastList();\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Error scheduling broadcast:', error);\r\n        responseDiv.textContent = 'Error scheduling broadcast.';\r\n      }\r\n    },\r\n\r\n\r\n    clearForm() {\r\n      this.popupLoading = false;\r\n      this.isSubmitted = false,\r\n        this.contact = \"\",\r\n        this.previewData = '';\r\n      this.broadcastName = '',\r\n        this.selectedTemplateHasParameters = '',\r\n        this.selectedTemplateHasMedia = false,\r\n        this.selectedTemplateId = '',\r\n        this.bodyParameter = '',\r\n        this.recipients = '',\r\n        this.selectedTemplate = '',\r\n        this.csvFile = null,\r\n        this.mediaId = \"\",\r\n        this.mediafile = null,\r\n        this.uploadedMedia = false,\r\n        this.selectedContacts = [],\r\n        this.scheduleDate = '',  // New data property for schedule date\r\n        this.scheduleTime = '',\r\n        this.isScheduled = false,\r\n        this.contacts = [],\r\n        this.csvUploaded = false\r\n\r\n    },\r\n\r\n    handleFileUpload(event) {\r\n      this.csvFile = event.target.files[0];\r\n      this.importCSV();\r\n\r\n    },\r\n\r\n\r\n    async importCSV() {\r\n      const toast = useToast();\r\n      if (!this.csvFile) return;\r\n\r\n      const formData = new FormData();\r\n      const token = localStorage.getItem(\"token\");\r\n      formData.append(\"file\", this.csvFile);\r\n\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/contacts/bulk_import/`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        // Handle the response directly\r\n        if (response.status >= 200 && response.status < 300) {\r\n          toast.success(\"Contact created successfully\");\r\n\r\n          const { contacts, duplicates } = response.data; // Extract contacts and duplicates\r\n          this.contacts = [...contacts, ...duplicates]; // Merge contacts and duplicates\r\n          this.csvUploaded = true;\r\n\r\n          // Format and append contacts in the required format 'Name:1234567890'\r\n          const formattedContacts = this.contacts\r\n            .map((contact) => `${contact.name}:${contact.phone}`)\r\n            .join(',');\r\n\r\n          // Update recipients with formatted contact list\r\n          this.recipients = this.recipients\r\n            ? `${this.recipients},${formattedContacts}`\r\n            : formattedContacts;\r\n        } else {\r\n          toast.error(`Error: ${response.data?.detail || \"Unknown error\"}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error importing contacts:\", error.response?.data?.detail || error.message);\r\n        toast.error(`Error: ${error.response?.data?.detail || \"Something went wrong\"}`);\r\n      }\r\n    },\r\n\r\n\r\n    async fiterBytTags() {\r\n      const token = localStorage.getItem(\"token\");\r\n      const tagValue = this.tag_value\r\n      const tagKey = this.tag_key\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/contacts-filter/filter?tag_key=${tagKey}&tag_value=${tagValue}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        });\r\n\r\n\r\n        const contactsList = await response.json()\r\n        this.contacts = contactsList.map((contact) => ({\r\n          id: contact.id,\r\n          name: contact.name,\r\n          phone: contact.phone,\r\n          email: contact.email,\r\n          tags: contact.tags.map(tag => {\r\n            const [key, value] = tag.split(\":\");\r\n            return { key, value };\r\n          }),\r\n          created_at: contact.created_at, // Store raw dates for sorting\r\n          updated_at: contact.updated_at // Store updated_at too\r\n        }));\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Network response not ok\")\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(\"Error filtering contacts\", error)\r\n      }\r\n    },\r\n\r\n    selectAll(event) {\r\n      // Check if the \"Select All\" checkbox is checked or unchecked\r\n      if (event.target.checked) {\r\n        // Select all contacts by pushing all contact phone numbers to the selectedContacts array\r\n        this.selectedContacts = this.contacts.map(contact => `${contact.name}:${contact.phone}`);\r\n      } else {\r\n        // Deselect all contacts by clearing the selectedContacts array\r\n        this.selectedContacts = [];\r\n      }\r\n    },\r\n\r\n    currentDateTime() {\r\n      const now = new Date();\r\n\r\n      // Format the date as YYYY-MM-DD\r\n      const year = now.getFullYear();\r\n      const month = (now.getMonth() + 1).toString().padStart(2, '0');\r\n      const day = now.getDate().toString().padStart(2, '0');\r\n      this.scheduleDate = `${year}-${month}-${day}`;\r\n\r\n      // Add 5 minutes to the current time\r\n      now.setMinutes(now.getMinutes() + 2);\r\n      const hours = now.getHours().toString().padStart(2, '0');\r\n      const minutes = now.getMinutes().toString().padStart(2, '0');\r\n      this.scheduleTime = `${hours}:${minutes}`;\r\n    },\r\n\r\n    async ImportCSV() {\r\n      const toast = useToast();\r\n      if (!this.file) return;\r\n\r\n      const formData = new FormData();\r\n      const token = localStorage.getItem(\"token\");\r\n      formData.append(\"file\", this.file);\r\n\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/contacts/bulk_import/`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        // Handle the response directly\r\n        if (response.status >= 200 && response.status < 300) {\r\n          toast.success(\"Contact created successfully\");\r\n\r\n\r\n          // Format and append contacts in the required format 'Name:1234567890'\r\n          const formattedContacts = this.contacts.map(contact => `${contact.name}:${contact.phone}`).join(',');\r\n\r\n          // Update recipients with formatted contact list\r\n          this.recipients = this.recipients ? `${this.recipients},${formattedContacts}` : formattedContacts;\r\n\r\n        } else {\r\n          toast.error(`Error: ${response.data?.detail || \"Unknown error\"}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error importing contacts:\", error.response?.data?.detail || error.message);\r\n        toast.error(`Error: ${error.response?.data?.detail || \"Something went wrong\"}`);\r\n      }\r\n    },\r\n\r\n\r\n  },\r\n  computed: {\r\n    totals() {\r\n      return this.broadcastReports.reduce(\r\n        (acc, report) => {\r\n          acc.sent += report.sent ? 1 : 0;\r\n          acc.delivered += report.delivered ? 1 : 0;\r\n          acc.read += report.read ? 1 : 0;\r\n          acc.replied += report.replied ? 1 : 0;\r\n          acc.failed += report.status === \"failed\" ? 1 : 0;\r\n          return acc;\r\n        },\r\n        { sent: 0, delivered: 0, read: 0, replied: 0, failed: 0 } // Initial count set to 0 for all\r\n      );\r\n    }\r\n  },\r\n  watch: {\r\n    selectedContacts: function () {\r\n      this.updateRecipients();\r\n    },\r\n    selectedContactsAll(newSelectedContacts) {\r\n      // Check if all contacts are selected\r\n      this.updateRecipients();\r\n      this.allSelected = newSelectedContacts.length === this.contacts.length;\r\n    },\r\n    mounted() {\r\n      // Get the current date and time\r\n\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.tooltip-container {\r\n  display: flex;\r\n  position: fixed;\r\n  /* Ensure the tooltip floats independently */\r\n  align-items: center;\r\n  /* Vertically center content */\r\n  justify-content: center;\r\n  /* Horizontally center content */\r\n  width: 170px;\r\n  /* Fixed width */\r\n  height: 100px;\r\n  /* Fixed height */\r\n  background-color: #444;\r\n  /* Background color for visibility */\r\n  color: white;\r\n  /* Text color */\r\n  border-radius: 8px;\r\n  /* Rounded corners */\r\n  z-index: 100000;\r\n  /* Ensure it's above other elements */\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n  /* Add shadow */\r\n  padding: 8px;\r\n  /* Inner spacing */\r\n  text-align: center;\r\n  /* Center text alignment */\r\n  overflow: hidden;\r\n  /* Prevent text from spilling out */\r\n  word-wrap: break-word;\r\n  /* Ensure long words break */\r\n  white-space: normal;\r\n  /* Wrap text onto the next line */\r\n  line-height: 1.2;\r\n  /* Adjust line spacing for readability */\r\n  box-sizing: border-box;\r\n  /* Include padding in dimensions */\r\n}\r\n\r\n\r\n\r\n.info-button {\r\n  display: inline-flex;       /* Use inline-flex so it wraps to content */\r\n  align-items: center;\r\n  cursor: pointer;\r\n  color: blue;\r\n  padding: 4px 8px;           /* Small padding around the text */\r\n  border: 1px solid blue;     /* Optional: add a border */\r\n  border-radius: 4px;         /* Slightly rounded corners */\r\n  font-size: 14px;            /* Optional: control font size */\r\n  background-color: #f0f8ff;  /* Optional: light background */\r\n  width: fit-content;         /* Ensure it fits content size */\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n.my-custom-toast {\r\n  background-color: #4caf50;\r\n  /* Custom background */\r\n  color: white;\r\n  font-size: 16px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.popup-content {\r\n  max-height: 600px;\r\n  /* Limit the height of the popup */\r\n  overflow-y: auto;\r\n  /* Enable vertical scrolling if content exceeds max-height */\r\n}\r\n\r\n.message {\r\n  font-size: small;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #ffffff;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  max-width: 90%;\r\n  min-width: 80px;\r\n  height: auto;\r\n  max-height: 650px;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  width: fit-content;\r\n  overflow: hidden;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n/* Custom Scrollbar */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-[10000]\">\r\n    <div class=\"bg-[#ffffff] p-6 rounded-md w-[750px]  relative max-h-[750px]\">\r\n      <div class=\"flex \">\r\n        <span class=\"close\" @click=\"$emit('close')\" hover>&times;</span> \r\n      </div>\r\n        \r\n      <slot/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PopUp1'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.close{\r\n\r\n  margin-left: auto;\r\n  font-size: 25px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <template>\r\n    <div class=\"popup1\">\r\n      <div class=\"popup1-inner\">\r\n        <span class=\"close\" @click=\"$emit('close')\">&times;</span>\r\n        <slot/>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: 'PopUp1'\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .popup1 {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0.4); /* Darkened overlay */\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center; /* Center the popup vertically */\r\n    z-index: 10000;\r\n  }\r\n  \r\n  .popup1-inner {\r\n    background-color: #f5f6fa;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    width: 28%; /* Reduced width */\r\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\r\n    position: relative; /* Ensures close button is relative to this container */\r\n  }\r\n  \r\n  .close {\r\n    position: absolute;\r\n    top: 10px; /* Positioned closer to the top-right corner */\r\n    right: 10px;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    color: black;\r\n  }\r\n  </style>\r\n   -->","import { render } from \"./popup1.vue?vue&type=template&id=7121ff01&scoped=true\"\nimport script from \"./popup1.vue?vue&type=script&lang=js\"\nexport * from \"./popup1.vue?vue&type=script&lang=js\"\n\nimport \"./popup1.vue?vue&type=style&index=0&id=7121ff01&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7121ff01\"]])\n\nexport default __exports__","import { render } from \"./broadcast2.vue?vue&type=template&id=3cd8a24b&scoped=true\"\nimport script from \"./broadcast2.vue?vue&type=script&lang=js\"\nexport * from \"./broadcast2.vue?vue&type=script&lang=js\"\n\nimport \"./broadcast2.vue?vue&type=style&index=0&id=3cd8a24b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3cd8a24b\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    <!-- Section Header -->\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-xl md:text-2xl font-bold text-green-800\">Scheduled Broadcasts</h2>\r\n        <p class=\"text-sm md:text-base\">Your content for scheduled broadcasts goes here.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Broadcast List Table -->\r\n    <h3 class=\"text-xl md:text-2xs mb-4 text-green-800\"><b>Scheduled Broadcast List</b></h3>\r\n      \r\n    <div class=\"overflow-x-auto max-h-[60vh] custom-scrollbar\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">ID</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Scheduled Time</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Broadcast Name</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Template</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Contacts</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Status</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"broadcast in broadcasts\" :key=\"broadcast.id\" class=\"hover:bg-gray-50\">\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.id }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.scheduled_time }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.name }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.template }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ broadcast.contacts.length }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div :class=\"{\r\n                'bg-green-100 text-green-600 font-semibold px-2 py-1 rounded': broadcast.status === 'Successful',\r\n                'bg-blue-100 text-blue-600 font-semibold px-2 py-1 rounded': broadcast.status === 'Scheduled',\r\n                'bg-red-100 text-red-500 font-semibold px-2 py-1 rounded': broadcast.status === 'Cancelled',\r\n                'bg-yellow-100 text-yellow-500 font-semibold px-2 py-1 rounded': broadcast.status === 'Partially Successful',\r\n                'bg-yellow-100 text-yellow-600 font-semibold px-2 py-1 rounded': broadcast.status === 'pending...'\r\n              }\">\r\n                {{ broadcast.status }}\r\n              </div>\r\n            </td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <button @click=\"DeleteScheduledBroadcast(broadcast.id)\" class=\"hover:bg-white rounded-full p-2 transition\">\r\n                <lord-icon src=\"https://cdn.lordicon.com/skkahier.json\" trigger=\"hover\"\r\n                  colors=\"primary:#ff5757,secondary:#000000\" style=\"width:32px;height:32px\">\r\n                </lord-icon>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { useToast } from 'vue-toastification';\r\n\r\nexport default {\r\n  name: 'BroadCast3',\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      broadcasts: [],\r\n\r\n\r\n    }\r\n\r\n  },\r\n  async mounted() {\r\n\r\n    await this.fetchScheduledBroadcastList();\r\n    \r\n    const script = document.createElement('script');\r\n    script.src = \"https://cdn.lordicon.com/lordicon.js\";\r\n    document.body.appendChild(script);\r\n  },\r\n  methods: {\r\n\r\n    async fetchScheduledBroadcastList() {\r\n      const token = localStorage.getItem('token');\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/scheduled-broadcast`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const ScheduledbroadcastList = await response.json();\r\n        this.broadcasts = ScheduledbroadcastList.map(broadcast => ({\r\n          id: broadcast.id,\r\n          name: broadcast.name.split(' - ')[0],  // Extract the part before \" - \"\r\n          template: broadcast.template,\r\n          contacts: broadcast.contacts, // Join the array without quotes\r\n          status: broadcast.status,\r\n          scheduled_time:broadcast.scheduled_time\r\n        }));\r\n      } catch (error) {\r\n        console.error('Error fetching scheduled-broadcastlist:', error);\r\n      }\r\n    },\r\n\r\n    async DeleteScheduledBroadcast(broadcast_id) {\r\n      const toast= useToast();\r\n      const token = localStorage.getItem('token');\r\n      const confirmDelete = confirm(\"Are you sure you want to delete this broadcast?\");\r\n      if (!confirmDelete) return;\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/broadcasts-delete/${broadcast_id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        else{\r\n          toast.success(\"Broadcast deleted successfully\")\r\n        }\r\n\r\n        this.fetchScheduledBroadcastList();\r\n\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching contacts:', error);\r\n      }\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n\r\n\r\n/* Custom Scrollbar */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <style scoped>\r\n  .NeWBroadcastButtonContainer {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  max-width: 1100px;\r\n  padding: 20px;\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.NeWBroadcastButtonContainer button {\r\n  margin-left: 725px;\r\n\r\n}\r\n\r\n.broadcastListContainer {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  max-width: 1100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n\r\n}\r\n\r\n.broadcastList-table {\r\n  width: 100%;\r\n  border-radius: 12px;\r\n  border-collapse: collapse;\r\n  overflow-x: auto;\r\n  display: block;\r\n  max-height: 400px;\r\n  /* Adjust height as needed */\r\n\r\n}\r\n\r\nth {\r\n  padding: 20px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n\r\n\r\n}\r\n\r\n.broadcastList-table td {\r\n  border: 1px solid #ddd;\r\n\r\n  padding: 20px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.broadcastList-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #dddddd;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n\r\n}\r\n\r\n.broadcastList-table tbody {\r\n  background-color: white;\r\n}\r\n\r\n.CSVimportContainer {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n}\r\n\r\n.CSVimportContainer a {\r\n  padding-left: 10px;\r\n}\r\n\r\n.CSVimportContainer input {\r\n  max-width: 200px;\r\n  margin-top: 20px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.CSVimportContainer button {\r\n  margin-left: 10px;\r\n  height: 35px;\r\n}\r\n\r\n\r\n#response {\r\n  margin-top: 20px;\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n\r\n.contact-table {\r\n  width: auto;\r\n\r\n  border-collapse: collapse;\r\n  overflow-x: auto;\r\n  display: block;\r\n  max-height: 200px;\r\n  /* Adjust height as needed */\r\n\r\n  margin-bottom: 20px;\r\n}\r\n\r\n\r\n.contact-table td {\r\n  padding: 15px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n  background-color: #ffffff;\r\n}\r\n\r\n.contact-table th {\r\n  padding: 15px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n}\r\n\r\n\r\n.contact-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #dddddd;\r\n  border-collapse: collapse;\r\n}\r\n</style>\r\n\r\n   -->","import { render } from \"./broadcast3.vue?vue&type=template&id=2e14e6a8&scoped=true\"\nimport script from \"./broadcast3.vue?vue&type=script&lang=js\"\nexport * from \"./broadcast3.vue?vue&type=script&lang=js\"\n\nimport \"./broadcast3.vue?vue&type=style&index=0&id=2e14e6a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e14e6a8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-xl md:text-2xl font-bold \">Manage Contacts</h2>\r\n        <p class=\"text-xsm md:text-base\">Contact list stores the list of numbers that you've interacted with.\r\n          You can even manually export or import contacts.</p>\r\n      </div>\r\n\r\n      <div class=\"flex justify-between\">\r\n        <div>\r\n          <!-- <button @click=\"showPopup = true\"\r\n            class=\"bg-[#075e54] text-[#f5f6fa] px-4 py-2 md:px-4 md:py-4 text-sm md:text-base rounded-md shadow-lg\">\r\n            + Add Contact\r\n          </button> -->\r\n\r\n          <button\r\n            class=\"bg-green-700 hover:bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center \"\r\n            @click=\"showPopup = true\">\r\n            <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4v16m8-8H4\"></path>\r\n            </svg>\r\n            New Contact\r\n          </button>\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n\r\n      <confirmationPopup v-if=\"showConfirmPopup\" @yes=\"deleteContact(this.selectedContact)\"\r\n                  @no=\"showConfirmPopup = false\" @close=\"showConfirmPopup = false\" />\r\n      <PopUp1 v-if=\"showPopupimport\" @close=\"closePopupimport()\">\r\n\r\n        <h2 class=\"text-xl font-semibold mb-4\">Bulk Import Contacts</h2>\r\n        <hr class=\"mb-4 border-gray-300\">\r\n\r\n        <div class=\"overflow-y-auto max-h-[70vh] p-6 custom-scrollbar space-y-6\">\r\n\r\n          <!-- File Upload Section -->\r\n          <div class=\"flex justify-between items-center space-x-4\">\r\n            <input type=\"file\" @change=\"onFileChange\" accept=\".csv\" />\r\n            <button :disabled=\"!file\" @click=\"uploadFile\"\r\n              class=\"h-8 w-24 border-2 border-green-500 text-green-500 hover:text-white hover:bg-green-500 transition duration-200\">\r\n              Upload\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Duplicate Contacts Section -->\r\n          <div v-if=\"duplicates.length\">\r\n            <h4 class=\"text-green-700 font-semibold mb-2\">Duplicate Contacts</h4>\r\n            <div class=\"overflow-y-auto max-h-[30vh] custom-scrollbar\">\r\n              <table class=\"w-full table-fixed border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n                <thead>\r\n                  <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[20%]\">Name</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[30%]\">Email</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[20%]\">Phone</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[30%]\">Tags</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(contact, index) in duplicates\" :key=\"index\">\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.name }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.email }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.phone }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200\">\r\n                      <div class=\"truncate\" v-for=\"(value, key) in contact.tags\" :key=\"key\">\r\n                        {{ key }}: {{ value }}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- New Contacts Section -->\r\n          <div v-if=\"importcontacts.length\">\r\n            <h4 class=\"text-green-700 font-semibold mb-2\">New Contacts</h4>\r\n            <div class=\"overflow-y-auto max-h-[30vh] custom-scrollbar\">\r\n              <table class=\"w-full table-fixed border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n                <thead>\r\n                  <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[20%]\">Name</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[30%]\">Email</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[20%]\">Phone</th>\r\n                    <th class=\"p-2 border border-gray-300 sticky top-0 z-10 bg-gray-100 w-[30%]\">Tags</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(contact, index) in importcontacts\" :key=\"index\">\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.name }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.email }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200 truncate\">{{ contact.phone }}</td>\r\n                    <td class=\"p-2 text-left border border-gray-200\">\r\n                      <div class=\"truncate\" v-for=\"(value, key) in contact.tags\" :key=\"key\">\r\n                        {{ key }}: {{ value }}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Import Button -->\r\n          <div v-if=\"importcontacts.length\" class=\"flex justify-end\">\r\n            <button :disabled=\"!file\" @click=\"ImportCSV\"\r\n              class=\"h-8 w-24 border-2 border-green-500 text-green-500 hover:text-white hover:bg-green-500 transition duration-200\">\r\n              Import\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </PopUp1>\r\n\r\n    </div>\r\n    <PopUpSmall v-if=\"showPopup\" @close=\"closePopup\">\r\n      <h2 class=\"text-xl font-semibold mb-4\">{{ isEditing ? 'Edit Contact' : 'Add Contact' }}</h2>\r\n      <hr class=\"mb-4 border-gray-300\">\r\n      <form @submit.prevent=\"submitForm\" id=\"contactForm\" class=\"w-[400px] bg-white\">\r\n        <div class=\"p-4 bg-[#f5f6fa]\">\r\n          <div class=\"mb-4\">\r\n            <label for=\"name\" class=\"block text-sm font-medium\">Name<span class=\"text-red-800\">*</span></label>\r\n            <input type=\"text\" v-model=\"contact.name\" id=\"name\" placeholder=\"Name\" required\r\n              class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n          </div>\r\n\r\n          <div class=\"mb-4\">\r\n            <label for=\"phone\" class=\"block text-sm font-medium\">Phone Number<span class=\"text-red-800\">*</span></label>\r\n            <div class=\"flex\">\r\n              <select v-model=\"contact.countryCode\" class=\"border border-gray-300 rounded-l px-3 py-2 w-20 mr-2\">\r\n                <option value=\"1\">+1</option>\r\n                <option value=\"44\">+44</option>\r\n                <option value=\"91\">+91</option>\r\n              </select>\r\n              <input type=\"text\" v-model=\"contact.phone\" id=\"phone\" placeholder=\"Phone Number\" required\r\n                class=\"border border-gray-300 rounded-r px-3 py-2 w-full\">\r\n            </div>\r\n          </div>\r\n          <label for=\"email\" class=\"block text-sm font-medium\">Email</label>\r\n          <input type=\"email\" v-model=\"contact.email\" id=\"email\" placeholder=\"Email\"\r\n            class=\"border border-gray-300 rounded px-3 py-2 mb-2 w-full\">\r\n\r\n          <div class=\"mb-4\">\r\n\r\n            <div class=\"custom-scrollbar tags-container-container\">\r\n\r\n              <div class=\"tags-container\">\r\n                <div class=\"tag-input\" v-for=\"(tag, index) in contact.tags\" :key=\"index\"\r\n                  style=\"display: flex; align-items: center;\">\r\n                  <input type=\"text\" v-model=\"tag.key\" placeholder=\"Key\" required\r\n                    class=\"border border-gray-300 rounded px-3 py-2 mb-2 w-full\" style=\"width: 60%;\">\r\n                  <input type=\"text\" v-model=\"tag.value\" placeholder=\"Value\" required\r\n                    class=\"border border-gray-300 rounded px-3 py-2 mb-2 w-full\" style=\"width: 60%; margin-left: 10px;\">\r\n                  <button type=\"button\" @click=\"removeTag(index)\" class=\"hover:bg-gray-100 rounded-full p-2 transition\">\r\n                    <lord-icon src=\"https://cdn.lordicon.com/skkahier.json\" trigger=\"hover\"\r\n                      colors=\"primary:#ff5757,secondary:#000000\" style=\"width:32px;height:32px\"></lord-icon>\r\n                  </button>\r\n                  <span v-if=\"warningData\" class=\"text-red-500 text-xs\">{{ warningData }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button type=\"button\" @click=\"addTag\"\r\n              class=\"text-black p-2 text-small border border-black hover:bg-gray-200\">+ Add\r\n              Tag</button>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"flex justify-end pt-4 \">\r\n          <button type=\"submit\" class=\"bg-green-700 hover:bg-green-600 text-white px-4 py-2 rounded\">\r\n            {{ isEditing ? 'Update Contact' : 'Add Contact' }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </PopUpSmall>\r\n\r\n\r\n\r\n    <div class=\" p-5  filter-container space-x-2\">\r\n\r\n      <h3 class=\"text-xl md:text-2xs mb-0 text-gray-600\"><b>Contact List</b></h3>\r\n\r\n\r\n\r\n\r\n      <div class=\"flex items-center space-x-2  justify-between\">\r\n\r\n        <div class=\"flex items-center space-x-2  justify-between\">\r\n          <h3 class=\"text-l\"><b>Filter by tags:</b></h3>\r\n\r\n          <input type=\"text\" v-model=\"tag_key\" placeholder=\"Key\"\r\n            class=\"border border-gray-300 rounded px-3 py-2 w-40px\">\r\n          <input type=\"text\" v-model=\"tag_value\" placeholder=\"Value\"\r\n            class=\"border border-gray-300 rounded px-3 py-2 w-40px\">\r\n\r\n          <button @click=\"fiterBytTags\"\r\n            class=\"relative my-2 h-auto w-auto p-2 bg-green-700 hover:bg-green-600 text-white\">Apply\r\n            filter</button>\r\n        </div>\r\n\r\n        <div>\r\n          <button @click=\"showPopupimport = true\" class=\"bg-green-600 hover:bg-green-600 text-white px-4 py-2 \">\r\n            <i class=\"bi bi-download\"></i> Import CSV\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"overflow-x-auto max-h-[51vh] custom-scrollbar\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">ID</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Name</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Phone Number</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Email</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Tags</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Created At</th>\r\n            <th class=\"p-3 md:p-4 border border-gray-300 sticky top-0 z-10 bg-gray-100\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"contact in contacts\" :key=\"contact.id\" class=\"hover:bg-gray-50\">\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ contact.id }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ contact.name }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ contact.phone }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ contact.email }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div v-for=\"(tag, index) in contact.tags\" :key=\"index\">\r\n                <span class=\"font-semibold\">{{ tag.key }}:</span> {{ tag.value }}\r\n              </div>\r\n            </td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ formatDate(contact.created_at) }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div class=\"flex justify-center space-x-2\">\r\n                <button @click=\"modifyContact(contact)\" class=\"hover:bg-white rounded-full p-2 transition\">\r\n                  <lord-icon src=\"https://cdn.lordicon.com/wuvorxbv.json\" trigger=\"hover\"\r\n                    style=\"width:32px;height:32px\">\r\n                  </lord-icon>\r\n                </button>\r\n                \r\n\r\n                <button @click=\"showConfirmationPopup(contact.phone)\" class=\"hover:bg-white rounded-full p-2 transition\">\r\n                  <lord-icon src=\"https://cdn.lordicon.com/skkahier.json\" trigger=\"hover\"\r\n                    colors=\"primary:#ff5757,secondary:#000000\" style=\"width:32px;height:32px\">\r\n                  </lord-icon>\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"flex justify-center mt-4\">\r\n      <div class=\"flex items-center space-x-4 bg-white shadow-md rounded-lg px-4 py-2\">\r\n        <button\r\n          class=\"px-3 py-1 bg-green-600 text-white font-medium rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          @click=\"loadPreviousPage\" :disabled=\"currentPage === 1\">\r\n          Previous\r\n        </button>\r\n        <div class=\"px-4 py-1 border border-gray-300 rounded text-gray-700 font-semibold\">\r\n          {{ currentPage }}\r\n        </div>\r\n        <button class=\"px-3 py-1 bg-green-600 text-white font-medium rounded hover:bg-green-600\" @click=\"loadNextPage\">\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useToast } from 'vue-toastification';\r\nimport PopUp1 from \"../popups/popup1\";\r\nimport PopUpSmall from \"../popups/popup_small\";\r\nimport confirmationPopup from '../popups/confirmation';\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    PopUp1,\r\n    PopUpSmall,\r\n    confirmationPopup\r\n  },\r\n  async mounted() {\r\n    await this.fetchContactList();\r\n\r\n\r\n    const script = document.createElement('script');\r\n    script.src = \"https://cdn.lordicon.com/lordicon.js\";\r\n    document.body.appendChild(script);\r\n  },\r\n  name: \"ContActs1\",\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      currentPage: 1,\r\n      showPopup: false,\r\n      showPopupimport: false,\r\n      showActionPopup: false,\r\n      showConfirmPopup: false,\r\n      file: null,\r\n      importcontacts: [], // Initialize as an empty array\r\n      duplicates: [], // Initialize as an empty array\r\n      contact: {\r\n        id: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        countryCode: \"\",\r\n        tags: [],\r\n\r\n        // Search Bar\r\n        tag_key: '',\r\n        tag_value: '',\r\n      },\r\n      selectedContact: null,\r\n      contacts: [],\r\n      isEditing: false,\r\n      searchQuery: '',  // This will be used for searching by phone number\r\n      selectedTag: null,\r\n      sortBy: 'updated_at', // Default sorting criteria\r\n      order: 'desc', // Default sorting order\r\n      searchTerm: '',\r\n      warningData: '',// For searching by contact name\r\n    };\r\n  },\r\n  computed: {\r\n    filteredContacts() {\r\n      const searchPhone = this.searchQuery.toLowerCase(); // Updated to use searchQuery for phone numbers\r\n      const searchName = this.searchTerm.toLowerCase(); // For contact name search\r\n\r\n      return this.contacts\r\n        .filter(contact => {\r\n          const matchesPhone = contact.phone.toLowerCase().includes(searchPhone); // Searching by phone number\r\n          const matchesName = contact.name.toLowerCase().includes(searchName); // Searching by contact name\r\n          const matchesTag = this.selectedTag\r\n            ? contact.tags.some(tag => tag.key.toLowerCase() === this.selectedTag.toLowerCase())\r\n            : true;\r\n          return (matchesPhone || matchesName) && matchesTag; // Filtering by phone number, name, and tags\r\n        });\r\n    },\r\n    uniqueTags() {\r\n      const allTags = this.contacts.flatMap(contact => contact.tags.map(tag => tag.key));\r\n      return [...new Set(allTags)];\r\n    },\r\n    formattedTags() {\r\n      return this.contacts.map(contact => ({\r\n        ...contact,\r\n        formattedTags: contact.tags.map(tag => `${tag.key}: ${tag.value}`).join(', '),\r\n      }));\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    showConfirmationPopup(phone) {\r\n      this.selectedContact = phone;\r\n      this.showConfirmPopup = true; // Show the confirmation popup\r\n    },\r\n\r\n    async loadNextPage() {\r\n      const prev = this.contacts[0]?.id\r\n      await this.fetchContactList(this.currentPage + 1);\r\n      const newFirst = this.contacts[0]?.id;\r\n      if (prev !== newFirst && this.contacts.length > 0) {\r\n        this.currentPage += 1;\r\n      }\r\n\r\n    },\r\n    async loadPreviousPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage -= 1;\r\n        await this.fetchContactList(this.currentPage);\r\n      }\r\n    },\r\n\r\n    async submitForm() {\r\n      const toast = useToast();\r\n      const { id, name, email, phone, countryCode, tags } = this.contact;\r\n\r\n      let fullPhoneNumber = phone;\r\n      if (countryCode && countryCode.trim() !== '') {\r\n        fullPhoneNumber = `${countryCode}${phone}`;\r\n      }\r\n\r\n      if (tags.some(tag => tag.key === '' || tag.value === '')) {\r\n        this.warningData = \"Please enter key and value for all tags\";\r\n        return;\r\n      }\r\n\r\n      const tagArray = tags.map(tag => `${tag.key}:${tag.value}`);\r\n\r\n      const url = id ? `${this.apiUrl}/contacts/${id}` : `${this.apiUrl}/contacts/`;\r\n      const method = id ? \"PUT\" : \"POST\";\r\n      const token = localStorage.getItem(\"token\");\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method: method,\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ name, email, phone: fullPhoneNumber, tags: tagArray }), // Send full phone number\r\n        });\r\n\r\n        if (response.ok) {\r\n          toast.success(id ? \"Contact updated successfully\" : \"Contact created successfully\");\r\n          this.clearForm();\r\n          this.fetchContactList();\r\n        } else {\r\n          const errorData = await response.json();\r\n          toast.error(`Error: ${errorData.detail}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error saving contact:\", error);\r\n        toast.error(\"Error saving contact\");\r\n        \r\n      }\r\n    },\r\n    clearForm() {\r\n      this.contact = {\r\n        id: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        tags: [],\r\n      };\r\n      this.showPopup = false;\r\n    },\r\n    closePopup() {\r\n      this.showPopup = false;\r\n      this.clearForm();  // Clear the form when closing the \r\n    },\r\n    formatDate(dateString) {\r\n      const options = { year: 'numeric', month: 'short', day: 'numeric' };\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('en-US', options).replace(/,/g, '');\r\n    },\r\n\r\n\r\nasync fetchContactList(page = 1) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const itemsPerPage = 10; // Number of contacts per page\r\n  // Modified URL to explicitly sort by 'created_at' in 'desc' (descending) order\r\n  const url = `${this.apiUrl}/contacts/?sort_by=updated_at&order=desc&limit=${itemsPerPage}&offset=${(page - 1) * itemsPerPage}`;\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Network response was not ok\");\r\n    }\r\n\r\n    const contactsList = await response.json();\r\n    console.log(contactsList);\r\n\r\n    if (contactsList.length === 0) {\r\n      return;\r\n    }\r\n    this.contacts = contactsList.map((contact) => ({\r\n      id: contact.id,\r\n      name: contact.name,\r\n      phone: contact.phone,\r\n      email: contact.email,\r\n      tags: contact.tags.map(tag => {\r\n        const [key, value] = tag.split(\":\");\r\n        return { key, value };\r\n      }),\r\n      created_at: contact.created_at, // Store raw dates for sorting\r\n      updated_at: contact.updated_at // Store updated_at too\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error fetching contacts:\", error);\r\n  }\r\n},\r\n\r\n    // Contacts Tags Filter\r\n    async fiterBytTags() {\r\n      const token = localStorage.getItem(\"token\");\r\n      const tagValue = this.tag_value\r\n      const tagKey = this.tag_key\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/contacts-filter/filter?tag_key=${tagKey}&tag_value=${tagValue}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        });\r\n\r\n\r\n        const contactsList = await response.json()\r\n        this.contacts = contactsList.map((contact) => ({\r\n          id: contact.id,\r\n          name: contact.name,\r\n          phone: contact.phone,\r\n          email: contact.email,\r\n          tags: contact.tags.map(tag => {\r\n            const [key, value] = tag.split(\":\");\r\n            return { key, value };\r\n          }),\r\n          created_at: contact.created_at, // Store raw dates for sorting\r\n          updated_at: contact.updated_at // Store updated_at too\r\n        }));\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Network response not ok\")\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(\"Error filtering contacts\", error)\r\n      }\r\n    },\r\n    closeActionPopup() {\r\n      this.showActionPopup = false;\r\n      this.selectedContact = null;\r\n    },\r\n    modifyContact(contact) {\r\n      this.isEditing = true; // Set to true for editing mode\r\n      this.selectedContact = contact;\r\n      this.contact = { ...this.selectedContact };\r\n      this.showPopup = true;\r\n      this.closeActionPopup();\r\n    },\r\n    async deleteContact(phone) {\r\n      const toast = useToast();\r\n      this.showConfirmPopup = false; // Close the confirmation popup\r\n\r\n\r\n      const token = localStorage.getItem(\"token\");\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/contacts/${phone}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          toast.success(\"Contact deleted successfully\");\r\n          this.fetchContactList();\r\n          this.closeActionPopup();\r\n        } else {\r\n          const errorData = await response.json();\r\n          toast.error(`Error: ${errorData.detail}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error deleting contact:\", error);\r\n        toast.error(\"Error deleting contact\");\r\n        \r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    addTag() {\r\n      this.warningData = \"\"; // Reset warning message\r\n      const lastTag = this.contact.tags[this.contact.tags.length - 1];\r\n      if (this.contact.tags.length === 0 || (lastTag.key !== '' && lastTag.value !== '')) {\r\n        this.contact.tags.push({ key: \"\", value: \"\" });\r\n      } else {\r\n        this.warningData = \"Please enter key and value for the previous tag\";\r\n      }\r\n    },\r\n    removeTag(index) {\r\n      this.contact.tags.splice(index, 1);\r\n    },\r\n    filterContacts() {\r\n      this.fetchContactList();\r\n    },\r\n\r\n    onFileChange(event) {\r\n      this.file = event.target.files[0];\r\n    },\r\n    async uploadFile() {\r\n      if (!this.file) return;\r\n\r\n      const formData = new FormData();\r\n      const token = localStorage.getItem(\"token\");\r\n      formData.append(\"file\", this.file);\r\n\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/contacts/csv/`, formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\", Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        // Update the table with imported contacts\r\n        this.importcontacts = response.data.contacts || [];\r\n        this.duplicates = response.data.duplicates || [];\r\n      } catch (error) {\r\n        console.error(\"Error importing contacts:\", error.response?.data?.detail || error.message);\r\n      }\r\n    },\r\n\r\n\r\n    async ImportCSV() {\r\n      const toast = useToast();\r\n      if (!this.file) return;\r\n\r\n      const formData = new FormData();\r\n      const token = localStorage.getItem(\"token\");\r\n      formData.append(\"file\", this.file);\r\n\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/contacts/bulk_import/`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        // Handle the response directly\r\n        if (response.status >= 200 && response.status < 300) {\r\n          toast.success(\"Contact created successfully\");\r\n          this.fetchContactList();\r\n        } else {\r\n          toast.error(`Error: ${response.data?.detail || \"Unknown error\"}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error importing contacts:\", error.response?.data?.detail || error.message);\r\n        toast.error(`Error: ${error.response?.data?.detail || \"Something went wrong\"}`);\r\n      }\r\n    },\r\n\r\n    closePopupimport() {\r\n      this.showPopupimport = false;\r\n      this.file = null;\r\n      this.importcontacts = [];\r\n      this.duplicates = [];\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Custom Scrollbar */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n.tags-container {\r\n  max-height: 120px;\r\n  /* adjust this value based on the height of your attribute rows */\r\n  overflow-y: auto;\r\n}\r\n\r\n.tags-container::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.tags-container::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.tags-container::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.tags-container::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n\r\n\r\n\r\n.name-column {\r\n  max-width: 130px;\r\n  /* Adjust based on your needs */\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.contact-id-column {\r\n  font-size: 1.0rem;\r\n  /* Adjust the font size as needed */\r\n  max-width: 20px;\r\n  /* Optional: Adjust width if needed */\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <div class=\"mb-4\">\r\n          <label for=\"attributes\" class=\"block text-sm font-medium\">Custom Attribute (Optional)</label>\r\n          <button @click=\"addAttribute\" type=\"button\" class=\"border border-green-500 text-green-500 px-4 py-2 rounded\">\r\n            + Add Attribute\r\n          </button>\r\n        </div> -->\r\n\r\n<!-- <PopUpSmall v-if=\"showActionPopup\" @close=\"closeActionPopup\">\r\n      <div class=\"bg-white shadow-lg rounded-lg p-4\">\r\n        <p class=\"text-lg mb-4\">What action do you want to take?</p>\r\n        <div class=\"flex space-x-4\">\r\n          <button @click=\"modifyContact\" class=\"bg-yellow-500 text-white py-2 px-4 rounded\">Modify</button>\r\n          <button @click=\"deleteContact(selectedContact.phone)\"\r\n            class=\"bg-red-500 text-white py-2 px-4 rounded\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </PopUpSmall> -->\r\n<!-- <button @click=\"openActionPopup(contact)\"\r\n                  class=\"bg-[#075e54] text-white py-2 px-4 rounded\">Action\r\n                </button> -->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <style scoped>\r\n .contactsListContainer {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px;\r\n  width: 100%;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  max-width: 1100px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n\r\n}\r\n\r\n.contactsList-table {\r\n  width: 100%;\r\n  border-radius: 12px;\r\n  border-collapse: collapse;\r\n  overflow-x: auto;\r\n  display: block;\r\n  max-height: 400px;\r\n\r\n}\r\n\r\nth {\r\n  padding: 20px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n\r\n\r\n}\r\n\r\n.contactsList-table td {\r\n  border: 1px solid #ddd;\r\n\r\n  padding: 20px;\r\n  text-align: left;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.contactsList-table thead th {\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: #dddddd;\r\n  border-collapse: collapse;\r\n  border: 1px solid #ddd;\r\n\r\n}\r\n\r\n.contactsList-table tbody {\r\n  background-color: white; \r\n}\r\n\r\n\r\n</style>  -->\r\n","<template>\r\n  <div class=\"fixed inset-0 bg-black bg-opacity-20 flex justify-center items-center p-5 z-[10000] text-left shadow-lg\">\r\n    <div class=\"bg-[#ffffff]  p-6 rounded-md\">\r\n      <div class=\"flex\">\r\n        <span class=\"close\" @click=\"$emit('close')\">&times;</span>  \r\n      </div>\r\n \r\n      <slot/>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PopUpSmall'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.close{\r\n\r\n  margin-left: auto;\r\n  font-size: 25px;\r\n  cursor: pointer;\r\n}\r\n.action-buttons {\r\n  display: flex; /* Align buttons side by side */\r\n  gap: 10px; /* Space between buttons */\r\n}\r\n\r\n.action-buttons button {\r\n  padding: 10px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #007bff; /* Button background color */\r\n  color: white; /* Button text color */\r\n  cursor: pointer;\r\n  flex: 1; /* Make buttons fill available space evenly */\r\n}\r\n\r\n.action-buttons button:last-child {\r\n  background-color: #dc3545; /* Different color for delete button */\r\n}\r\n</style>\r\n","import { render } from \"./popup_small.vue?vue&type=template&id=08c6aebc&scoped=true\"\nimport script from \"./popup_small.vue?vue&type=script&lang=js\"\nexport * from \"./popup_small.vue?vue&type=script&lang=js\"\n\nimport \"./popup_small.vue?vue&type=style&index=0&id=08c6aebc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-08c6aebc\"]])\n\nexport default __exports__","import { render } from \"./contacts1.vue?vue&type=template&id=585e2e5c&scoped=true\"\nimport script from \"./contacts1.vue?vue&type=script&lang=js\"\nexport * from \"./contacts1.vue?vue&type=script&lang=js\"\n\nimport \"./contacts1.vue?vue&type=style&index=0&id=585e2e5c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-585e2e5c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    \r\n    <h2>Coming Soon...</h2>\r\n    <p>Your content for scheduled broadcasts goes here.</p>\r\n      \r\n</div>\r\n</template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: 'ContActs2',\r\n    data() {\r\n     \r\n    },\r\n    methods: {\r\n\r\n     \r\n      \r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  /* Add your styles here */\r\n  </style>\r\n  ","import { render } from \"./contacts2.vue?vue&type=template&id=bddb01b2&scoped=true\"\nimport script from \"./contacts2.vue?vue&type=script&lang=js\"\nexport * from \"./contacts2.vue?vue&type=script&lang=js\"\n\nimport \"./contacts2.vue?vue&type=style&index=0&id=bddb01b2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bddb01b2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-2xl font-bold \">Woocommerce</h2>\r\n        <p>Integrate Wotnot with Woocommerce</p>\r\n      </div>\r\n\r\n      <div >\r\n        <!-- <button @click=\"showPopup = true\"\r\n          class=\"text-[#f5f6fa] px-4 py-2 md:px-4 md:py-4 text-sm md:text-base w-full md:w-auto\">\r\n          + Create Integration\r\n        </button> -->\r\n        <button class=\"bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:bg-green-800\"\r\n        @click=\"showPopup = true\">\r\n          <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4v16m8-8H4\"></path>\r\n          </svg>\r\n          Create Integration\r\n      </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex-col  md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div class=\"woocommerce-card p-4 bg-[#f8f9fa] rounded-lg shadow-md max-w-sm  pb-5\">\r\n        <div class=\"flex items-center mb-4\">\r\n          <img src=\"@/assets/woocommerce.png\" alt=\"WooCommerce Logo\" class=\"rounded-full h-12 w-12\" />\r\n          <h2 class=\"text-xl font-semibold ml-4\">WooCommerce</h2>\r\n        </div>\r\n        <p class=\"text-sm font-medium text-gray-500 mb-2\">\r\n          Status:\r\n          <span :class=\"status === 'connected' ? 'text-green-500' : 'text-red-500'\">\r\n            {{ status }}\r\n          </span>\r\n        </p>\r\n        <p class=\"text-sm text-gray-600 mb-4\">\r\n          Boost your cart recovery & reengage with your customers to upsell\r\n        </p>\r\n        <button @click=\"showWooStoreSetupPopup = true\"\r\n          class=\"bg-green-600 text-white text-sm font-semibold py-2 px-4 rounded-lg hover:bg-green-700 flex items-center\">\r\n          Store Setup →\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n    <PopUp1 v-if=\"showWooStoreSetupPopup\" @close=\"showWooStoreSetupPopup = false\"\r\n      class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 custom-scrollbar\">\r\n\r\n      <label class=\"block text-gray-700 font-semibold mb-2\">Store Name<span class=\"text-red-800\">*</span></label>\r\n      <input type=\"text\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"store_name\"\r\n        :disabled=\"status == 'connected'\" :class=\"{ 'text-gray-400': status === 'connected' }\">\r\n\r\n      <label class=\"block text-gray-700 font-semibold mb-2\">REST API Key<span class=\"text-red-800\">*</span></label>\r\n      <input type=\"text\" id=\"APIkey\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"wooAPIkey\"\r\n        placeholder=\"Enter your REST API key\" :disabled=\"status == 'connected'\"\r\n        :class=\"{ 'text-gray-400': status === 'connected' }\">\r\n\r\n      <label class=\"block text-gray-700 font-semibold mb-2\">REST API Secret<span class=\"text-red-800\">*</span></label>\r\n      <input type=\"text\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"wooAPIsecret\"\r\n        placeholder=\"Enter your REST API secret\" :disabled=\"status == 'connected'\"\r\n        :class=\"{ 'text-gray-400': status === 'connected' }\">\r\n\r\n      <label class=\"block text-gray-700 font-semibold mb-2\">Woocommerce Base URL<span\r\n          class=\"text-red-800\">*</span></label>\r\n      <input type=\"text\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"Base_url\"\r\n        :disabled=\"status == 'connected'\" :class=\"{ 'text-gray-400': status === 'connected' }\">\r\n\r\n      <div class=\"flex justify-end pt-3 items-center justify-between\" v-if=\"status != 'connected'\">\r\n        <p>Status: <span :class=\"status === 'connected' ? 'text-green-500' : 'text-red-500'\">\r\n            {{ status }}\r\n          </span></p>\r\n        <button type=\"submit\" class=\"bg-[#23a455] text-[#f5f6fa] px-4 py-2 rounded\"\r\n          @click=\"testWooCommerceConnection\">Connect</button>\r\n      </div>\r\n\r\n      <div class=\"flex justify-end pt-3 items-center justify-between\" v-else>\r\n        <p> Status: <span :class=\"status === 'connected' ? 'text-green-500' : 'text-red-500'\">\r\n            {{ status }}\r\n          </span></p>\r\n        <button type=\"submit\" class=\"bg-[#23a455] text-[#f5f6fa] px-4 py-2 rounded\"\r\n          @click=\"disconnectWooCommerce\">Disconnect</button>\r\n\r\n      </div>\r\n\r\n      <div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n    </PopUp1>\r\n\r\n    <!-- <div class=\"woocommerceBox cursor-pointer p-4  hover:bg-gray-300 rounded-lg mb-4\">\r\n      <img src=\"@/assets/woocommerce.png\" alt=\"Woocommerce\" @click=\"showPopup = true\">\r\n    </div> -->\r\n\r\n    <PopUp1 v-if=\"showPopup\" @close=\"closePopup\"\r\n      class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 custom-scrollbar\">\r\n      <h2 class=\"text-xl font-bold \">Woocommerce Integration</h2>\r\n      <hr class=\"mb-4\" />\r\n      <div class=\"popup-content custom-scrollbar p-4\">\r\n        <form class=\"space-y-4\" @submit.prevent=\"submitIntegrationForm(this.SelectedAction)\" :class=\"{ 'opacity-50 pointer-events-none': isSubmitted }\">\r\n\r\n\r\n\r\n          <div>\r\n            <label class=\"block text-gray-700 font-semibold mb-2\" required>Select action<span\r\n                class=\"text-red-800\">*</span></label>\r\n            <select v-model=\"SelectedAction\"\r\n              class=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\r\n              <option value=\"\" disabled>Select your option</option>\r\n              <option value=\"woo/order_confirmation\">Send Order Confirmation</option>\r\n              <option value=\"Abandoned Cart\">Abandoned Cart</option>\r\n              <option value=\"woo/pwn\">PWNs (Pre Webinar Notifications)</option>\r\n            </select>\r\n          </div>\r\n\r\n\r\n          <div v-if=\"SelectedAction === 'woo/order_confirmation'\">\r\n\r\n\r\n            <label for=\"description\" class=\"block text-gray-700 font-semibold mb-2\">Description\r\n              <span class=\"text-red-800\">*</span>\r\n            </label>\r\n            <input type=\"text\" id=\"description\" v-model=\"integration_description\"\r\n              class=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400\">\r\n\r\n\r\n            <label class=\"block text-gray-700 font-semibold mb-2\">Select template<span\r\n                class=\"text-red-800\">*</span></label>\r\n            <select v-model=\"selectedTemplate\" @change=\"onTemplateSelect\"\r\n              class=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\r\n              <option v-for=\"template in templates\" :key=\"template.id\" :value=\"template\">\r\n                {{ template.name }}\r\n              </option>\r\n            </select>\r\n\r\n            <div v-if=\"selectedTemplate !== null\">\r\n\r\n              <div v-if=\"selectedTemplateHasImage\">\r\n                <label for=\"\" class=\"block text-sm font-semibold\">Upload Media</label>\r\n                <input type=\"file\" @change=\"onFileChange\" class=\"mb-2 w-[60%] mr-1\" required>\r\n              </div>\r\n              <div v-if=\"uploadedMedia\">{{ this.mediaId }}</div>\r\n\r\n              <label for=\"\" class=\"block text-gray-400 font-semibold mb-2\">Add Parameter (if any)<span\r\n                  class=\"text-red-800\"></span></label>\r\n              <div v-for=\"(parameter, index) in parameters\" :key=\"index\" class=\"flex items-center space-x-2 mb-2\">\r\n\r\n                <select v-model=\"parameter.key\" class=\"w-full p-2 border rounded-md bg-gray-100\">\r\n                  <option value=\"\" disabled>Select your parameter</option>\r\n                  <option v-for=\"option in parameterOptions\" :key=\"option\" :value=\"option.key\">{{ option.label }}\r\n                  </option>\r\n                </select>\r\n\r\n                <button @click.prevent=\"removeParameter(index)\"\r\n                  class=\"relative my-2 h-8 w-24 border-2 border-solid border-red-500 text-red-500 hover:text-gray-200 hover:bg-red-700\">\r\n                  Remove\r\n                </button>\r\n              </div>\r\n              <button @click.prevent=\"addParameter\"\r\n                class=\"relative my-2 h-auto w-auto p-1 border-2 border-solid border-green-500 text-green-500 hover:text-gray-200\">\r\n                Add Parameter\r\n              </button>\r\n\r\n              <!-- Searchable Select using vue-select -->\r\n              <label class=\"block text-gray-700 font-semibold mb-2\">Select product<span\r\n                  class=\"text-red-800\">*</span></label>\r\n              <vue3-select v-model=\"productID\" :options=\"products\" label=\"name\" :reduce=\"product => product.id\"\r\n                placeholder=\"Search products...\" required />\r\n              <p :style=\"{ color: 'gray', fontSize: '12px' }\"> Selected Product ID: {{ productID }}</p>\r\n\r\n              <h3 class=\"text-lg font-bold mb-2\">Woocommerce Setup</h3>\r\n              <input type=\"text\" v-model=\"webhookLink\" class=\"w-full p-2 border rounded-md bg-gray-100\" disabled>\r\n\r\n              <ul class=\"list-disc pl-5 mt-4 space-y-2 text-sm\">\r\n                <li>Navigate to <b>WooCommerce > Settings</b></li>\r\n                <li>Click on the <b>Advanced tab</b></li>\r\n                <li>In the <b>Advanced settings</b>, click on <b>Webhook</b></li>\r\n                <li>Click the <b>Add Webhook</b> button.</li>\r\n                <li><b>Configure Webhook Settings</b></li>\r\n                <li><b>Name</b>: Give your webhook a name to identify it.</li>\r\n                <li><b>Status:</b> Set this to Active.</li>\r\n                <li>Topic: Choose the event you want the webhook to listen to</li>\r\n                <li><b>Delivery URL: use the above given webhook URL</b></li>\r\n                <li><b>Secret:</b> leave blank</li>\r\n                <li><b>API Version:</b> Leave the default version</li>\r\n                <li>Click Save Webhook to activate the integration</li>\r\n              </ul>\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"SelectedAction === 'woo/pwn'\">\r\n\r\n            <label for=\"description\" class=\"block text-gray-700 font-semibold mb-2\">Description\r\n              <span class=\"text-red-800\">*</span>\r\n            </label>\r\n            <input type=\"text\" id=\"description\" v-model=\"integration_description\"\r\n              class=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400\">\r\n\r\n            <label class=\"block text-gray-700 font-semibold mb-2\">Select template<span\r\n                class=\"text-red-800\">*</span></label>\r\n            <select v-model=\"selectedTemplate\" @change=\"onTemplateSelect\"\r\n              class=\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400\" required>\r\n              <option value=\"\" disabled>Select your template</option>\r\n              <option v-for=\"template in templates\" :key=\"template.id\" :value=\"template\">{{ template.name }}</option>\r\n            </select>\r\n\r\n\r\n\r\n            <div v-if=\"selectedTemplate !== null\">\r\n\r\n              <div v-if=\"selectedTemplateHasImage\">\r\n                <label for=\"\" class=\"block text-sm font-semibold\">Upload Media</label>\r\n                <input type=\"file\" @change=\"onFileChange\" class=\"mb-2 w-[60%] mr-1\" required>\r\n              </div>\r\n              <div v-if=\"uploadedMedia\">{{ this.mediaId }}</div>\r\n            \r\n\r\n              <div v-for=\"(parameter, index) in parameters\" :key=\"index\" class=\"flex items-center space-x-2 mb-2\">\r\n\r\n                <select v-model=\"parameter.key\" class=\"w-full p-2 border rounded-md bg-gray-100\">\r\n                  <option value=\"\" disabled>Select your parameter</option>\r\n                  <option v-for=\"option in parameterOptions\" :key=\"option\" :value=\"option.key\">{{ option.label }}\r\n                  </option>\r\n                </select>\r\n                <button @click.prevent=\"removeParameter(index)\"\r\n                  class=\"relative my-2 h-8 w-24 border-2 border-solid border-red-500 text-red-500 hover:text-gray-200 hover:bg-red-700\">\r\n                  Remove\r\n                </button>\r\n              </div>\r\n\r\n              <label class=\"block text-gray-500 font-semibold mb-2\">Add parameter (if any)<span\r\n                  class=\"text-red-800\">*</span></label>\r\n              <button @click.prevent=\"addParameter\"\r\n                class=\"relative my-2 h-auto w-auto p-1 border-2 border-solid border-green-500 text-green-500 hover:text-gray-200\">\r\n                Add Parameter\r\n              </button>\r\n\r\n\r\n              <!-- <label class=\"block text-gray-700 font-semibold mb-2\">REST API Key<span\r\n                  class=\"text-red-800\">*</span></label>\r\n              <input type=\"text\" id=\"APIkey\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"wooAPIkey\"\r\n                placeholder=\"Enter your REST API key\">\r\n\r\n              <label class=\"block text-gray-700 font-semibold mb-2\">REST API Secret<span\r\n                  class=\"text-red-800\">*</span></label>\r\n              <input type=\"text\" class=\"w-full p-2 border rounded-md bg-gray-100\" v-model=\"wooAPIsecret\"\r\n                placeholder=\"Enter your REST API secret\"> -->\r\n\r\n\r\n                <label class=\"block text-gray-700 font-semibold mb-2\">Execution Time and Days<span\r\n                  class=\"text-red-800\">*</span></label>\r\n              <div class=\"bg-[#f5f6fa] items-center space-x-2 p-2 justify-between\">\r\n\r\n                <div class=\"flex items-center \">\r\n\r\n                  <div class=\"mr-2\">\r\n                    <label for=\"scheduleTime\" class=\"block text-sm font-medium\">Time<span\r\n                        class=\"text-red-800\">*</span> (in IST)</label>\r\n                    <input type=\"time\" v-model=\"scheduleTime\" id=\"scheduleTime\" required\r\n                      class=\"border border-gray-300 rounded px-3 py-2 w-full\">\r\n                  </div>\r\n\r\n\r\n                  <div class=\"flex justify-between items-center mt-4\">\r\n                    <div v-for=\"day in days\" :key=\"day.id\" @click=\"toggleDaySelection(day.id)\" :class=\"[\r\n                      'w-10 h-10 flex items-center justify-center cursor-pointer rounded-full font-bold transition-all duration-200',\r\n                      day.selected ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700',\r\n                    ]\">\r\n                      {{ day.initial }}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <!-- <p class=\"mt-4 text-gray-700 font-medium\">\r\n                    Selected days: {{ selectedDays.join(\", \") }}\r\n                  </p> -->\r\n                </div>\r\n              </div>\r\n\r\n              <label class=\"block text-gray-700 font-semibold mb-2\">Filter Contacts by</label>\r\n\r\n              <div class=\"bg-[#f5f6fa] items-center space-x-2 p-2 justify-between\">\r\n\r\n                <label class=\"block text-sm font-medium\">Date Range<span class=\"text-red-800\">*</span></label>\r\n\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <div class=\"mb-4\">\r\n                    <input type=\"date\" id=\"startDate\" v-model=\"startDate\"\r\n                      class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      required />\r\n                  </div>\r\n\r\n                  <p>to</p>\r\n\r\n                  <div class=\"mb-4\">\r\n                    <input type=\"date\" id=\"endDate\" v-model=\"endDate\"\r\n                      class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                      required />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div class=\"bg-[#f5f6fa] items-center space-x-2 p-2 justify-between\">\r\n\r\n                <label for=\"Product\" class=\"block text-sm font-medium\">Product<span class=\"text-red-800\">*</span></label>\r\n\r\n                <vue3-select id=\"Product\" v-model=\"productID\" :options=\"products\" label=\"name\" :reduce=\"product => product.id\"\r\n                  placeholder=\"Search products...\" />\r\n                <p :style=\"{ color: 'gray', fontSize: '12px' }\"> Selected Product ID: {{ productID }}</p>\r\n\r\n              </div>\r\n\r\n              <!-- Searchable Select using vue-select -->\r\n\r\n              <div class=\"bg-[#f5f6fa] items-center space-x-2 p-2 justify-between\">\r\n\r\n                <label for=\"orderStatus\" class=\"block text-sm font-medium\">Order Status<span class=\"text-red-800\">*</span></label>\r\n\r\n                <multiselect id=\"orderStatus\" v-model=\"selectedStatuses\" :options=\"statuses\" :multiple=\"true\" :close-on-select=\"false\"\r\n                  :clear-on-select=\"false\" placeholder=\"Select order statuses\" label=\"label\" track-by=\"value\"\r\n                  class=\"mt-2\" required />\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          \r\n          <button\r\n          type=\"submit\"\r\n          class=\"bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:bg-green-800\"\r\n          :disabled=\"PopupLoading || isSubmitted\">\r\n          <span v-if=\"PopupLoading\"\r\n            class=\"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4 mr-2\"></span>\r\n          {{ isSubmitted ? \"Submitted\" : PopupLoading ? \"Submitting...\" : \"Submit\" }}\r\n        </button>\r\n\r\n        </form>\r\n      </div>\r\n\r\n\r\n    </PopUp1>\r\n    <h3 class=\"text-xl md:text-2xs mb-4 text-gray-600\"><b>Integration List</b></h3>\r\n   <div class=\"overflow-x-auto max-h-[32vh] custom-scrollbar\">\r\n      <table class=\"w-full border border-gray-300 rounded-lg text-sm md:text-base bg-white\">\r\n        <thead>\r\n          <tr class=\"bg-gray-100 text-center text-gray-700 font-semibold\">\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">ID</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Description</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Type</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Template</th>\r\n            <th class=\"p-3 md:p-4 text-center border border-gray-300 sticky top-0 z-10 bg-gray-100\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"integration in integrations\" :key=\"integration.id\" class=\"hover:bg-gray-50\">\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ integration.id }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ integration.description }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ integration.type }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">{{ integration.template }}</td>\r\n            <td class=\"p-3 md:p-4 text-center border border-gray-200\">\r\n              <div class=\"flex justify-center\">\r\n                <button @click=\"deleteIntegration(integration.integration_id)\"\r\n                  class=\"hover:bg-white rounded-full p-2 transition\">\r\n                  <lord-icon src=\"https://cdn.lordicon.com/skkahier.json\"\r\n                    colors=\"primary:#ff5757,secondary:#000000\" trigger=\"hover\"\r\n                    style=\"width:32px;height:32px\">\r\n                  </lord-icon>\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport PopUp1 from \"../popups/popup1\";\r\n\r\nimport { useToast } from 'vue-toastification';\r\nimport axios from \"axios\";\r\nimport Multiselect from \"vue-multiselect\";\r\nimport \"vue-multiselect/dist/vue-multiselect.min.css\";\r\nimport Vue3Select from 'vue3-select';\r\nimport 'vue3-select/dist/vue3-select.css';\r\n\r\n\r\nexport default {\r\n\r\n\r\n  name: 'AppIntegration',\r\n  data() {\r\n\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      // popup\r\n      showPopup: false,\r\n      showWooStoreSetupPopup: false,\r\n\r\n\r\n\r\n      SelectedAction: null,\r\n      templates: [],\r\n      selectedTemplate: null,\r\n      webhookLink: '',\r\n      integrations: [],\r\n      templateParams: [],\r\n      parameters: [],  // List of parameters for the template\r\n      parameterOptions: [{ label: \"Customer Name\", key: \"billing.first_name\" },\r\n      // { label: \"Order ID\", key: \"id\" },\r\n      // { label: \"Order Total\", key: \"total\" },\r\n      // { label: \"Customer Phone\", key: \"billing.phone\" },\r\n      // { label: \"Payment Method\", key: \"payment_method\" },\r\n    ],\r\n\r\n      parameterFields: [{ selected: '' }],\r\n      days: [\r\n        { id: 1, name: \"Monday\", initial: \"M\", selected: false },\r\n        { id: 2, name: \"Tuesday\", initial: \"T\", selected: false },\r\n        { id: 3, name: \"Wednesday\", initial: \"W\", selected: false },\r\n        { id: 4, name: \"Thursday\", initial: \"T\", selected: false },\r\n        { id: 5, name: \"Friday\", initial: \"F\", selected: false },\r\n        { id: 6, name: \"Saturday\", initial: \"S\", selected: false },\r\n        { id: 7, name: \"Sunday\", initial: \"S\", selected: false },\r\n      ],\r\n\r\n\r\n      // woocommerce\r\n      wooAPIsecret: null,\r\n      wooAPIkey: null,\r\n      Base_url: \"https://\",\r\n      store_name: null,\r\n      connectionStatus: null,\r\n\r\n\r\n      // woocommerce pwn integration\r\n      scheduleTime:null,\r\n      startDate: null,\r\n      endDate: null,\r\n      productID: null,\r\n      OrderStatus: null,\r\n      statuses: [\r\n        { value: \"pending\", label: \"Pending Payment\" },\r\n        { value: \"processing\", label: \"Processing\" },\r\n        { value: \"on-hold\", label: \"On Hold\" },\r\n        { value: \"completed\", label: \"Completed\" },\r\n        { value: \"cancelled\", label: \"Cancelled\" },\r\n        { value: \"refunded\", label: \"Refunded\" },\r\n        { value: \"failed\", label: \"Failed\" },\r\n      ],\r\n      selectedStatuses: [], // Array to hold selected values\r\n      // String to store comma-separated values\r\n      products: [],\r\n      integration_description: null,\r\n      selectedTemplateHasImage:false,\r\n      imageUrl:'',\r\n      media_id:'',\r\n\r\n\r\n\r\n      // Check integration status\r\n      statusMessage: \"\", // Message from the API\r\n      error: null, // Error message if any\r\n\r\n      isSubmitted: false,// Loader state\r\n      status: \"\", // Status of the integration\r\n\r\n      //oading\r\n      loading: true,\r\n      PopupLoading: false, \r\n      deleteLoading:false\r\n\r\n    }\r\n\r\n  },\r\n  components: {\r\n    PopUp1,\r\n    Multiselect,\r\n    Vue3Select,\r\n\r\n  },\r\n  async mounted() {\r\n    await this.fetchTemplates()\r\n    await this.fetchapiKey();\r\n    await this.fetchIntegrationList();\r\n    await this.checkIntegration();\r\n    const script = document.createElement('script');\r\n    script.src = \"https://cdn.lordicon.com/lordicon.js\";\r\n    document.body.appendChild(script);\r\n\r\n\r\n\r\n    // Fetch contacts when the component is mounted\r\n  },\r\n\r\n  computed: {\r\n    selectedDays() {\r\n      return this.days.filter(day => day.selected).map(day => day.name);\r\n    },\r\n    isValid() {\r\n      return this.selectedDays.length > 0; // Valid if at least one day is selected\r\n    },\r\n    commaSeparatedStatuses() {\r\n      return this.selectedStatuses.map(OrderStatus => OrderStatus.value).join(\",\");\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchProducts();\r\n  },\r\n\r\n  methods: {\r\n\r\n    onTemplateSelect() {\r\n      // Find the selected template\r\n      const selectedTemplate = this.templates.find(template => template.id === this.selectedTemplate.id);\r\n      console.log(this.previewData);\r\n\r\n      // Check if the selected template has a HEADER with IMAGE format\r\n      const headerComponent = selectedTemplate.components.find(\r\n        component => component.type === 'HEADER' && component.format === 'IMAGE'\r\n\r\n      );\r\n\r\n      if (headerComponent) {\r\n        // Show the image input field and pre-fill with the example image URL if available\r\n        this.selectedTemplateHasImage = true;\r\n        this.imageUrl = headerComponent.example?.header_handle?.[0] || ''; // Use the first example image if available\r\n      } else {\r\n        // Hide the image input field if no image is found in the template\r\n        this.selectedTemplateHasImage = false;\r\n        this.imageUrl = '';\r\n      }\r\n\r\n    },\r\n\r\n\r\n    async disconnectWooCommerce() {\r\n      try {\r\n        const response = await axios.delete(`${this.apiUrl}/disconnect-woocommerce`,\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n              'Content-Type': 'application/json',\r\n            },\r\n          }\r\n        );\r\n        if (response.data.status === 'success') {\r\n          this.connectionStatus = ''; // Reset connection status\r\n          this.store_name = '';\r\n          this.wooAPIkey = '';\r\n          this.wooAPIsecret = '';\r\n          this.Base_url = '';\r\n          this.status = 'disconnected';\r\n          alert(response.data.message);\r\n          // this.status=\"disconnected\";\r\n\r\n        } else {\r\n          alert('Failed to disconnect from WooCommerce.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error during disconnection:', error);\r\n        alert('An error occurred while disconnecting.');\r\n      }\r\n    },\r\n\r\n    async fetchProducts() {\r\n      try {\r\n        // Fetch product list from FastAPI\r\n        const response = await axios.get(`${this.apiUrl}/woo_products`,\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n              'Content-Type': 'application/json',\r\n            },\r\n          }\r\n        );\r\n        this.products = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      }\r\n    },\r\n\r\n    saveStatuses() {\r\n      this.commaSeparatedStatuses = this.selectedStatuses.join(\",\");\r\n      // Automatically save or send the updated values to the backend\r\n      console.log(\"Comma-separated values:\", this.commaSeparatedStatuses);\r\n    },\r\n\r\n    async checkIntegration() {\r\n      try {\r\n        this.loading = true;\r\n        this.error = null;\r\n\r\n        // Call the API to check the integration\r\n        const response = await fetch(`${this.apiUrl}/check-integration`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorData = await response.json();\r\n          this.status=\"disconnected\"\r\n          throw new Error(errorData.detail || \"Failed to check integration.\");\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        // Update the status message based on the API response\r\n        this.statusMessage = data.message;\r\n        this.status = data.status;\r\n        this.store_name = data.store_info.store_name;\r\n        this.wooAPIkey = data.store_info.consumer_key;\r\n        this.wooAPIsecret = data.store_info.consumer_secret;\r\n        this.Base_url = data.store_info.base_url;\r\n\r\n\r\n      } catch (err) {\r\n        this.error = err.message || \"Something went wrong.\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async testWooCommerceConnection() {\r\n      try {\r\n        const response = await axios.post(`${this.apiUrl}/test-woocommerce`, {\r\n          base_url: this.Base_url,\r\n          consumer_key: this.wooAPIkey,\r\n          consumer_secret: this.wooAPIsecret,\r\n          store_name: this.store_name\r\n        },\r\n          {\r\n            headers: {\r\n              'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n              'Content-Type': 'application/json',\r\n            },\r\n          }\r\n        );\r\n\r\n        // Update UI based on the response\r\n        this.status = \"connected\";\r\n        this.checkIntegration();\r\n        console.log(\"Store Info:\", response.data.store_info);\r\n      } catch (error) {\r\n        this.connectionStatus = \"Connection Failed: \" + error.response.data.detail;\r\n      }\r\n    },\r\n\r\n\r\n\r\n    submitIntegrationForm(action) {\r\n      if (action == \"woo/order_confirmation\") {\r\n        this.submitTemplate();\r\n      }\r\n      else if (action == \"woo/pwn\") {\r\n        this.wooPWNform();\r\n      }\r\n    },\r\n\r\n    toggleDaySelection(id) {\r\n      const day = this.days.find(day => day.id === id);\r\n      if (day) {\r\n        day.selected = !day.selected;\r\n      }\r\n    },\r\n    submitSelection() {\r\n      alert(`Selected days: ${this.selectedDays.join(\", \")}`);\r\n    },\r\n\r\n    addParameter() {\r\n      this.parameters.push({ key: this.parameterOptions[0] }); // Add a new parameter with default value\r\n    },\r\n\r\n    removeParameter(index) {\r\n      this.parameters.splice(index, 1); // Remove parameter by index\r\n    },\r\n    togglepopup() {\r\n      console.log(\"event\")\r\n    },\r\n    async fetchTemplates() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/template`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const templatelist = await response.json();\r\n        this.templates = templatelist.data;\r\n      } catch (error) {\r\n        console.error('Error fetching templates:', error);\r\n      }\r\n    },\r\n\r\n    async fetchapiKey() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/webhooklink`,\r\n          {\r\n            method: 'GET',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json',\r\n            }\r\n          });\r\n\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const result = await response.json()\r\n        this.webhookLink = result.webkook_link\r\n      } catch (error) {\r\n        console.error('Error fetching API key:', error);\r\n      }\r\n\r\n    },\r\n    async submitTemplate() {\r\n      const payload = {\r\n        template_id: this.selectedTemplate.name,\r\n        template_data: JSON.stringify(this.selectedTemplate),\r\n        parameters: this.parameters,\r\n        type: this.SelectedAction,\r\n        product_id: this.productID,\r\n        description:this.integration_description,\r\n        image_id:this.media_id\r\n      };\r\n\r\n      // Replace with your API endpoint\r\n      try {\r\n        this.PopupLoading = true;\r\n        const toast = useToast();\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/integrate/woo_order_cnf`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (response.ok) {\r\n          toast.success(\"Integration saved successfully\");\r\n          this.PopupLoading = false;\r\n          this.isSubmitted=true;\r\n          this.fetchIntegrationList();\r\n\r\n        } else {\r\n          this.PopupLoading = false;\r\n          const errorData = await response.json();\r\n          toast.error(`Error: ${errorData.detail}`);\r\n        }\r\n        // Handle successful submission\r\n      } catch (error) {\r\n        console.error('Failed to submit the template: ', error);\r\n      }\r\n    },\r\n    convertISTtoUTC(timeString) {\r\n      return new Date(new Date().toLocaleDateString(\"en-US\", { timeZone: \"Asia/Kolkata\" }) + \" \" + timeString)\r\n        .toISOString()\r\n        .slice(11, 16);\r\n    },\r\n\r\n    async wooPWNform() {\r\n\r\n      this.PopupLoading=true;\r\n      this.OrderStatus = this.selectedStatuses.map(OrderStatus => OrderStatus.value).join(\",\");\r\n      const payload = {\r\n        template_id: this.selectedTemplate.name,\r\n        template_data: JSON.stringify(this.selectedTemplate),\r\n        parameters: this.parameters,\r\n        type: this.SelectedAction,\r\n        contacts_start_date: this.startDate,\r\n        contacts_end_date: this.endDate.split(\"T\")[0] + \"T23:59:59\",\r\n        repeat_days: [...this.selectedDays],\r\n        time: this.scheduleTime,\r\n        rest_key: this.wooAPIkey,\r\n        rest_secret: this.wooAPIsecret,\r\n        product_id: this.productID,\r\n        status: this.OrderStatus,\r\n        base_url: this.Base_url,\r\n        description: this.integration_description,\r\n        image_id:this.media_id\r\n      };\r\n      const toast = useToast();\r\n\r\n\r\n      if (this.isValid == false) {\r\n        this.showError = true;\r\n        toast.error(`Select at least one day`);\r\n        return;\r\n      }\r\n\r\n      else if (this.productID == null) {\r\n        this.showError = true;\r\n        toast.error(`Select a product`);\r\n        return;\r\n      }\r\n      else if (this.OrderStatus == null) {\r\n        this.showError = true;\r\n        toast.error(`Select order status`);\r\n        return;\r\n      }\r\n      else if (this.startDate == null) {\r\n        this.showError = true;\r\n        toast.error(`Select start date`);\r\n        return;\r\n      }\r\n      else if (this.endDate == null) {\r\n        this.showError = true;\r\n        toast.error(`Select end date`);\r\n        return;\r\n      }\r\n      else if (this.scheduleTime == null) {\r\n        this.showError = true;\r\n        toast.error(`Select time`);\r\n        return;\r\n      }\r\n      else if (this.integration_description == null) {\r\n        this.showError = true;\r\n        toast.error(`Enter description`);\r\n        return;\r\n      }\r\n\r\n\r\n      // Replace with your API endpoint\r\n      try {\r\n\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/integrate/woo_pwn`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (response.ok) {\r\n          toast.success(\"Integration saved successfully\");\r\n          this.PopupLoading = false;\r\n          this.isSubmitted=true;\r\n          this.fetchIntegrationList();\r\n\r\n        } else {\r\n          const errorData = await response.json();\r\n          toast.error(`Error: ${errorData.detail}`);\r\n        }\r\n        // Handle successful submission\r\n      } catch (error) {\r\n        console.error('Failed to submit the template: ', error);\r\n      }\r\n    },\r\n\r\n    onFileChange(event) {\r\n      this.file = event.target.files[0];\r\n      this.uploadMedia();\r\n    },\r\n\r\n\r\n    async uploadMedia() {\r\n      const token = localStorage.getItem('token');\r\n      this.mediafile = event.target.files[0];\r\n      const formData = new FormData();\r\n      formData.append('file', this.mediafile);\r\n\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/upload-media`, {\r\n          method: \"POST\",\r\n          headers: {\r\n\r\n            'Authorization': `Bearer ${token}`,\r\n            // 'Content-Type': 'multipart/form-data',\r\n\r\n          },\r\n          body: formData,\r\n        });\r\n\r\n        const media = await response.json()\r\n        this.media_id = media.whatsapp_media_id\r\n        console.log(this.media_id)\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        else {\r\n          this.uploadedMedia = true\r\n          alert(\"Media Uploaded Successfully\")\r\n        }\r\n      } catch (error) {\r\n        console.error('Error uploading media:', error);\r\n      }\r\n    },\r\n\r\n\r\n    async deleteIntegration(integration_id) {\r\n      try {\r\n\r\n        this.deleteLoading=true;\r\n        const toast = useToast();\r\n        const token = localStorage.getItem('token');\r\n        const confirmDelete = confirm(\"Are you sure you want to delete this integration?                           Note:Make sure to also delete the webhook from woocommece.\")\r\n        if (!confirmDelete) return;\r\n        const response = await fetch(`${this.apiUrl}/integration/${integration_id}`,\r\n          {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          }\r\n        );\r\n\r\n\r\n        if (response.ok) {\r\n          toast.success(\"Integration deleted successfully\")\r\n          this.fetchIntegrationList();\r\n        }\r\n        else {\r\n          const errordata = await response.json()\r\n          toast.error(`Error:${errordata.detail}`)\r\n        }\r\n\r\n\r\n      } catch (error) {\r\n        console.error('Failed to delete the integration: ', error)\r\n\r\n      }finally{\r\n        this.deleteLoading=false;\r\n      }\r\n    },\r\n\r\n    closePopup(){\r\n      this.showPopup = false;\r\n      this.clearForm();\r\n    },\r\n\r\n    clearForm() {\r\n      this.isSubmitted=false;\r\n      this.SelectedAction = null;\r\n      this.selectedTemplate = null;\r\n      this.parameters = [];\r\n      this.productID = null;\r\n      this.integration_description = null;\r\n      this.scheduleTime = null;\r\n      this.startDate = null;\r\n      this.endDate = null;\r\n      this.selectedStatuses = [];\r\n    },\r\n\r\n    async fetchIntegrationList() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`${this.apiUrl}/woo-integration-list`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const IntegrationList = await response.json();\r\n        this.integrations = IntegrationList.map(integration => ({\r\n          id: integration.id,\r\n          description: integration.description,\r\n          type: integration.type,\r\n          api_key: integration.api_key,\r\n          template: integration.template,\r\n          integration_id: integration.integration_id\r\n        }));\r\n      } catch (error) {\r\n        console.error('Failed to submit the template: ', error);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.multiselect {}\r\n\r\n/* Add your styles here */\r\n.woocommerceBox {\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  border: solid;\r\n  width: fit-content;\r\n}\r\n\r\n.webhookConfig ul li {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.popup-content {\r\n  max-height: 600px;\r\n  /* Limit the height of the popup */\r\n  overflow-y: auto;\r\n  /* Enable vertical scrolling if content exceeds max-height */\r\n}\r\n\r\n/* Custom Scrollbar */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  border-radius: 16px;\r\n  background-color: #e7e7e7;\r\n  border: 1px solid #cacaca;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  border-radius: 8px;\r\n  border: 3px solid transparent;\r\n  background-clip: content-box;\r\n  background-color: #075e54;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n</style>","import { render } from \"./integration.vue?vue&type=template&id=e83768dc&scoped=true\"\nimport script from \"./integration.vue?vue&type=script&lang=js\"\nexport * from \"./integration.vue?vue&type=script&lang=js\"\n\nimport \"./integration.vue?vue&type=style&index=0&id=e83768dc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e83768dc\"]])\n\nexport default __exports__","<template>\r\n  <main class=\"bg-container\">\r\n    <div class=\"w-full max-w-sm bg-white p-8 rounded-lg shadow-md\">\r\n\r\n\r\n      <div class=\"flex items-center justify-center\">\r\n        <div class=\"logo-div\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n            <path fill=\"#075e54\"\r\n              d=\"M160 368c26.5 0 48 21.5 48 48l0 16 72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6L448 368c8.8 0 16-7.2 16-16l0-288c0-8.8-7.2-16-16-16L64 48c-8.8 0-16 7.2-16 16l0 288c0 8.8 7.2 16 16 16l96 0zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3l0-21.3 0-6.4 0-.3 0-4 0-48-48 0-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L448 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64l-138.7 0L208 492z\" />\r\n          </svg>\r\n        </div>\r\n        <div class=\"logo\"> WotNot</div>\r\n      </div>\r\n\r\n\r\n      <p class=\"text-xl sm:text-xl font-semibold text-center text-gray-800 mb pb-0\">Login to your Wotnot account</p>\r\n\r\n      <hr class=\"my-6 border-gray-300\" />\r\n\r\n      <form @submit.prevent=\"handleLogin\" class=\"space-y-4\">\r\n        <div>\r\n          <label for=\"username\" class=\"block text-sm font-medium text-gray-700\">Email</label>\r\n          <input type=\"text\" id=\"username\" v-model=\"username\" required\r\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Password</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" required\r\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\" />\r\n        </div>\r\n\r\n\r\n        <button\r\n          class=\"bg-gradient-to-r from-[#075e54] via-[#089678] to-[#075e54] text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:from-[#054d45] hover:via-[#067a62] hover:to-[#054d45] transition-all duration-300\"\r\n          type=\"submit\">\r\n          <span v-if=\"!isLoading\">Login</span>\r\n          <div v-else class=\"flex items-center\">\r\n            <svg class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\r\n              viewBox=\"0 0 24 24\">\r\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n              <path class=\"opacity-75\" fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\">\r\n              </path>\r\n            </svg>\r\n            Logging in...\r\n          </div>\r\n        </button>\r\n\r\n        <p v-if=\"errorMessage\" class=\"text-red-500 text-sm mt-2\">{{ errorMessage }}</p>\r\n      </form>\r\n\r\n      <p class=\"mt-4 text-center text-sm\">\r\n        Don't have an account?\r\n        <a href=\"\" class=\"text-[#075e54] font-semibold mb-4\" @click.prevent=\"redirectSignup\">Sign Up</a>\r\n      </p>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      username: '',\r\n      password: '',\r\n      errorMessage: '',\r\n      isLoading: false, \r\n    };\r\n  },\r\n  methods: {\r\n    async handleLogin() {\r\n      this.isLoading = true; // Set loading state\r\n      fetch(`${this.apiUrl}/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n        },\r\n        body: new URLSearchParams({\r\n          username: this.username,\r\n          password: this.password\r\n        })\r\n      })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (data.access_token) {\r\n            // Store the token in localStorage or Vuex (if using Vuex)\r\n            localStorage.setItem('token', data.access_token);\r\n            // Redirect to the dashboard\r\n            console.log()\r\n            this.$router.push('/dashboard');\r\n          } else {\r\n            // Handle login error\r\n            alert('Invalid Credentials Credentials');\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error:', error);\r\n        });\r\n    },\r\n    redirectSignup() {\r\n      this.$router.push(\"/signup\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.logo {\r\n  font-weight: 800;\r\n  margin: 8px 0;\r\n  padding-right: 30px;\r\n  font-size: xx-large;\r\n  color: #075e54;\r\n}\r\n\r\n.bg-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n  /* equivalent to min-h-screen */\r\n\r\n  background-image: url(\"@/assets/LoginPage.png\");\r\n  background-position: center;\r\n  /* equivalent to bg-gray-100 */\r\n  padding: 0 16px;\r\n  /* equivalent to px-4 */\r\n}\r\n\r\n/* Responsive padding for different screen sizes */\r\n@media (min-width: 640px) {\r\n\r\n  /* equivalent to sm:px-6 */\r\n  .container {\r\n    padding: 0 24px;\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n\r\n  /* equivalent to lg:px-8 */\r\n  .container {\r\n    padding: 0 32px;\r\n  }\r\n}\r\n</style>","import { render } from \"./login.vue?vue&type=template&id=43e3b926&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=43e3b926&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43e3b926\"]])\n\nexport default __exports__","<script>\r\nimport axios from \"axios\";\r\nimport { nextTick } from \"vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      messages: [\r\n        { role: \"assistant\", text: \"Hello! How can I assist you today?\" }\r\n      ],\r\n      inputMessage: \"\",\r\n      isConfigMode: false,\r\n      apiKey: localStorage.getItem(\"apiKey\") || \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async sendMessage() {\r\n      if (!this.inputMessage.trim()) return;\r\n\r\n      // Add user message\r\n      this.messages.push({ role: \"user\", text: this.inputMessage });\r\n\r\n      try {\r\n        const response = await axios.post(\"http://127.0.0.1:8000/chat\", {\r\n          message: this.inputMessage,\r\n        });\r\n        this.messages.push({ role: \"assistant\", text: response.data.response });\r\n      } catch (error) {\r\n        this.messages.push({ role: \"assistant\", text: \"Error connecting to server\" });\r\n      }\r\n\r\n      this.inputMessage = \"\";\r\n      this.scrollToBottom();\r\n    },\r\n    saveApiKey() {\r\n      localStorage.setItem(\"apiKey\", this.apiKey);\r\n      this.isConfigMode = false;\r\n    },\r\n    scrollToBottom() {\r\n      nextTick(() => {\r\n        const chatContainer = this.$refs.chatList;\r\n        if (chatContainer) {\r\n          chatContainer.scrollTop = chatContainer.scrollHeight;\r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"content-section flex flex-col h-screen bg-gray-900 text-white md:ml-64 \" >\r\n    <!-- Header -->\r\n    <div class=\"fixed w-full flex items-center top-0 px-6 py-4 bg-gray-800\">\r\n      <div class=\"text-2xl font-bold\">ChatGPT</div>\r\n      <div class=\"ml-auto text-sm cursor-pointer hover:bg-gray-700 px-3 py-2 rounded-md\" @click=\"isConfigMode = !isConfigMode\">\r\n        Settings\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chat Messages -->\r\n    <div ref=\"chatList\" class=\"flex-1 overflow-y-auto p-4 mt-16 mb-20\">\r\n      <div v-for=\"(msg, index) in messages\" :key=\"index\"\r\n        class=\"p-3 rounded-lg max-w-xs\" \r\n        :class=\"msg.role === 'user' ? 'bg-blue-600 self-end' : 'bg-gray-700 self-start'\">\r\n        {{ msg.text }}\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Settings Mode -->\r\n    <div v-if=\"isConfigMode\" class=\"p-6 bg-gray-800 border-t border-gray-700\">\r\n      <div class=\"text-sm text-gray-400 mb-2\">Enter API Key:</div>\r\n      <div class=\"flex\">\r\n        <input v-model=\"apiKey\" class=\"flex-1 p-2 bg-gray-700 text-white rounded-lg outline-none\" type=\"password\" placeholder=\"sk-xxxxxxxxxx\"/>\r\n        <button @click=\"saveApiKey\" class=\"ml-2 px-4 py-2 bg-green-500 rounded-lg\">Save</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Input Box -->\r\n    <div v-else class=\"fixed bottom-0 w-[1350px] p-6 bg-gray-800 border-t border-gray-700 flex items-center\">\r\n      <input v-model=\"inputMessage\" @keydown.enter=\"sendMessage\" class=\"flex-1 p-2 bg-gray-700 text-white rounded-lg outline-none\" placeholder=\"Type a message...\"/>\r\n      <button @click=\"sendMessage\" class=\"ml-2 px-4 py-2 bg-blue-500 rounded-lg\">Send</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n","import { render } from \"./AIagent.vue?vue&type=template&id=7b8b8c26\"\nimport script from \"./AIagent.vue?vue&type=script&lang=js\"\nexport * from \"./AIagent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"bg-container\">\r\n    <div class=\"max-w-md w-full bg-white p-8 rounded-lg shadow-lg\">\r\n      <h2\r\n        class=\"text-2xl sm:text-2xl font-semibold text-center text-gray-800 mb-4\"\r\n      >\r\n        Get started with <span class=\"logo\">WotNot</span>\r\n      </h2>\r\n\r\n      <hr class=\"my-3 border-gray-300\" />\r\n\r\n      <div class=\"space-y-4\">\r\n        <div class=\"w-full\">\r\n          <label for=\"username\" class=\"block text-sm font-medium text-gray-700\"\r\n            >Business Name</label\r\n          >\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            placeholder=\"\"\r\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div class=\"w-full\">\r\n          <label for=\"email\" class=\"block text-sm font-medium text-gray-700\"\r\n            >Business Email Address</label\r\n          >\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"\"\r\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div class=\"w-full\">\r\n          <label for=\"password\" class=\"block text-sm font-medium text-gray-700\"\r\n            >Password</label\r\n          >\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n            placeholder=\"Set Password\"\r\n            class=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n            required\r\n          />\r\n          <div\r\n            class=\"h-2 mt-2 rounded transition-all duration-300\"\r\n            :style=\"{ width: strengthWidth, backgroundColor: strengthColor }\"\r\n          ></div>\r\n          <p class=\"text-sm mt-1 font-medium\" :style=\"{ color: strengthColor }\">\r\n            {{ strengthLabel }}\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"mt-4 text-sm text-center\">\r\n          <p class=\"mb-2 text-sm\">\r\n            By signing up you agree to the\r\n            <router-link\r\n              to=\"/terms-and-privacy#terms-and-conditions\"\r\n              class=\"text-[#075e54] font-semibold\"\r\n              >Terms</router-link\r\n            >\r\n            and\r\n            <router-link\r\n              to=\"/terms-and-privacy#privacy-policy\"\r\n              class=\"text-[#075e54] font-semibold\"\r\n              >Privacy Policy</router-link\r\n            >\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"cf-turnstile\" :data-sitekey=\"turnstileSiteKey\"></div>\r\n\r\n      <div class=\"flex flex-col items-center\">\r\n        <button\r\n          class=\"w-full bg-gradient-to-r from-[#075e54] via-[#089678] to-[#075e54] text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:from-[#078478] hover:via-[#08b496] hover:to-[#078478] transition-all duration-300\"\r\n          @click.prevent=\"handleSubmit\"\r\n        >\r\n          Get Account\r\n        </button>\r\n\r\n        <p class=\"mt-4 text-center text-sm\">\r\n          Already have an account?\r\n          <a\r\n            href=\"\"\r\n            class=\"text-[#075e54] font-semibold mb-4\"\r\n            @click=\"redirectLogin\"\r\n            >Login</a\r\n          >\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport zxcvbn from \"zxcvbn\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      password: \"\", // ✅ Added this line\r\n      turnstileSiteKey: process.env.VUE_APP_TURNSTILE_SITE_KEY\r\n    };\r\n  },\r\n  name: \"BasicSignUpForm\",\r\n  computed: {\r\n    strengthScore() {\r\n      return zxcvbn(this.password || \"\").score;\r\n    },\r\n    strengthLabel() {\r\n      return [\"Very Weak\", \"Weak\", \"Fair\", \"Good\", \"Strong\"][\r\n        this.strengthScore\r\n      ];\r\n    },\r\n    strengthColor() {\r\n      return [\"#e53e3e\", \"#dd6b20\", \"#d69e2e\", \"#38a169\", \"#3182ce\"][\r\n        this.strengthScore\r\n      ];\r\n    },\r\n    strengthWidth() {\r\n      return `${(this.strengthScore / 4) * 100}%`;\r\n    },\r\n  },\r\n  mounted() {\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://challenges.cloudflare.com/turnstile/v0/api.js\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    document.head.appendChild(script);\r\n  },\r\n  methods: {\r\n    handleSubmit() {\r\n      const token = document.querySelector(\r\n        'input[name=\"cf-turnstile-response\"]'\r\n      )?.value;\r\n      if (!token) {\r\n        alert(\"Please complete the CAPTCHA.\");\r\n        return;\r\n      }\r\n\r\n      const formData = {\r\n        username: document.getElementById(\"username\").value,\r\n        email: document.getElementById(\"email\").value,\r\n        password: document.getElementById(\"password\").value,\r\n        cf_token: token,\r\n      };\r\n\r\n      if (!formData.username || !formData.email || !formData.password) {\r\n        alert(\"Please fill in all required fields.\");\r\n        return;\r\n      }\r\n\r\n      fetch(`${this.apiUrl}/register`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          if (data.success) {\r\n            alert(\"Account created successfully!\");\r\n            document\r\n              .querySelectorAll(\"input\")\r\n              .forEach((input) => (input.value = \"\"));\r\n          } else if (data.detail) {\r\n            alert(data.detail);\r\n          } else {\r\n            alert(\"Failed to create account. Please try again.\");\r\n          }\r\n        })\r\n        .catch((error) => console.error(error));\r\n    },\r\n    redirectLogin() {\r\n      this.$router.push(\"/\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.logo {\r\n  font-weight: 800;\r\n  margin: 8px 0;\r\n  padding-right: 30px;\r\n  font-size: 30px;\r\n  color: #075e54;\r\n}\r\n.bg-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n  background-image: url(\"@/assets/LoginPage.png\");\r\n  background-position: center;\r\n  padding: 0 16px;\r\n}\r\n\r\n@media (min-width: 640px) {\r\n  .container {\r\n    padding: 0 24px;\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .container {\r\n    padding: 0 32px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./basic_signup.vue?vue&type=template&id=41b24ea2&scoped=true\"\nimport script from \"./basic_signup.vue?vue&type=script&lang=js\"\nexport * from \"./basic_signup.vue?vue&type=script&lang=js\"\n\nimport \"./basic_signup.vue?vue&type=style&index=0&id=41b24ea2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41b24ea2\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"app\">\r\n    <div class=\"navbar\">\r\n\r\n      <div class=\"nav-left\">\r\n        <div class=\"logo-div\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n              <path fill=\"#166534\"\r\n              d=\"M160 368c26.5 0 48 21.5 48 48l0 16 72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6L448 368c8.8 0 16-7.2 16-16l0-288c0-8.8-7.2-16-16-16L64 48c-8.8 0-16 7.2-16 16l0 288c0 8.8 7.2 16 16 16l96 0zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3l0-21.3 0-6.4 0-.3 0-4 0-48-48 0-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L448 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64l-138.7 0L208 492z\" />\r\n          </svg>\r\n        </div>\r\n\r\n        <div class=\"logo\"> WotNot</div>\r\n        <div class=\"nav-item\" v-for=\"section in navItems\" :key=\"section.name\" @click=\"navigate(section.path)\"\r\n          :class=\"{ active: isActive(section.path) }\">\r\n          <i :class=\"section.icon\"></i>{{ section.label }}\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"nav-right\">\r\n\r\n\r\n\r\n        <!-- Wallet Button with Icon -->\r\n        <!-- <div class=\"wallet-section\">\r\n          <button @click=\"toggleWalletModal\" class=\"wallet-btn\">\r\n            <i class=\"bi bi-wallet2\"></i>\r\n          </button>\r\n        </div> -->\r\n\r\n        <div class=\"flex\" v-if=\"user\">\r\n\r\n          <p class=\"text-green-700 mr-2\"> {{ user.email }}</p>\r\n        </div>\r\n        <div v-else>\r\n          <p class=\"text-gray-600 mr-2\">Session Expired</p>\r\n        </div>\r\n\r\n\r\n        <div class=\"profile-dropdown\" @click=\"toggleDropdown\" ref=\"profileDropdown\">\r\n          <!-- <img src=\"../assets/—Pngtree—avatar icon profile icon member_5247852.png\" alt=\"Profile\"\r\n            class=\"profile-icon\" /> -->\r\n\r\n          <div class=\"profile-icon\">\r\n\r\n\r\n            <div v-if=\"profile.profile_picture_url\">\r\n              <img :src=\"profile.profile_picture_url\" alt=\"\">\r\n            </div>\r\n\r\n            <div v-else>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                class=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0\" />\r\n                <path fill-rule=\"evenodd\"\r\n                  d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1\" />\r\n              </svg>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n\r\n          <div v-if=\"dropdownOpen\" class=\"dropdown-menu\" ref=\"dropdownMenu\">\r\n            <ul>\r\n              <li @click=\"goToProfile\"><i class=\"bi bi-person-circle\"></i> View Profile</li>\r\n              <li @click=\"goToCostAnalytics\"><i class=\"bi bi-currency-rupee\"></i> Purchase History </li>\r\n              <li @click=\"goToSettings\"><i class=\"bi bi-gear-fill\"></i> Settings</li>\r\n              <li @click=\"logout\"><i class=\"bi bi-box-arrow-right\"></i> Logout</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n    <!-- Wallet Modal Pop-up -->\r\n    <div v-if=\"walletModalOpen\" class=\"modal-overlay\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h2>Wallet</h2>\r\n          <!-- X Close Button -->\r\n          <span class=\"close-btn\" @click=\"toggleWalletModal\">&times;</span>\r\n        </div>\r\n        <p><strong>Current Balance:</strong> {{ currentBalance }}</p>\r\n        <button @click=\"topUpBalance\" class=\"topup-btn\">Top Up Balance</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flex flex-1\">\r\n\r\n      \r\n      <!-- Hamburger button for mobile view -->\r\n      <button @click=\"isMenuOpen = !isMenuOpen\" class=\"p-2 md:hidden\">\r\n        <i class=\"bi bi-list text-2xl z-[1000] absolute top-[60px]\"></i>\r\n      </button>\r\n\r\n      <!-- Broadcast Section Sidebar -->\r\n      <div\r\n        class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4 overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\"\r\n        :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\"\r\n        v-if=\"currentSection === 'broadcast'\">\r\n        <a href=\"#\" @click.prevent=\"navigate('/broadcast/broadcast2')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/broadcast/broadcast2'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/broadcast/broadcast2') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg \">\r\n          <i class=\"bi bi-broadcast mr-2\"></i>Broadcast Messages\r\n        </a>\r\n        <a href=\"#\" @click.prevent=\"navigate('/broadcast/broadcast1')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/broadcast/broadcast1'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/broadcast/broadcast1') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg \">\r\n          <i class=\"bi bi-chat-right-text-fill mr-2\"></i>Manage Templates\r\n        </a>\r\n        <a href=\"#\" @click.prevent=\"navigate('/broadcast/broadcast3')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/broadcast/broadcast3'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/broadcast/broadcast3') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg \">\r\n          <i class=\"bi bi-calendar2-range-fill mr-2\"></i>Scheduled Broadcasts\r\n        </a>\r\n      </div>\r\n\r\n      <!-- Contacts Section Sidebar -->\r\n      <div\r\n        class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4  overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\"\r\n        :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\" v-if=\"currentSection === 'Contacts'\">\r\n        <a href=\"#\" @click.prevent=\"navigate('/contacts/contacts1')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/contacts/contacts1'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/contacts/contacts1') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg \">\r\n          <i class=\"bi bi-journal-bookmark-fill mr-2 \"></i>Manage Contacts\r\n        </a>\r\n        <a href=\"#\" @click.prevent=\"navigate('/contacts/contacts2')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/contacts/contacts2'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/contacts/contacts2') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg \">\r\n          <i class=\"bi bi-tags-fill mr-2\"></i>Manage Tags\r\n        </a>\r\n      </div>\r\n\r\n      <!-- Integration Section Sidebar -->\r\n      <div\r\n        class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4  overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\"\r\n        :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\"\r\n        v-if=\"currentSection === 'Integration'\">\r\n        <a href=\"#\" @click.prevent=\"navigate('/integration/integration1')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/integration/integration1'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/integration/integration1') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg  \"><i class=\"bi bi-link-45deg\"></i>\r\n          Woocommerce\r\n        </a>\r\n      </div>\r\n\r\n      <!-- Analytics Section Sidebar -->\r\n      <div\r\n        class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4  overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\"\r\n        :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\"\r\n        v-if=\"currentSection === 'Analytics'\">\r\n        <a href=\"#\" @click.prevent=\"navigate('/analytics/cost')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/analytics/cost'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/analytics/cost') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg  \"><i class=\"bi bi-currency-dollar\"></i>\r\n          Cost\r\n        </a>\r\n\r\n        <a href=\"#\" @click.prevent=\"navigate('/analytics/conversations')\"\r\n          :class=\"{ 'text-green-800 font-semibold': isActive('/analytics/conversations'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/analytics/conversations') }\"\r\n          class=\"block p-3 text-gray-600 rounded-lg  \"><i class=\"bi bi-link-45deg\"></i>\r\n          Conversations\r\n        </a>\r\n      </div>\r\n\r\n      <!-- AI agent Sidebar -->\r\n      <!-- <div\r\n      class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4  overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\"\r\n      :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\"\r\n      v-if=\"currentSection === 'AIagent'\">\r\n      <a href=\"#\" @click.prevent=\"navigate('/agent')\"\r\n        :class=\"{ 'text-green-800 font-semibold': isActive('/agent'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/agent') }\"\r\n        class=\"block p-3 text-gray-600 rounded-lg  \"><i class=\"bi bi-currency-dollar\"></i>\r\n        AI Agent\r\n      </a>\r\n\r\n       <a href=\"#\" @click.prevent=\"navigate('/analytics/conversations')\"\r\n        :class=\"{ 'text-green-800 font-semibold': isActive('/analytics/conversations'), 'hover:bg-gray-200 hover:font-semibold': !isActive('/analytics/conversations') }\"\r\n        class=\"block p-3 text-gray-600 rounded-lg  \"><i class=\"bi bi-link-45deg\"></i>\r\n        Conversations\r\n      </a> -->\r\n    <!-- </div> -->\r\n\r\n\r\n      <!--    <div v-if=\"currentSection === 'Chatbot'\" class=\"flex-1 mt-16 p-8 bg-white overflow-y-auto h-[calc(100vh-65px)]\">\r\n  <router-view></router-view>\r\n</div>-->\r\n      <!--<ActiveChatsSidebar v-if=\"currentSection === 'Chatbot'\" class=\"fixed top-12 left-0 w-64 h-[calc(100vh-65px)] bg-gray-100 p-4 overflow-y-auto mt-4 z-50 transform md:transform-none transition-transform duration-300 ease-in-out\" :class=\"{ '-translate-x-full': !isMenuOpen, 'translate-x-0': isMenuOpen }\" />-->\r\n\r\n\r\n\r\n      <!-- Main Content-->\r\n      <div class=\"flex-1 mt-16 bg-white h-[calc(100vh-65px)] \">\r\n        <router-view></router-view>\r\n      </div>\r\n      <!-- <div class=\"flex-1 mt-16 bg-white h-[calc(100vh-65px)] p-6 overflow-y-auto\">\r\n        <AIGreetingGenerator/>\r\n      </div> -->\r\n\r\n\r\n      <!-- Profile Popup -->\r\n      <ProfilePopup :visible=\"showProfilePopup\" :user=\"user\" @close=\"showProfilePopup = false\" />\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n/* global FB */\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport ProfilePopup from './profile.vue';\r\nimport axios from \"axios\";\r\n// import AIGreetingGenerator from '@/components/AIagent/AIGreetingGenerator.vue';\r\n\r\nexport default {\r\n  name: 'DashboardView',\r\n  components: {\r\n    ProfilePopup,\r\n    // AIGreetingGenerator\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n\r\n      localUser: {\r\n        whatsapp_business_id: '',\r\n        // currentBalance: 0 ,\r\n      },\r\n      navItems: [\r\n        { name: 'broadcast', label: 'Broadcast', icon: 'bi bi-broadcast', path: '/broadcast/broadcast2' },\r\n        { name: 'Contacts', label: 'Contacts', icon: 'bi bi-person-video2', path: '/contacts/contacts1' },\r\n        { name: 'Integration', label: 'Integration', icon: 'bi bi-plugin', path: '/integration/integration1' },\r\n        { name: 'chatbot', label: 'Chatbot', path: '/chatbot/chatbotview', icon: 'bi bi-robot' },\r\n        { name: 'Analytics', label: 'Analytics', path: '/analytics/cost', icon: 'bi bi-graph-up' },\r\n        // { name: 'AI Agent', label: 'AIagent', path: '/agent', icon: 'bi bi-robot' }\r\n      ],\r\n      user: null,\r\n      dropdownOpen: false,\r\n      showProfilePopup: false,\r\n      isMenuOpen: false,\r\n      walletModalOpen: false,\r\n      currentBalance: 0,\r\n\r\n\r\n      profile: {\r\n        about: \"\",\r\n        address: \"\",\r\n        email: \"\",\r\n        description: \"\",\r\n        websites: \"\",\r\n        vertical: \"OTHER\",\r\n        messaging_product: \"whatsapp\",\r\n        profile_picture_url: \"\" // Default value\r\n      },\r\n      originalProfile: {},\r\n\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const isActive = (path) => route.path === path;\r\n    const navigate = (path) => {\r\n      router.push(path);\r\n    }\r\n\r\n    return {\r\n      navigate,\r\n      isActive,\r\n      currentSection: getSectionFromRoute(route.path),\r\n\r\n\r\n    };\r\n  },\r\n  watch: {\r\n    '$route.path': function (newPath) {\r\n      this.currentSection = getSectionFromRoute(newPath);\r\n    }\r\n  },\r\n\r\n\r\n\r\n\r\n  async mounted() {\r\n    await this.fetchProfile();\r\n    await this.fetchUserDetails();\r\n    await this.created();\r\n    document.addEventListener('click', this.handleOutsideClick);\r\n\r\n\r\n    const checkAndSend = () => {\r\n      if (this.sessionInfoResponse && this.sdkResponse) {\r\n        // Send data to the backend\r\n        fetch(`${this.apiUrl}/subscribe_customer`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            sessionInfoResponse: this.sessionInfoResponse,\r\n            sdkResponse: this.sdkResponse,\r\n          }),\r\n        })\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n            console.log(\"Response from backend:\", data);\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error sending data to backend:\", error);\r\n          });\r\n      }\r\n    };\r\n\r\n    // Watch for changes in both variables\r\n    this.$watch(\r\n      () => [this.sessionInfoResponse, this.sdkResponse],\r\n      (newValues) => {\r\n        const [newSessionInfoResponse, newSdkResponse] = newValues;\r\n        if (newSessionInfoResponse && newSdkResponse) {\r\n          checkAndSend();\r\n        }\r\n      },\r\n      { immediate: true, deep: true }\r\n    );\r\n\r\n\r\n    // Initialize the Facebook SDK\r\n    window.fbAsyncInit = () => {\r\n      FB.init({\r\n        appId: \"2621821927998797\", // Replace with your App ID\r\n        autoLogAppEvents: true,\r\n        xfbml: true,\r\n        version: \"v21.0\",\r\n      });\r\n    };\r\n\r\n    // Dynamically load the Facebook SDK\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.crossOrigin = \"anonymous\";\r\n    document.body.appendChild(script);\r\n\r\n    // Set up an event listener for messages from Facebook\r\n    window.addEventListener(\"message\", (event) => {\r\n      if (\r\n        event.origin !== \"https://www.facebook.com\" &&\r\n        event.origin !== \"https://web.facebook.com\"\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const data = JSON.parse(event.data);\r\n        if (data.type === \"WA_EMBEDDED_SIGNUP\") {\r\n          if (data.event === \"FINISH\") {\r\n            const { phone_number_id, waba_id } = data.data;\r\n            console.log(\r\n              \"Phone number ID:\",\r\n              phone_number_id,\r\n              \"WhatsApp business account ID:\",\r\n              waba_id\r\n            );\r\n          } else if (data.event === \"CANCEL\") {\r\n            const { current_step } = data.data;\r\n            console.warn(\"Cancelled at step:\", current_step);\r\n          } else if (data.event === \"ERROR\") {\r\n            const { error_message } = data.data;\r\n            console.error(\"Error:\", error_message);\r\n          }\r\n        }\r\n        this.sessionInfoResponse = JSON.stringify(data, null, 2);\r\n\r\n      } catch {\r\n        console.log(\"Non-JSON Response:\", event.data);\r\n      }\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    document.removeEventListener('click', this.handleOutsideClick);\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    async created() {\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/user`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch user details');\r\n        }\r\n\r\n        this.user = await response.json();\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n      }\r\n    },\r\n\r\n    async fetchUserDetails() {\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/user`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch user details');\r\n        }\r\n\r\n        const data = await response.json();\r\n        this.localUser.whatsapp_business_id = data['Whatsapp_Business_Id'];\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n      }\r\n    },\r\n\r\n    async fetchWalletDetails(accountId) {\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/conversations-cost/${accountId}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        // Check if the response is ok (status code 200-299)\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n\r\n        // Parse the JSON data from the response\r\n        const costData = await response.json();\r\n\r\n        // Set the current balance using the response data\r\n        this.currentBalance = costData;\r\n        this.currentBalance = this.currentBalance.toFixed(3); // Assuming the response directly gives the balance\r\n\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching wallet details:', error);\r\n        // Handle errors accordingly, e.g., show an error message to the user\r\n        return null; // Or any default value or error handling logic\r\n      }\r\n    },\r\n\r\n    async fetchProfile() {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(`${this.apiUrl}/get-business-profile/`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (response.status >= 200 && response.status < 300 && response.data.data.length) {\r\n          const data = response.data.data[0]; // Access the first object in the \"data\" array\r\n          this.profile = {\r\n            about: data.about || \"\",\r\n            address: data.address || \"\",\r\n            email: data.email || \"\",\r\n            websites: (data.websites && data.websites.join(\", \")) || \"\",\r\n            vertical: data.vertical || \"OTHER\",\r\n            messaging_product: data.messaging_product || \"whatsapp\",\r\n            description: data.description || \"\",\r\n            profile_picture_url: data.profile_picture_url || \"\",\r\n          };\r\n          this.originalProfile = { ...this.profile }; // Save original profile for reset\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error.response?.data?.detail || error.message);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    toggleDropdown() {\r\n      this.dropdownOpen = !this.dropdownOpen;\r\n    },\r\n    async toggleWalletModal() {\r\n      this.walletModalOpen = !this.walletModalOpen;\r\n      const walletOpen = this.walletModalOpen\r\n\r\n      if (walletOpen) {\r\n        await this.fetchWalletDetails(this.localUser.whatsapp_business_id)\r\n      }\r\n\r\n\r\n    },\r\n    topUpBalance() {\r\n      alert('Coming Soon...');\r\n    },\r\n    goToProfile() {\r\n      this.showProfilePopup = true;\r\n    },\r\n    goToSettings() {\r\n      this.$router.push('/settings');\r\n    },\r\n    goToCostAnalytics() {\r\n      this.$router.push('/analytics/cost');\r\n    },\r\n    logout() {\r\n      localStorage.removeItem('token');\r\n      this.$router.push('/');\r\n    },\r\n\r\n    handleOutsideClick(event) {\r\n      // Check if the click is outside the dropdown element\r\n      const dropdownMenu = this.$refs.dropdownMenu; // Use $refs to access the dropdown menu element\r\n      const profileDropdown = this.$refs.profileDropdown; // Use $refs to access the profile dropdown element\r\n\r\n      if (dropdownMenu && !dropdownMenu.contains(event.target) && profileDropdown && !profileDropdown.contains(event.target)) {\r\n        this.dropdownOpen = false; // Close dropdown\r\n      }\r\n    },\r\n\r\n  }\r\n}\r\n\r\nfunction getSectionFromRoute(path) {\r\n  if (path.startsWith('/broadcast')) return 'broadcast';\r\n  if (path.startsWith('/contacts')) return 'Contacts';\r\n  if (path.startsWith('/integration')) return 'Integration';\r\n  if (path.startsWith('/chatbot')) return 'Chatbot';\r\n  if (path.startsWith('/analytics')) return 'Analytics';\r\n  if (path.startsWith('/agent')) return 'AIagent'; \r\n  // Add this line\r\n  return 'broadcast';\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<style>\r\n\r\n.Toastify__toast-container {\r\n  z-index: 11000 !important; /* higher than your popup */\r\n}\r\n\r\nbody {\r\n  font-family: Arial, sans-serif;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #f8f9fa;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n}\r\n\r\n.nav-left,\r\n.nav-right {\r\n  display: flex;\r\n}\r\n\r\n.nav-right {\r\n  align-items: center;\r\n  margin-right: 15px;\r\n}\r\n\r\n.logo {\r\n  font-weight: 800;\r\n  margin: 8px 0;\r\n  padding-right: 30px;\r\n  font-size: xx-large;\r\n  color: #166534;\r\n}\r\n\r\n.logo-div svg {\r\n  width: 62px;\r\n  height: 62px;\r\n  padding: 15px 10px 10px 10px;\r\n  color: #075e54;\r\n}\r\n\r\n.nav-right svg {\r\n\r\n  width: 36px;\r\n  height: 36px;\r\n  padding: 0;\r\n  margin: 0 9px 0 9px;\r\n  color: #525252;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.nav-right svg:hover {\r\n  border-radius: 100%;\r\n  padding: 0;\r\n  width: 36px;\r\n  height: 36px;\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.nav-item {\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  color: #525252;\r\n  text-align: center;\r\n  margin: 8px 0;\r\n  border-right: 1px solid #e9ecef;\r\n  font-size: medium;\r\n}\r\n\r\n.userDetails {\r\n  display: flex;\r\n  margin-left: 300px;\r\n}\r\n\r\n.userDetails p {\r\n  padding-left: 5px;\r\n}\r\n\r\n.profile-icon {\r\n  width: 45px;\r\n  height: 45px;\r\n  border-radius: 50%; /* Makes it circular */\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden; /* Ensures the image does not overflow */\r\n  background-color: #ddd; /* Optional: background for SVG */\r\n  border: 1px solid grey; /* Adds a black border */\r\n}\r\n\r\n.profile-icon img {\r\n  width: 100%; /* Ensures the image fills the container */\r\n  height: 100%;\r\n  border-radius: 50%; /* Ensures the image remains circular */\r\n  object-fit: cover; /* Ensures the image fills the circle without distortion */\r\n}\r\n.profile-dropdown {\r\n  position: relative;\r\n}\r\n\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: 75px;\r\n  right: 30px;\r\n  width: 200px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  color: #525252;\r\n}\r\n\r\n.dropdown-menu ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.dropdown-menu li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  font-size: 18px;\r\n}\r\n\r\n.dropdown-menu li:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.dropdown-menu li i {\r\n  margin-right: 9px;\r\n}\r\n\r\n.logout {\r\n  align-self: flex-end;\r\n}\r\n\r\n.nav-item i {\r\n  padding-right: 9px;\r\n}\r\n\r\n.nav-item:hover {\r\n  font-weight: 600;\r\n  border-radius: 5px;\r\n  color: #075e54;\r\n}\r\n\r\n.container-contacts {\r\n  background-color: #f5f6fa;\r\n  border-radius: 12px;\r\n  width: 90%;\r\n  max-width: 900px;\r\n  padding: 20px;\r\n  text-align: left;\r\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nselect {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin: 8px 0 20px 0;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n  font-size: 16px;\r\n}\r\n\r\nh2 {\r\n  color: #075e54;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n\r\nbutton {\r\n  background-color: #075e54;\r\n  color: white;\r\n  \r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #1ebd5b;\r\n}\r\n\r\n.wallet-section {\r\n  margin-right: 9px;\r\n}\r\n\r\n.wallet-btn {\r\n  background: linear-gradient(45deg, #34eb83, #2ebf91);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 30px;\r\n  padding: 10px 10px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.wallet-btn i {\r\n  margin-left: 3px;\r\n  margin-right: 3px;\r\n}\r\n\r\n.wallet-btn:hover {\r\n  transform: translateY(-3px);\r\n  background: linear-gradient(45deg, #28b479, #249e85);\r\n  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* Modal Overlay */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n/* Modal Content */\r\n.modal-content {\r\n  background-color: #ffffff;\r\n  padding: 40px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\r\n  width: 400px;\r\n  text-align: center;\r\n  position: relative;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n/* Modal Header */\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n}\r\n\r\n/* Close Button (X) */\r\n.close-btn {\r\n  position: absolute;\r\n  right: 15px;\r\n  top: 15px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  color: #333;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.close-btn:hover {\r\n  color: #ff0000;\r\n}\r\n\r\n/* Top-Up Button */\r\n.topup-btn {\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 30px;\r\n  padding: 10px 30px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  margin-top: 20px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.topup-btn:hover {\r\n  background-color: #218838;\r\n}\r\n\r\n/* Fade-in Animation for Modal */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.95);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n\r\n.emoji-picker-container {\r\n  max-width: 300px;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.emoji-button {\r\n  background-color: transparent;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  margin: 3px;\r\n}\r\n\r\n.emoji-button:hover {\r\n  background-color: transparent;\r\n  color: #25d366;\r\n}\r\n\r\n/* Emoji Picker Styles */\r\n.custom-picker {\r\n  position: absolute;\r\n  z-index: 100;\r\n  margin: 10px 60px 310px 450px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  background-color: white;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  width: 270px;\r\n  /* Customize width */\r\n  max-height: 240px;\r\n  /* Customize height */\r\n  overflow: auto;\r\n  padding: 10px;\r\n  /* Add padding for better layout */\r\n}\r\n\r\n/* Adjust emoji size */\r\n.v3-emojis button img {\r\n  height: 35px;\r\n  margin: 1px;\r\n}\r\n</style>","\r\n<template>\r\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex justify-end z-50\" v-if=\"visible\" @click.self=\"close\">\r\n    <div class=\"w-80 h-full bg-white shadow-lg transform transition-transform duration-300\" :class=\"visible ? 'translate-x-0' : 'translate-x-full'\">\r\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200\">\r\n        <h2 class=\"text-xl font-semibold text-gray-900\">Profile Details</h2>\r\n        <button @click=\"close\" class=\"text-gray-600 hover:text-gray-900\">\r\n          <i class=\"fas fa-times\"></i>\r\n        </button>\r\n      </div>\r\n      <form @submit.prevent=\"saveProfile\" class=\"p-4 space-y-4\">\r\n        <div>\r\n          <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email:</label>\r\n          <div class=\"relative mt-1\">\r\n            <input type=\"email\" id=\"email\" v-model=\"localUser.email\" :readonly=\"isEmailReadonly\"\r\n              class=\"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label for=\"name\" class=\"block text-sm font-medium text-gray-700\">Username:</label>\r\n          <div class=\"relative mt-1\">\r\n            <input type=\"text\" id=\"name\" v-model=\"localUser.name\" :readonly=\"isNameReadonly\"\r\n              class=\"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n            />\r\n            \r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"whatsapp_business_id\" class=\"block text-sm font-medium text-gray-700\">WhatsApp Business ID:</label>\r\n          <input type=\"text\" id=\"whatsapp_business_id\" v-model=\"localUser.whatsapp_business_id\" readonly\r\n            class=\"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm sm:text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"phone_id\" class=\"block text-sm font-medium text-gray-700\">Phone ID:</label>\r\n          <input type=\"text\" id=\"phone_id\" v-model=\"localUser.phone_id\" readonly\r\n            class=\"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm sm:text-sm\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label for=\"access_token\" class=\"block text-sm font-medium text-gray-700\">Access Token:</label>\r\n          <input type=\"text\" id=\"access_token\" v-model=\"localUser.access_token\" readonly\r\n            class=\"block w-full p-2 mt-1 border border-gray-300 rounded-md shadow-sm sm:text-sm\"\r\n          />\r\n        </div>\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'ProfileSidebar',\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    user: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      \r\n      localUser: { ...this.user },\r\n      isEmailReadonly: true,\r\n      isNameReadonly: true\r\n    };\r\n  },\r\n  watch: {\r\n    visible: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        if (newVal) {\r\n          this.fetchUserDetails();\r\n        }\r\n      }\r\n    },\r\n    user: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        this.localUser = { ...newVal };\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('close');\r\n    },\r\n    toggleEmailReadonly() {\r\n      this.isEmailReadonly = !this.isEmailReadonly;\r\n    },\r\n    toggleNameReadonly() {\r\n      this.isNameReadonly = !this.isNameReadonly;\r\n    },\r\n    async fetchUserDetails() {\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/user`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch user details');\r\n        }\r\n\r\n        const data = await response.json();\r\n        this.localUser.email = data.email;\r\n        this.localUser.name = data.name;\r\n        this.localUser.whatsapp_business_id = data['Whatsapp_Business_Id'];\r\n        this.localUser.phone_id = data['Phone_id'];\r\n        this.localUser.access_token = data['Access_Token'];\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n      }\r\n    },\r\n    async saveProfile() {\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/user`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n          body: JSON.stringify({\r\n            email: this.localUser.email,\r\n            name: this.localUser.name,\r\n            Whatsapp_Business_Id: this.localUser.whatsapp_business_id,\r\n            Phone_id: this.localUser.phone_id,\r\n            Access_Token: this.localUser.access_token\r\n          }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to save user details');\r\n        }\r\n\r\n        console.log('Profile saved', this.localUser);\r\n        this.$emit('update:user', this.localUser);\r\n        this.close();\r\n      } catch (error) {\r\n        console.error('Error saving user details:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.profile-sidebar-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-end;\r\n  z-index: 1000;\r\n}\r\n\r\n.profile-sidebar {\r\n  width: 300px;\r\n  right: 0;\r\n  height: 100%;\r\n  background: white;\r\n  padding: 20px;\r\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);\r\n  transform: translateX(100%);\r\n  transition: transform 0.3s ease-in-out;\r\n}\r\n\r\n.profile-sidebar-overlay .profile-sidebar {\r\n  transform: translateX(0);\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin: 2vw 0 4vw 0;\r\n}\r\n\r\nh2 {\r\n  margin: 0;\r\n}\r\n\r\n.cancel-icon {\r\n  cursor: pointer;\r\n  color: #075e54; \r\n  font-size: 18px; \r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nlabel {\r\n  margin-top: 10px;\r\n}\r\n\r\ninput {\r\n  padding: 8px;\r\n  margin-bottom: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.input-group {\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n}\r\n\r\n.edit-icon {\r\n    position: absolute;\r\n    right: 10px; \r\n    cursor: pointer;\r\n    color: #007bff; \r\n}\r\n\r\ninput#email,\r\ninput#name {\r\n  padding-right: 30px; \r\n}\r\n\r\nbutton {\r\n  padding: 10px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n}\r\n\r\nbutton[type=\"submit\"] {\r\n  background-color: #075e54;\r\n  color: white;\r\n}\r\n\r\nbutton[type=\"button\"] {\r\n  background-color: #ddd;\r\n  color: #075e54;\r\n}\r\n</style>","import { render } from \"./profile.vue?vue&type=template&id=17bf17e0&scoped=true\"\nimport script from \"./profile.vue?vue&type=script&lang=js\"\nexport * from \"./profile.vue?vue&type=script&lang=js\"\n\nimport \"./profile.vue?vue&type=style&index=0&id=17bf17e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17bf17e0\"]])\n\nexport default __exports__","import { render } from \"./dashboardview.vue?vue&type=template&id=14785e3c\"\nimport script from \"./dashboardview.vue?vue&type=script&lang=js\"\nexport * from \"./dashboardview.vue?vue&type=script&lang=js\"\n\nimport \"./dashboardview.vue?vue&type=style&index=0&id=14785e3c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"flex flex-col m-8 overflow-y-auto h-[80vh] md:ml-72\">\r\n    <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n      <div>\r\n        <h2 class=\"text-xl md:text-2xl font-bold\">Profile Settings</h2>\r\n        <p>Change your business profile details</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"w-full max-w-3xl space-y-6\">\r\n      <div class=\"flex\">\r\n        <div>\r\n          <img\r\n            :src=\"profile.profile_picture_url\"\r\n            alt=\"Description of image\"\r\n            style=\"\r\n              width: 100px;\r\n              height: 100px;\r\n              object-fit: cover;\r\n              object-position: start;\r\n              display: block;\r\n              border-radius: 4px;\r\n            \"\r\n          />\r\n          <img :scr=\"profile.profile_picture_url\" />\r\n\r\n          <h3 class=\"block mb-2 font-bold\">Profile Picture</h3>\r\n        </div>\r\n\r\n        <div class=\"flex flex ml-4 items-center max-w-[50px]\">\r\n          <input type=\"file\" @change=\"handleFileChange\" class=\"mb-4\" />\r\n\r\n          <div>\r\n            <button\r\n              @click=\"uploadFile\"\r\n              :disabled=\"!selectedFile || isUploading\"\r\n              class=\"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:bg-gray-400\"\r\n            >\r\n              {{ isUploading ? \"Uploading...\" : \"Upload\" }}\r\n            </button>\r\n          </div>\r\n\r\n          <div\r\n            v-if=\"uploadResponse\"\r\n            class=\"mt-4 p-2 bg-green-100 border border-green-300 rounded\"\r\n          >\r\n            <p class=\"text-sm text-green-700\">Upload Successful!</p>\r\n          </div>\r\n\r\n          <div\r\n            v-if=\"uploadError\"\r\n            class=\"mt-4 p-2 bg-red-100 border border-red-300 rounded\"\r\n          >\r\n            <p class=\"text-sm text-red-700\">Error: {{ uploadError }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-2 gap-6\">\r\n        <div>\r\n          <label for=\"about\" class=\"block mb-2 font-bold\">About</label>\r\n          <input\r\n            id=\"about\"\r\n            type=\"text\"\r\n            v-model=\"profile.about\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label for=\"businessAddress\" class=\"block mb-2 font-bold\"\r\n            >Business Address</label\r\n          >\r\n          <input\r\n            id=\"businessAddress\"\r\n            type=\"text\"\r\n            v-model=\"profile.address\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"grid grid-cols-2 gap-6\">\r\n        <div>\r\n          <label for=\"businessDescription\" class=\"block mb-2 font-bold\"\r\n            >Business Description</label\r\n          >\r\n          <textarea\r\n            id=\"businessDescription\"\r\n            v-model=\"profile.description\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500 resize-none\"\r\n          ></textarea>\r\n        </div>\r\n        <div>\r\n          <label for=\"businessEmail\" class=\"block mb-2 font-bold\"\r\n            >Email for Business Contact</label\r\n          >\r\n          <input\r\n            id=\"businessEmail\"\r\n            type=\"email\"\r\n            v-model=\"profile.email\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"grid grid-cols-2 gap-6\">\r\n        <div>\r\n          <label for=\"businessIndustry\" class=\"block mb-2 font-bold\"\r\n            >Business Industry</label\r\n          >\r\n          <select\r\n            id=\"businessIndustry\"\r\n            v-model=\"profile.vertical\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500\"\r\n          >\r\n            <option value=\"TECH\">Tech</option>\r\n            <option value=\"BEAUTY\">Beauty</option>\r\n            <option value=\"HEALTH\">Health</option>\r\n            <option value=\"EDU\">Education</option>\r\n            <option value=\"OTHER\">Other</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label for=\"websites\" class=\"block mb-2 font-bold\"\r\n            >Websites (comma-separated)</label\r\n          >\r\n          <input\r\n            id=\"websites\"\r\n            type=\"text\"\r\n            v-model=\"profile.websites\"\r\n            class=\"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-green-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"flex justify-end space-x-4\">\r\n        <button\r\n          type=\"button\"\r\n          @click=\"resetProfile\"\r\n          class=\"bg-gray-300 text-white rounded px-6 py-2 hover:bg-gray-400 transition\"\r\n        >\r\n          Reset\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          @click=\"updateProfile\"\r\n          class=\"bg-green-500 text-white rounded px-6 py-2 hover:bg-green-600 transition\"\r\n        >\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <div class=\"flex flex-col md:flex-row justify-between mb-4 border-b pb-5\">\r\n        <div>\r\n          <h2 class=\"text-xl md:text-2xl font-bold\">Signup for API</h2>\r\n          <p>Signup with facebook to get Whatsapp API</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- fb-signup -->\r\n      <div>\r\n        <div id=\"fb-root\"></div>\r\n        <button\r\n          @click=\"launchWhatsAppSignup\"\r\n          style=\"\r\n            background-color: #1877f2;\r\n            border: 0;\r\n            border-radius: 4px;\r\n            color: #fff;\r\n            cursor: pointer;\r\n            font-family: Helvetica, Arial, sans-serif;\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            height: 40px;\r\n            padding: 0 24px;\r\n          \"\r\n        >\r\n          Login with Facebook\r\n        </button>\r\n        <!-- <p>Session info response:</p>\r\n                <pre>{{ sessionInfoResponse }}</pre>\r\n                <br />\r\n                <p>SDK response:</p>\r\n                <pre>{{ sdkResponse }}</pre> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* global FB */\r\nimport axios from \"axios\";\r\nimport { useToast } from \"vue-toastification\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n\r\n      selectedFile: null,\r\n      isUploading: false,\r\n      uploadResponse: null,\r\n      uploadError: null,\r\n      uploadHandleID: null,\r\n\r\n      profile: {\r\n        about: \"\",\r\n        address: \"\",\r\n        email: \"\",\r\n        description: \"\",\r\n        websites: \"\",\r\n        vertical: \"OTHER\",\r\n        messaging_product: \"whatsapp\",\r\n        profile_picture_url: \"\", // Default value\r\n      },\r\n      originalProfile: {}, // For reset functionality\r\n      loading: true,\r\n\r\n      // fb-signup\r\n      sessionInfoResponse: \"\",\r\n      sdkResponse: \"\",\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.fetchProfile();\r\n    document.addEventListener(\"click\", this.handleOutsideClick);\r\n\r\n    const checkAndSend = () => {\r\n      if (this.sessionInfoResponse && this.sdkResponse) {\r\n        // Send data to the backend\r\n        fetch(`${this.apiUrl}/subscribe_customer`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            sessionInfoResponse: this.sessionInfoResponse,\r\n            sdkResponse: this.sdkResponse,\r\n          }),\r\n        })\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n            console.log(\"Response from backend:\", data);\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error sending data to backend:\", error);\r\n          });\r\n      }\r\n    };\r\n\r\n    // Watch for changes in both variables\r\n    this.$watch(\r\n      () => [this.sessionInfoResponse, this.sdkResponse],\r\n      (newValues) => {\r\n        const [newSessionInfoResponse, newSdkResponse] = newValues;\r\n        if (newSessionInfoResponse && newSdkResponse) {\r\n          checkAndSend();\r\n        }\r\n      },\r\n      { immediate: true, deep: true }\r\n    );\r\n\r\n    // Initialize the Facebook SDK\r\n    window.fbAsyncInit = () => {\r\n      FB.init({\r\n        appId: \"2621821927998797\", // Replace with your App ID\r\n        autoLogAppEvents: true,\r\n        xfbml: true,\r\n        version: \"v21.0\",\r\n      });\r\n    };\r\n\r\n    // Dynamically load the Facebook SDK\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.crossOrigin = \"anonymous\";\r\n    document.body.appendChild(script);\r\n\r\n    // Set up an event listener for messages from Facebook\r\n    window.addEventListener(\"message\", (event) => {\r\n      if (\r\n        event.origin !== \"https://www.facebook.com\" &&\r\n        event.origin !== \"https://web.facebook.com\"\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const data = JSON.parse(event.data);\r\n        if (data.type === \"WA_EMBEDDED_SIGNUP\") {\r\n          if (data.event === \"FINISH\") {\r\n            const { phone_number_id, waba_id } = data.data;\r\n            console.log(\r\n              \"Phone number ID:\",\r\n              phone_number_id,\r\n              \"WhatsApp business account ID:\",\r\n              waba_id\r\n            );\r\n          } else if (data.event === \"CANCEL\") {\r\n            const { current_step } = data.data;\r\n            console.warn(\"Cancelled at step:\", current_step);\r\n          } else if (data.event === \"ERROR\") {\r\n            const { error_message } = data.data;\r\n            console.error(\"Error:\", error_message);\r\n          }\r\n        }\r\n        this.sessionInfoResponse = JSON.stringify(data, null, 2);\r\n      } catch {\r\n        console.log(\"Non-JSON Response:\", event.data);\r\n      }\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    fbLoginCallback(response) {\r\n      if (response.authResponse) {\r\n        const code = response.authResponse.code;\r\n        console.log(\"Auth Response Code:\", code);\r\n        // Handle the code by sending it to your backend server for further processing.\r\n      }\r\n      this.sdkResponse = JSON.stringify(response, null, 2);\r\n    },\r\n\r\n    launchWhatsAppSignup() {\r\n      FB.login(this.fbLoginCallback, {\r\n        config_id: \"951833230236631\", // Replace with your configuration ID\r\n        response_type: \"code\", // Must be 'code' for System User access token\r\n        override_default_response_type: true,\r\n        extras: {\r\n          setup: {},\r\n          featureType: \"\",\r\n          sessionInfoVersion: \"2\",\r\n        },\r\n      });\r\n    },\r\n\r\n    loadFacebookSDK() {\r\n      if (!document.getElementById(\"facebook-jssdk\")) {\r\n        const script = document.createElement(\"script\");\r\n        script.id = \"facebook-jssdk\";\r\n        script.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = this.initializeFacebookSDK; // Ensure SDK is initialized once loaded\r\n        document.body.appendChild(script);\r\n      } else {\r\n        this.initializeFacebookSDK(); // SDK is already loaded\r\n      }\r\n    },\r\n\r\n    initializeFacebookSDK() {\r\n      window.fbAsyncInit = () => {\r\n        FB.init({\r\n          appId: \"2621821927998797\", // Replace with your actual Facebook app ID\r\n          cookie: true,\r\n          xfbml: true,\r\n          version: \"v20.0\",\r\n        });\r\n        this.renderFacebookButton();\r\n      };\r\n    },\r\n    async fetchProfile() {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await axios.get(\r\n          `${this.apiUrl}/get-business-profile/`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (\r\n          response.status >= 200 &&\r\n          response.status < 300 &&\r\n          response.data.data.length\r\n        ) {\r\n          const data = response.data.data[0]; // Access the first object in the \"data\" array\r\n          this.profile = {\r\n            about: data.about || \"\",\r\n            address: data.address || \"\",\r\n            email: data.email || \"\",\r\n            websites: (data.websites && data.websites.join(\", \")) || \"\",\r\n            vertical: data.vertical || \"OTHER\",\r\n            messaging_product: data.messaging_product || \"whatsapp\",\r\n            description: data.description || \"\",\r\n            profile_picture_url: data.profile_picture_url || \"\",\r\n          };\r\n          this.originalProfile = { ...this.profile }; // Save original profile for reset\r\n        }\r\n      } catch (error) {\r\n        console.error(\r\n          \"Error fetching profile:\",\r\n          error.response?.data?.detail || error.message\r\n        );\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async updateProfile() {\r\n      const toast = useToast();\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const payload = {\r\n          about: this.profile.about,\r\n          address: this.profile.address,\r\n          email: this.profile.email,\r\n          description: this.profile.description,\r\n          websites: this.profile.websites\r\n            ? this.profile.websites.split(\",\").map((site) => site.trim()) // Convert websites to an array\r\n            : [], // Default to an empty array if no websites are provided\r\n          vertical: this.profile.vertical || \"OTHER\", // Ensure a default value\r\n          messaging_product: this.profile.messaging_product || \"whatsapp\", // Default to \"whatsapp\"\r\n          profile_picture_handle: this.uploadHandleID || \"\", // Ensure handle ID is assigned\r\n        };\r\n\r\n        const response = await axios.post(\r\n          `${this.apiUrl}/update-profile/`,\r\n          payload,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.status >= 200 && response.status < 300) {\r\n          toast.success(\"Profile updated successfully!\");\r\n          await this.fetchProfile(); // Update originalProfile after successful save\r\n        }\r\n      } catch (error) {\r\n        toast.error(\"Failed to update profile!\");\r\n        console.error(\r\n          \"Error updating profile:\",\r\n          error.response?.data?.detail || error.message\r\n        );\r\n      }\r\n    },\r\n    resetProfile() {\r\n      this.profile = { ...this.originalProfile }; // Reset to original data\r\n    },\r\n\r\n    handleFileChange(event) {\r\n      this.selectedFile = event.target.files[0];\r\n    },\r\n    async uploadFile() {\r\n      if (!this.selectedFile) {\r\n        alert(\"Please select a file first.\");\r\n        return;\r\n      }\r\n\r\n      this.isUploading = true;\r\n      this.uploadResponse = null;\r\n      this.uploadError = null;\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"file\", this.selectedFile);\r\n\r\n      try {\r\n        const token = localStorage.getItem(\"token\"); // Adjust based on your auth storage\r\n        const response = await axios.post(\r\n          `${this.apiUrl}/resumable-upload/`,\r\n          formData,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          }\r\n        );\r\n\r\n        this.uploadResponse = response.data;\r\n        this.uploadHandleID = response.data.upload_response?.h || \"N/A\";\r\n        console.log(this.uploadHandleID);\r\n      } catch (error) {\r\n        this.uploadError = error.response\r\n          ? error.response.data.detail\r\n          : \"Upload failed\";\r\n      } finally {\r\n        this.isUploading = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add your custom styles here */\r\n</style>\r\n","import { render } from \"./profileSettings.vue?vue&type=template&id=68b1a0cd&scoped=true\"\nimport script from \"./profileSettings.vue?vue&type=script&lang=js\"\nexport * from \"./profileSettings.vue?vue&type=script&lang=js\"\n\nimport \"./profileSettings.vue?vue&type=style&index=0&id=68b1a0cd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68b1a0cd\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"app\" class=\"main-container\">\r\n    <!-- Sidebar for Active Chats -->\r\n    <div class=\"sidebar\">\r\n      <b>\r\n        <div class=\"w-40px\">\r\n          <select name=\"\" id=\"\" v-model=\"chatStatusFilter\" @change=\"filterChatsByStatus\"\r\n            class=\"no-border px-3 py-2 text-black\" style=\"font-size: 16px; outline: none;\">\r\n            <option value=\"\" selected style=\"font-size: 16px; color: black;\">All Chats</option>\r\n            <option value=\"true\" style=\"font-size: 16px; color: black;\">Active Chats\r\n            </option>\r\n\r\n          </select>\r\n        </div>\r\n\r\n      </b>\r\n      <ul class=\"chat-list\">\r\n        <ul>\r\n          <li v-for=\"chat in activeChat\" :key=\"chat.message_id\">\r\n\r\n            <div class=\"flex bg-white justify-between rounded-lg p-4 text-black shadow-md\"\r\n              @click=\"ConversationSSE(chat.sender_wa_id), ActiveWaid = chat.sender_wa_id, ActiveWaidName = chat.sender_name\">\r\n\r\n              <div class=\"\">\r\n\r\n                <p><strong>{{ chat.sender_name }}</strong></p>\r\n                <div v-html=\"truncateMessage(chat.message_content)\"></div>\r\n              </div>\r\n\r\n\r\n              <div class=\"messageTime\">\r\n                <p>{{ chat.last_chat_time.split('T')[1].substring(0, 5) }}</p>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </li>\r\n        </ul>\r\n      </ul>\r\n    </div>\r\n\r\n\r\n    <!-- Chat Area -->\r\n    <div class=\"chat-area\">\r\n\r\n      <!-- Chat Header -->\r\n      <div class=\"chat-header\">\r\n\r\n        <div class=\"timer\">\r\n\r\n          <div class=\"text-gray-600\" v-if=\"ActiveWaid\">\r\n            <i class=\"bi bi-person-circle\" style=\"font-size: 2.1rem;\"></i>\r\n          </div>\r\n\r\n\r\n          <div class=\"flex flex-col items-start justify-start w-full text-[14px]  p-3\">\r\n            <h3><b>{{ ActiveWaidName }}</b></h3>\r\n            <p style=\"font-size: 13px; color: rgb(132, 138, 134);\"><b>{{ ActiveWaid }}</b></p>\r\n          </div>\r\n\r\n          <div class=\"flex items-start justify-end w-full\">\r\n            <span id=\"currentTime\">{{ selectedRemainingTime }}</span>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Chat Content Section -->\r\n      <div class=\"chat-content\" id=\"chatContent\" ref=\"chatContent\">\r\n        <div v-html=\"chatContent\"></div>\r\n        <div id=\"messages\">\r\n          <div v-for=\"(message, index) in selectedchat\" :key=\"message.id\">\r\n            <!-- Show Date Separator if Date Changes -->\r\n            <div v-if=\"shouldShowDate(index)\" class=\"text-center my-2 text-sm text-gray-500\">\r\n              <p>{{ formatDate(selectedchat[index].timestamp.split('T')[0]) }}</p>\r\n            </div>\r\n\r\n            <!-- Message Bubble -->\r\n            <div :class=\"{ 'message': true, 'sent-message': message.direction == 'sent' }\"\r\n              @contextmenu.prevent=\"showContextMenu($event, message)\">\r\n\r\n              <div style=\"width: 100%;max-width: 300px;\">\r\n                <div v-if=\"message.context_message_id\" class=\"replied-message-context mb-2 text-sm text-gray-600\">\r\n\r\n                  <div class=\"replied-message\">\r\n\r\n                    <p><strong>Replied to:</strong></p>\r\n                    <div class=\"p-2 border border-gray-300 rounded-md\"\r\n                      v-html=\"getRepliedMessageContent(message.context_message_id)\"></div>\r\n                  </div>\r\n\r\n                </div>\r\n                <!-- Message Content -->\r\n                <div style=\"white-space: pre-line; word-wrap: break-word; overflow-wrap: break-word; max-width: 100%\" v-html=\"processMessageContent(message.message_content)\"></div>\r\n\r\n                <div class=\"messageTime\">\r\n                  <p>{{ message.timestamp.split('T')[1].substring(0, 5) }}</p>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n          <!-- Custom Context Menu -->\r\n          <div v-if=\"contextMenuVisible\"\r\n            :style=\"{ top: contextMenuPosition.y + 'px', left: contextMenuPosition.x + 'px' }\"\r\n            class=\"custom-context-menu\">\r\n            <ul>\r\n              <li @click=\"replyToMessage\">Reply</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n      <!-- Message Input Area -->\r\n      <div v-if=\"selectedRemainingTime != 'Chat is expired'\">\r\n\r\n        <div v-if=\"replyMessage\" class=\"flex justify-between p-4 \">\r\n          <div>\r\n            <b>Replying to: </b>\r\n            <p v-html=\"this.getRepliedMessageContent(selectedMessage.message_id)\"></p>\r\n          </div>\r\n\r\n          <span class=\"relative bottom-1 text-xl cursor-pointer text-black mr-4\"\r\n            @click=\"replyMessageClose\">&times;</span>\r\n        </div>\r\n        <div class=\"message-input-area\">\r\n          <input type=\"text\" v-model=\"newMessage\" @keyup.enter=\"sendMessage\" placeholder=\"Type a message...\" />\r\n          <label for=\"file-upload\" class=\"upload-label\">\r\n            <i class=\"bi bi-paperclip\"></i>\r\n          </label>\r\n\r\n          <button @click.stop=\"togglePicker\" class=\"emoji-button\"><i class=\"bi bi-emoji-smile\"></i></button>\r\n\r\n          <!-- Emoji Picker (conditionally rendered) -->\r\n          <div v-if=\"showPicker\" class=\"custom-picker\" ref=\"picker\">\r\n            <EmojiPicker @select=\"onEmojiSelect\" />\r\n          </div>\r\n\r\n          <input type=\"file\" id=\"file-upload\" @change=\"FileUpload\" class=\"file-input\" />\r\n\r\n          <button id=\"send-button\" class=\"bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg font-medium flex items-center justify-center hover:bg-green-800\"\r\n          @click=\"sendChatMessage()\" v-if=\"!replyMessage\">Send</button>\r\n          <button id=\"send-button\" @click=\"sendChatMessageReply()\" v-if=\"replyMessage\">Reply</button>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n      <div v-else class=\"message-input-area flex justify-center text-center\">\r\n\r\n        <h2>Chats are marked as expired 24 hours after the last received customer message.\r\n          <br>WhatsApp allows only template messages to be sent in such chats.\r\n        </h2>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Contact Information -->\r\n    <div class=\"contact-info\">\r\n\r\n      <div class=\"inner-container bg-white p-4 border-radius-4 h-inherit\">\r\n        <h4><i class=\"bi bi-person-vcard\"\r\n            style=\" font-size:18px; color: gray; font-weight: 300; margin-right:2px\"></i><strong> Contact\r\n            Details</strong> </h4>\r\n        <table class=\"contact-table\">\r\n          <tbody>\r\n            <tr>\r\n              <td style=\" color: gray; font-weight: 300;\">Name</td>\r\n              <td>{{ contactInfo.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\" color: gray; font-weight: 300;\">Phone</td>\r\n              <td>{{ contactInfo.phone }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td style=\" color: gray; font-weight: 300;\">Email</td>\r\n              <td>{{ contactInfo.email }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"inner-container bg-white p-4 border-radius-4 h-inherit\">\r\n        <h4><i class=\"bi bi-at\" style=\" color: gray; font-weight: 300; margin-right:2px\"></i><strong>Contact\r\n            Attributes</strong></h4>\r\n        <table class=\"contact-table\">\r\n          <tbody>\r\n            <tr>\r\n              <td style=\" color: gray; font-weight: 300;\">Created at</td>\r\n              <td>{{ contactInfo.created_at }}</td>\r\n            </tr>\r\n<tr v-for=\"(tag, index) in contactInfo.tags\" :key=\"index\">\r\n  <td style=\"color: gray; font-weight: 300;\">{{ tag.split(':')[0] }}</td>\r\n  <td>{{ tag.split(':')[1] }}</td>\r\n</tr>\r\n\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport EmojiPicker from 'vue3-emoji-picker';\r\nimport { toZonedTime } from \"date-fns-tz\";\r\nexport default {\r\n  components: { EmojiPicker },\r\n  name: 'ChatbotView',\r\n\r\n  data() {\r\n    return {\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      \r\n      contextMenuVisible: false,\r\n      contextMenuPosition: { x: 0, y: 0 },\r\n      selectedMessage: null,\r\n      replyMessage: false,\r\n      parsedTemplate: null,\r\n      // Default to first item\r\n      chatStatusFilter: \"\",\r\n      showPicker: false,\r\n      activeChat: [],\r\n      selectedchat: [],\r\n      selectedChatTime: null,\r\n      selectedRemainingTime: null,\r\n      timer: null,\r\n      ActiveWaid: \"\",\r\n      ActiveWaidName: \"\",\r\n      chats: [],\r\n      chatTitle: \"\",\r\n      chatContent: \"\",\r\n      contactInfo: {},\r\n      messages: [],\r\n      newMessage: \"\",\r\n      currentTime: \"\",\r\n      progressSeconds: 0,\r\n      eventSourceA: null,\r\n      eventSourceB: null,\r\n    };\r\n  },\r\n  async mounted() {\r\n    // Add click event listener when component is mounted\r\n    document.addEventListener('click', this.handleClickOutside);\r\n    await this.fetchActiveChatlist();\r\n    // Close context menu on click outside\r\n    document.addEventListener(\"click\", () => {\r\n      this.contextMenuVisible = false;\r\n    });\r\n\r\n  },\r\n\r\n    beforeUnmount() {\r\n    document.removeEventListener('click', this.handleClickOutside);\r\n    // Clean up the EventSource instance\r\n    if (this.eventSourceB) {\r\n      console.log(\"Closing eventSourceB:\", this.eventSourceB);\r\n      this.eventSourceB.close();\r\n      this.eventSourceB = null;\r\n    }\r\n    if (this.eventSourceA) {\r\n      this.eventSourceA.close();\r\n      console.log(\"SSE connection closed on component unmount.\");\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    truncateMessage(message) {\r\n      if (message.length > 60) {\r\n        return `${message.slice(0, 60)} <span style=\"color: gray; cursor: pointer;\">...read more</span>`;\r\n      }\r\n      return message;\r\n    },\r\n\r\n    processMessageContent(content) {\r\n\r\n    console.log(content)\r\n      const templatePrefix = \"#template_message# \";\r\n\r\n      // Check if it's a template message\r\n      if (content.startsWith(templatePrefix)) {\r\n        const templateString = content.replace(templatePrefix, \"\");\r\n        try {\r\n          const parsedTemplate = JSON.parse(templateString);\r\n\r\n          // Validate the template structure\r\n          if (!parsedTemplate.components || !Array.isArray(parsedTemplate.components)) {\r\n            console.error(\"Invalid template structure:\", parsedTemplate);\r\n            return \"<div>Error: Invalid template message structure.</div>\";\r\n          }\r\n\r\n          // Generate the template HTML\r\n          return parsedTemplate.components\r\n            .map((component) => {\r\n\r\n              if (component.type === \"HEADER\") {\r\n                if (component.format === 'TEXT') {\r\n                  return `<strong>${component.text}</strong> `;\r\n                } else if (component.format === 'IMAGE' && component.example?.header_handle) {\r\n                  return `<div style=\"width: auto; height: 200px; overflow: hidden; position: relative; border-radius: 5px\">\r\n                          <img src=\"${component.example.header_handle[0]}\" alt=\"Description of image\" \r\n                          style=\"width: 100%; height: 100%; object-fit: cover; object-position: start; display: block ; border-radius: 4px\">\r\n                          </div>`;\r\n                }\r\n              } else if (component.type === \"BODY\") {\r\n                return `<div class=\"template-body mb-2\">${component.text}</div>`;\r\n              } else if (component.type === \"FOOTER\") {\r\n                return `<div class=\"template-footer text-sm text-gray-500\">${component.text}</div>`;\r\n              } else if (component.type === \"BUTTONS\") {\r\n                return component.buttons.map(button => {\r\n                  if (button.type === 'URL') {\r\n                    return `\r\n      <div style=\"text-align: left; font-size:16px;\">\r\n        <a href=\"${button.url}\" target=\"_blank\" \r\n           style=\"display: inline-flex; align-items: center; \r\n           text-decoration: none; font-weight: bold; color: #007bff; \r\n           border-top: 1px solid #ddd;\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#007bff\" width=\"19\" height=\"19\" viewBox=\"0 0 24 24\" style=\"margin-right: 5px;\">\r\n            <path d=\"M14 3v2h3.586l-8.293 8.293 1.414 1.414 8.293-8.293v3.586h2v-7h-7z\"/>\r\n            <path d=\"M5 5h6v-2h-6c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-6h-2v6h-14v-14z\"/>\r\n          </svg>\r\n          <span style=\"padding: 5px\">${button.text}</span>\r\n        </a>\r\n      </div>`;\r\n                  } else if (button.type === 'REPLY') {\r\n                    return `\r\n      <div style=\"text-align: left;\">\r\n        <button style=\"display: inline-block; margin: 5px 0; padding: 10px 15px; \r\n                       background-color: #007bff; color: white; border: none; \r\n                       border-radius: 20px; cursor: pointer; font-weight: bold;\">\r\n          ${button.text}\r\n        </button>\r\n      </div>`;\r\n                  }\r\n                  return ''; // Default return in case of an unknown button type\r\n                }).join(''); // Join all the HTML strings into one\r\n              }\r\n\r\n\r\n              return \"\";\r\n            })\r\n            .join(\"\");\r\n        } catch (error) {\r\n          console.error(\"Failed to parse template message:\", error);\r\n          return \"<div>Error: Unable to parse template message.</div>\";\r\n        }\r\n      }\r\n\r\n      // Return as plain text for non-template messages\r\n      return `<p>${content}</p>`;\r\n    },\r\n\r\n    replyMessageClose() {\r\n      this.replyMessage = false;\r\n      this, this.selectedMessage = '';\r\n    },\r\n\r\n    showContextMenu(event, message) {\r\n      this.contextMenuVisible = true;\r\n      this.contextMenuPosition = { x: event.clientX, y: event.clientY };\r\n      this.selectedMessage = message;\r\n    },\r\n    replyToMessage() {\r\n      if (this.selectedMessage) {\r\n\r\n        this.replyMessage = true;\r\n\r\n        // Add your reply logic here\r\n        console.log(\"Replying to:\", this.getRepliedMessageContent(this.selectedMessage.message_id));\r\n      }\r\n      this.contextMenuVisible = false;\r\n    },\r\n\r\n\r\n    getRepliedMessageContent(replyToId) {\r\n      if (!Array.isArray(this.selectedchat)) {\r\n        console.error(\"selectedchat is not defined or is not an array\");\r\n        return '';\r\n      }\r\n\r\n      const repliedMessage = this.selectedchat.find(message => message.message_id === replyToId);\r\n\r\n      if (!repliedMessage) {\r\n        console.warn(`Message with ID ${replyToId} not found in selectedchat`);\r\n        return '';\r\n      }\r\n\r\n      return this.processMessageContent(repliedMessage.message_content);\r\n    },\r\n\r\n    shouldShowDate(index) {\r\n      if (index === 0) return true; // Always show the date for the first message\r\n      const currentDate = this.selectedchat[index].timestamp.split('T')[0];\r\n      const previousDate = this.selectedchat[index - 1].timestamp.split('T')[0];\r\n      return currentDate !== previousDate; // Show date separator if the date changes\r\n    },\r\n    formatDate(date) {\r\n      // Format date to a more readable format if needed\r\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n      return new Date(date).toLocaleDateString(undefined, options);\r\n    },\r\n\r\n    FileUpload(event) {\r\n      const file = event.target.files[0];\r\n      console.log('File uploaded:', file);\r\n    },\r\n\r\n    togglePicker() {\r\n      this.showPicker = !this.showPicker;\r\n    },\r\n    handleClickOutside(event) {\r\n      if (this.showPicker && !this.$refs.picker.contains(event.target)) {\r\n        this.showPicker = false; // Hide the picker\r\n      }\r\n    },\r\n\r\n    onEmojiSelect(emoji) {\r\n      if (emoji && emoji.i) {\r\n        this.newMessage += emoji.i; // Append the emoji from the 'i' property\r\n      } else {\r\n        console.error(\"Invalid emoji object:\", emoji);\r\n      }\r\n    },\r\n\r\n    SetChatTime(chatTime) {\r\n\r\n      console.log(chatTime);\r\n      this.selectedChatTime = chatTime;\r\n\r\n      // Convert the chatTime string to a Date object\r\n      const chatDate = new Date(chatTime);\r\n\r\n\r\n\r\n      const TimeZoneChatTime = chatDate;\r\n\r\n\r\n      // Add 24 hours to chatDate\r\n      const EndDate = new Date(TimeZoneChatTime.setHours(TimeZoneChatTime.getHours() + 24));\r\n\r\n\r\n      // Clear any existing timer to avoid multiple intervals\r\n      if (this.timer) {\r\n        clearInterval(this.timer);\r\n      }\r\n\r\n      // Function to update the remaining time\r\n      const updateRemainingTime = () => {\r\n\r\n\r\n        const currentDate = new Date();\r\n        const utcDate = toZonedTime(currentDate, \"UTC\");// Local timezone\r\n\r\n        // console.log(utcDate);\r\n        // console.log(EndDate);\r\n        // Get the current date and time\r\n        const timeDifference = EndDate - utcDate; // Calculate the difference\r\n\r\n        if (timeDifference <= 0) {\r\n          // If time has expired, stop the timer and show \"Chat is expired\"\r\n          clearInterval(this.timer);\r\n          this.selectedRemainingTime = 'Chat is expired';\r\n\r\n          return;\r\n        }\r\n\r\n        // Calculate remaining days, hours, minutes, seconds\r\n\r\n        const minutes = Math.floor((timeDifference / 1000 / 60) % 60);\r\n        const hours = Math.floor((timeDifference / 1000 / 60 / 60) % 24);\r\n        const days = Math.floor(timeDifference / 1000 / 60 / 60 / 24);\r\n\r\n        // Construct remaining time string\r\n        let remainingTime = '';\r\n        if (days > 0) remainingTime += `${days} : `;\r\n        remainingTime += `${String(hours).padStart(2, '0')} : `; // Format hours\r\n        remainingTime += `${String(minutes).padStart(2, '0')}  `; // Format minutes\r\n        this.selectedRemainingTime = remainingTime.trim();\r\n      };\r\n\r\n      // Call the update function immediately to show the initial remaining time\r\n      updateRemainingTime();\r\n\r\n      // Set up the interval to update the remaining time every second\r\n      this.timer = setInterval(updateRemainingTime, 1000);\r\n    },\r\n\r\n    beforeDestroy() {\r\n      // Clear the timer when the component is destroyed to avoid memory leaks\r\n      if (this.timer) {\r\n        clearInterval(this.timer);\r\n      }\r\n    },\r\n\r\n    async fetchActiveChatlist(chatStatusFilter = null) {\r\n      try {\r\n\r\n        if (this.eventSourceB) {\r\n          // Close the previous EventSource connection\r\n          this.eventSourceB.close();\r\n          console.log(\"Previous SSE connection closed.\");\r\n        }\r\n\r\n        const token = localStorage.getItem('token');\r\n\r\n        // Create a new EventSource for receiving SSE\r\n        this.eventSourceB = new EventSource(`${this.apiUrl}/active-conversations?token=${token}`, {\r\n\r\n        });\r\n\r\n        // Listen for events\r\n        this.eventSourceB.onmessage = (event) => {\r\n          const activeChats = JSON.parse(event.data);\r\n\r\n          // Map the received active chat data\r\n          this.activeChat = activeChats.map((activechat) => ({\r\n            message_content: activechat.message_content,\r\n            sender_name: activechat.sender_name,\r\n            business_account_id: activechat.business_account_id,\r\n            active: activechat.active,\r\n            message_id: activechat.message_id,\r\n            id: activechat.id,\r\n            sender_wa_id: activechat.sender_wa_id,\r\n            last_chat_time: activechat.last_chat_time\r\n          })).filter(activechat => {\r\n  if (chatStatusFilter === null || chatStatusFilter === '') {\r\n    // No filter applied, return all items\r\n    return true;\r\n  }\r\n  // Apply the filter based on the value of chatStatusFilter\r\n  return activechat.active == (chatStatusFilter === 'true');\r\n});\r\n\r\n        };\r\n\r\n\r\n\r\n        // Handle connection errors\r\n        this.eventSourceB.onerror = (error) => {\r\n          console.error(\"Unable to fetch active conversations\", error);\r\n          this.eventSourceB.close(); // Close the connection on error\r\n        };\r\n\r\n      } catch (error) {\r\n        console.error(\"Unable to fetch active conversations\");\r\n      }\r\n    },\r\n\r\n    filterChatsByStatus(event) {\r\n      const status = event.target.value;\r\n      this.fetchActiveChatlist(status);\r\n    },\r\n\r\n    async ConversationSSE(wa_id) {\r\n\r\n      this.selectedRemainingTime = null;\r\n      // Check if there's an existing EventSource instance\r\n      if (this.eventSourceA) {\r\n        // Close the previous EventSource connection\r\n        this.eventSourceA.close();\r\n        console.log(\"Previous SSE connection closed.\");\r\n      }\r\n\r\n      // Fetch the token\r\n      const token = localStorage.getItem('token');\r\n\r\n      // Create a new EventSource instance with the new wa_id\r\n      this.eventSourceA = new EventSource(`${this.apiUrl}/sse/conversations/${wa_id}?token=${token}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      await this.ActiveContactDetails(wa_id);\r\n      this.contactInfo.name=this.contactInfo.name?this.contactInfo.name:this.ActiveWaidName\r\n      this.contactInfo.phone=this.contactInfo.phone?this.contactInfo.phone:this.ActiveWaid\r\n      \r\n      // Handle incoming messages\r\n      this.eventSourceA.onmessage = (event) => {\r\n        try {\r\n          // Parse the new conversations data\r\n          const newConversations = JSON.parse(event.data);\r\n\r\n          // Determine if the user is already scrolled to the bottom\r\n          const chatContent = this.$refs.chatContent;\r\n          const isAtBottom = chatContent.scrollHeight - chatContent.scrollTop <= chatContent.clientHeight + 10;\r\n\r\n          this.selectedchat = newConversations;  // Update the UI with the new data\r\n\r\n          // Get the last chat timestamp and call SetChatTime\r\n          if (newConversations.length > 0) {\r\n            // Filter messages to only include those with direction \"received\"\r\n            const receivedMessages = newConversations.filter(\r\n              (message) => message.direction === \"Receive\"\r\n            );\r\n\r\n            if (receivedMessages.length > 0) {\r\n              // Get the last \"received\" message\r\n              const lastReceivedMessage =\r\n                receivedMessages[receivedMessages.length - 1];\r\n\r\n              // Pass its timestamp to SetChatTime\r\n              this.SetChatTime(lastReceivedMessage.timestamp);\r\n            }\r\n          }\r\n\r\n\r\n\r\n          // Only scroll to the bottom if the user is already at (or near) the bottom\r\n          if (isAtBottom) {\r\n            this.scrollToBottom();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error parsing SSE data\", error);\r\n        }\r\n      };\r\n\r\n      // Handle errors\r\n      this.eventSourceA.onerror = (error) => {\r\n        console.error(\"SSE connection error:\", error);\r\n        // You can handle reconnections or notify the user here if needed\r\n      };\r\n\r\n      console.log(\"New SSE connection established.\");\r\n    },\r\n\r\n    // Scroll logic to be called after new data is loaded\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const chatContent = this.$refs.chatContent;\r\n        if (chatContent) {\r\n          chatContent.scrollTop = chatContent.scrollHeight;\r\n        }\r\n      });\r\n    },\r\n\r\n    async ActiveContactDetails(wa_id) {\r\n      this.contactInfo= {};\r\n      const token = localStorage.getItem('token');\r\n\r\n      try {\r\n\r\n        const response = await fetch(`${this.apiUrl}/contacts/${wa_id}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n\r\n        const contact = await response.json()\r\n\r\n        this.contactInfo = contact;\r\n\r\n      } catch (error) {\r\n\r\n        console.error(\"Error fetching contact details:\", error);\r\n\r\n      }\r\n    },\r\n\r\n\r\n    async sendChatMessage() {\r\n\r\n      const message = this.newMessage\r\n      const reciever = this.ActiveWaid\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        const requestBody = {\r\n          wa_id: reciever,\r\n          body: message\r\n        }\r\n\r\n        const response = await fetch(`${this.apiUrl}/send-text-message/`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(requestBody)\r\n\r\n        })\r\n        if (!response.ok) {\r\n          throw new Error(\"Network response not okay\");\r\n        }\r\n        else {\r\n          this.newMessage = \"\";\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(\"Error sending message\")\r\n      }\r\n    },\r\n\r\n    async sendChatMessageReply() {\r\n      const message = this.newMessage\r\n      const reciever = this.ActiveWaid\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        const requestBody = {\r\n          wa_id: reciever,\r\n          body: message,\r\n          context_message_id: this.selectedMessage.message_id\r\n\r\n        }\r\n\r\n        const response = await fetch(`${this.apiUrl}/send-text-message-reply/`, {\r\n          method: \"POST\",\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(requestBody)\r\n\r\n        })\r\n        if (!response.ok) {\r\n          throw new Error(\"Network response not okay\");\r\n        }\r\n        else {\r\n          this.newMessage = \"\";\r\n          this.selectedMessage = '';\r\n          this.replyMessage = false;\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(\"Error sending message\")\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n/* Main container layout */\r\n.custom-context-menu {\r\n  position: absolute;\r\n  background: white;\r\n  border: 1px solid #ccc;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n  z-index: 1000;\r\n  list-style: none;\r\n  padding: 5px 0;\r\n  margin: 0;\r\n  width: 150px;\r\n}\r\n\r\n\r\n\r\n.custom-context-menu ul {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.custom-context-menu li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.custom-context-menu li:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n\r\n.main-container {\r\n  display: flex;\r\n  height: 92.2vh;\r\n  width: 100%;\r\n  background-color: #f4f4f4;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n/* Sidebar styling */\r\n.sidebar {\r\n  width: 20%;\r\n  padding: 15px;\r\n  background-color: #ffffff;\r\n  color: #ffffff;\r\n  overflow-y: auto;\r\n}\r\n\r\n.sidebar h1 {\r\n  color: #000;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.chatType {\r\n  display: flex;\r\n  border-bottom: 1px solid #ccc;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.chat-list {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.chat-list li {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.chat-list a {\r\n  display: block;\r\n  padding: 10px;\r\n  color: #ffffff;\r\n  background-color: #128C7E;\r\n  text-decoration: none;\r\n  border-radius: 5px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.chat-list a:hover {\r\n  background-color: #25D366;\r\n}\r\n\r\n/* Chat area styling */\r\n.chat-area {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #f5f6fa;\r\n  border-left: 1px solid #ddd;\r\n}\r\n\r\n.chat-header {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 65px;\r\n  padding: 10px 30px;\r\n  background-color: #f9f9f9;\r\n  border-bottom: 1px solid #ccc;\r\n  color: #000;\r\n  font-size: 1rem;\r\n  text-align: center;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.chat-content {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n  background-image: url(\"@/assets/chat-bg.jpg\");\r\n  background-size: contain;\r\n  /* Scales the image to fit within the container */\r\n  background-repeat: repeat;\r\n  /* Prevents the image from repeating */\r\n  background-position: center;\r\n  height: calc(100vh - 200px);\r\n}\r\n\r\n.chat-content::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 1);\r\n  /* Set the opacity here */\r\n  z-index: -1;\r\n  /* Keeps the overlay behind the content */\r\n}\r\n\r\n/* Message styling */\r\n.message {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: white;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n  max-width: 60%;\r\n  min-width: 80px;\r\n  width: fit-content;\r\n}\r\n\r\n.sent-message {\r\n  align-self: flex-end;\r\n  margin-left: auto;\r\n  background-color: #dcf8c6;\r\n}\r\n\r\n.messageTime {\r\n  display: flex;\r\n  margin-left: 5px;\r\n  font-size: 12px;\r\n  color: #666;\r\n  align-items: flex-end;\r\n}\r\n\r\n/* Message input area */\r\n.message-input-area {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.message-input-area input[type=\"text\"] {\r\n  flex-grow: 1;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n\r\n\r\n#send-button {\r\n  padding: 10px 15px;\r\n  margin-left: 10px;\r\n  \r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n/* Upload button */\r\n.upload-label {\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n\r\n.upload-label i {\r\n  font-size: 18px;\r\n  color: #666;\r\n}\r\n\r\n.upload-label:hover i {\r\n  color: #25d366;\r\n}\r\n\r\n.file-input {\r\n\r\n  display: none;\r\n\r\n}\r\n\r\n/* Contact information styling */\r\n.contact-info {\r\n  width: 30%;\r\n  padding: 10px;\r\n  padding-top: 13px;\r\n  background-color: #f0f0f0;\r\n  border-left: 1px solid #ddd;\r\n}\r\n\r\n.contact-info h3 {\r\n  margin-top: 0;\r\n}\r\n\r\n.tags {\r\n  margin-top: 20px;\r\n}\r\n\r\n.tags h4 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.tags ul {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.tags ul li {\r\n  display: inline-block;\r\n  margin-bottom: 5px;\r\n  background-color: #128C7E;\r\n  color: white;\r\n  padding: 5px 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.tags ul li button {\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n}\r\n\r\n.tags input {\r\n  padding: 5px;\r\n  margin-top: 10px;\r\n  width: 80%;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n\r\n.tags button {\r\n  padding: 5px 10px;\r\n  background-color: #128C7E;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.tags button:hover {\r\n  background-color: #25D366;\r\n}\r\n\r\n/* Timer styling */\r\n.timer {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 19px 0 15px 0;\r\n  width: inherit;\r\n  margin-right: 10px;\r\n}\r\n\r\n\r\n\r\n.progress-circle {\r\n  fill: none;\r\n  stroke: #4caf50;\r\n  stroke-width: 5;\r\n  transform: rotate(-90deg);\r\n  transform-origin: 50% 50%;\r\n}\r\n\r\n/* Contact table styling */\r\n.contact-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 10px;\r\n}\r\n\r\n.contact-table th,\r\n.contact-table td {\r\n\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\n.contact-table th {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n/* Mobile responsiveness */\r\n@media (max-width: 768px) {\r\n  .sidebar {\r\n    width: 100%;\r\n  }\r\n\r\n  .chat-area,\r\n  .contact-info {\r\n    width: 100%;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .chat-area {\r\n    order: 2;\r\n  }\r\n\r\n  .contact-info {\r\n    order: 1;\r\n\r\n  }\r\n\r\n  .main-container {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style>","import { render } from \"./chatbotview.vue?vue&type=template&id=195e9b68&scoped=true\"\nimport script from \"./chatbotview.vue?vue&type=script&lang=js\"\nexport * from \"./chatbotview.vue?vue&type=script&lang=js\"\n\nimport \"./chatbotview.vue?vue&type=style&index=0&id=195e9b68&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-195e9b68\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"content-section m-8 md:ml-72\">\r\n\r\n      <div class=\"rounded-lg mb-4 rounded-[14px] bg-white border border-[#cccccc]\">\r\n        <CostSummary />\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-[45%_54%] gap-4\">\r\n        <!-- Left Grid -->\r\n        <div class=\"bg-white rounded-lg rounded-[14px] border border-[#cccccc]\">\r\n          <CostBarChart/>\r\n        </div>\r\n      \r\n        <!-- Right Grid -->\r\n        <div class=\"bg-white rounded-lg rounded-[14px] border border-[#cccccc]\">\r\n          <PurchaseHistory/>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport CostSummary from \"./costSummary.vue\";\r\nimport CostBarChart from \"./costBarChart.vue\";\r\nimport PurchaseHistory from \"./PurchaseHistory.vue\";\r\n\r\nexport default {\r\n  components:{\r\n      CostSummary,CostBarChart,PurchaseHistory\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n\r\n/* Custom scrollbar for table overflow */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n    width: 10px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n}\r\n\r\n/* Responsive Table Styles */\r\n@media (max-width: 768px) {\r\n    table thead {\r\n        display: none;\r\n    }\r\n\r\n    table tbody tr {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-bottom: 20px;\r\n        border-bottom: 2px solid #ddd;\r\n    }\r\n\r\n    table tbody tr td {\r\n        display: block;\r\n        text-align: right;\r\n        position: relative;\r\n        padding-left: 50%;\r\n    }\r\n\r\n    table tbody tr td::before {\r\n        content: attr(data-label);\r\n        position: absolute;\r\n        left: 0;\r\n        padding-left: 10px;\r\n        font-weight: bold;\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"cost-summary\">\r\n      <h2 class=\"title\">Cost Summary <span class=\"info\">Info</span></h2>\r\n  \r\n      <div class=\"grid-container\">\r\n        <!-- Left Top: Month-to-date cost -->\r\n        <div class=\"grid-item\">\r\n          <h3>Month-to-date cost</h3>\r\n          <p class=\"cost\"><u>₹{{ monthToDateCost }}</u></p>\r\n          <p class=\"change\">\r\n            <span :class=\"monthToDateChangeClass\">{{ monthToDateChange }}</span>% compared to last month for same period\r\n          </p>\r\n        </div>\r\n  \r\n        <!-- Right Top: Last month's cost for same period -->\r\n        <div class=\"grid-item\">\r\n          <h3>Last month’s cost for same time period</h3>\r\n          <p class=\"cost\"><u>₹{{ lastMonthSamePeriodCost }}</u></p>\r\n          <p class=\"date-range\">{{ lastMonthDateRange }}</p>\r\n        </div>\r\n  \r\n        <!-- Left Bottom: Forecasted cost -->\r\n        <div class=\"grid-item\">\r\n          <h3>Total forecasted cost for current month</h3>\r\n          <p class=\"cost\"><u>₹{{ forecastedCost }}</u></p>\r\n          <p class=\"change\">\r\n            <span :class=\"forecastChangeClass\">{{ forecastChange }}</span>% compared to last month's total costs\r\n          </p>\r\n        </div>\r\n  \r\n        <!-- Right Bottom: Last month's total cost -->\r\n        <div class=\"grid-item\">\r\n          <h3>Last month’s total cost</h3>\r\n          <p class=\"cost\"><u>₹{{ lastMonthTotalCost }}</u></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n\r\n      monthToDateCost: 0,\r\n      monthToDateChange: \"\",\r\n      monthToDateChangeClass: \"\",\r\n      lastMonthSamePeriodCost: 0,\r\n      lastMonthDateRange: \"\",\r\n      forecastedCost: 0,\r\n      forecastChange: \"\",\r\n      forecastChangeClass: \"\",\r\n      lastMonthTotalCost: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchAnalyticsData() {\r\n      try {\r\n        const response = await axios.get(`${this.apiUrl}/conversation-cost-history/`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n\r\n        console.log(\"Raw API Response:\", response.data); // Debugging Step\r\n\r\n        const data = response.data.conversation_analytics;\r\n        if (!data || data.length === 0) {\r\n          console.warn(\"No conversation data available.\");\r\n          return;\r\n        }\r\n\r\n        this.processData(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching analytics:\", error);\r\n      }\r\n    },\r\n\r\n    processData(data) {\r\n      const currentMonth = dayjs().format(\"YYYY-MM\"); // e.g., \"2025-03\"\r\n      const lastMonth = dayjs().subtract(1, \"month\").format(\"YYYY-MM\"); // e.g., \"2025-02\"\r\n      const today = dayjs().date(); // Get today's day in the month\r\n\r\n      let monthToDateCost = 0;\r\n      let lastMonthSamePeriodCost = 0;\r\n      let lastMonthTotalCost = 0;\r\n      let totalDaysLastMonth = dayjs().subtract(1, \"month\").daysInMonth();\r\n\r\n      data.forEach((entry) => {\r\n        const entryMonth = dayjs(entry.start_time).format(\"YYYY-MM\");\r\n        const entryDay = dayjs(entry.start_time).date();\r\n\r\n        if (entryMonth === currentMonth) {\r\n          monthToDateCost += entry.cost;\r\n        }\r\n        if (entryMonth === lastMonth) {\r\n          lastMonthTotalCost += entry.cost;\r\n          if (entryDay <= today) {\r\n            lastMonthSamePeriodCost += entry.cost;\r\n          }\r\n        }\r\n      });\r\n\r\n\r\n\r\n      this.monthToDateCost = parseFloat(monthToDateCost.toFixed(2));\r\nthis.lastMonthSamePeriodCost = parseFloat(lastMonthSamePeriodCost.toFixed(2));\r\nthis.lastMonthTotalCost = parseFloat(lastMonthTotalCost.toFixed(2));\r\nthis.monthToDateChange = parseFloat(((monthToDateCost - lastMonthSamePeriodCost) / (lastMonthSamePeriodCost || 1) * 100).toFixed(2));\r\nthis.forecastedCost = parseFloat(((monthToDateCost / today) * totalDaysLastMonth).toFixed(2));\r\nthis.forecastChange = parseFloat(((this.forecastedCost - lastMonthTotalCost) / (lastMonthTotalCost || 1) * 100).toFixed(2));\r\nthis.forecastChangeClass = data.forecast_change > 0 ? \"up\" : \"down\";\r\nthis.monthToDateChangeClass = monthToDateCost > lastMonthSamePeriodCost ? \"up\" : \"down\";\r\n// Log AFTER updating values\r\nconsole.log(\"Processed Summary Data:\", {\r\n  monthToDateCost: this.monthToDateCost,\r\n  monthToDateChange: this.monthToDateChange,\r\n  lastMonthSamePeriodCost: this.lastMonthSamePeriodCost,\r\n  lastMonthTotalCost: this.lastMonthTotalCost,\r\n  forecastedCost: this.forecastedCost,\r\n  forecastChange: this.forecastChange,\r\n});\r\n\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchAnalyticsData();\r\n  },\r\n};\r\n</script>\r\n\r\n  \r\n  \r\n  \r\n  <style scoped>\r\n  .cost-summary {\r\n    padding: 20px;\r\n    font-family: Arial, sans-serif;\r\n\r\n  }\r\n  .title {\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    color:black;\r\n  }\r\n  .info {\r\n    font-size: 0.9rem;\r\n    color: #1a73e8;\r\n    cursor: pointer;\r\n  }\r\n  .grid-container {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    gap: 15px;\r\n  }\r\n  .grid-item {\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n  }\r\n  .cost {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #1a73e8;\r\n  }\r\n  .change {\r\n    font-size: 0.9rem;\r\n  }\r\n  .up {\r\n    color: green;\r\n  }\r\n  .down {\r\n    color: red;\r\n  }\r\n  .date-range {\r\n    font-size: 0.8rem;\r\n    color: gray;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./costSummary.vue?vue&type=template&id=19379b48&scoped=true\"\nimport script from \"./costSummary.vue?vue&type=script&lang=js\"\nexport * from \"./costSummary.vue?vue&type=script&lang=js\"\n\nimport \"./costSummary.vue?vue&type=style&index=0&id=19379b48&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19379b48\"]])\n\nexport default __exports__","<template>\r\n\r\n    <div class=\"cost-summary\">\r\n        <h2 class=\"title\">Cost Breakdown <span class=\"info\">Info</span></h2>\r\n        <canvas ref=\"chartCanvas\"></canvas>\r\n    </div>\r\n\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n    Chart,\r\n    BarController,\r\n    BarElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from \"chart.js\";\r\n\r\n\r\n// Register Chart.js components\r\nChart.register(BarController, BarElement, CategoryScale, LinearScale, Title, Tooltip, Legend);\r\n\r\nexport default {\r\n\r\n\r\n\r\n    setup() {\r\n        const chartCanvas = ref(null);\r\n        let chartInstance = null;\r\n        const apiUrl = process.env.VUE_APP_API_URL ||import.meta.env.VITE_API_URL ;\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await axios.get(`${apiUrl}/conversation-cost-history/`, {\r\n                    headers: {\r\n                        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n                    },\r\n                });\r\n\r\n                console.log(\"API Response:\", response.data);\r\n\r\n                const data = response.data.conversation_analytics;\r\n                const monthlyData = {};\r\n\r\n                // Process and aggregate data\r\n                data.forEach((item) => {\r\n                    const date = new Date(item.start_time);\r\n                    const month = date.toLocaleString(\"default\", { month: \"short\", year: \"numeric\" }); // \"Mar 2025\"\r\n\r\n                    if (!monthlyData[month]) {\r\n                        monthlyData[month] = { MARKETING: 0, UTILITY: 0 };\r\n                    }\r\n                    monthlyData[month][item.conversation_category] += item.cost;\r\n                });\r\n\r\n                console.log(\"Processed Monthly Data:\", monthlyData);\r\n\r\n                // Sort months correctly\r\n                const sortedMonths = Object.keys(monthlyData)\r\n                    .map((month) => ({ month, date: new Date(month) }))\r\n                    .sort((a, b) => a.date - b.date)\r\n                    .map((entry) => entry.month);\r\n\r\n                // Keep only the last 4 months\r\n                const latestMonths = sortedMonths.slice(-4);\r\n\r\n                // Extract data for datasets\r\n                const marketingData = latestMonths.map((month) => monthlyData[month]?.MARKETING || 0);\r\n                const utilityData = latestMonths.map((month) => monthlyData[month]?.UTILITY || 0);\r\n\r\n                // Render the chart\r\n                renderChart(latestMonths, marketingData, utilityData);\r\n            } catch (error) {\r\n                console.error(\"Error fetching data:\", error);\r\n            }\r\n        };\r\n\r\n        const renderChart = (labels, marketingData, utilityData) => {\r\n            if (chartInstance) {\r\n                chartInstance.destroy(); // Destroy previous chart instance if exists\r\n            }\r\n\r\n            const ctx = chartCanvas.value.getContext(\"2d\");\r\n\r\n            chartInstance = new Chart(ctx, {\r\n                type: \"bar\",\r\n                data: {\r\n                    labels: labels,\r\n                    datasets: [\r\n                        {\r\n                            label: \"Marketing\",\r\n                            backgroundColor: \"#7B61FF\",\r\n                            data: marketingData,\r\n                            stack: \"stack1\",\r\n                        },\r\n                        {\r\n                            label: \"Utility\",\r\n                            backgroundColor: \"red\",\r\n                            data: utilityData,\r\n                            stack: \"stack1\",\r\n                        },\r\n                    ],\r\n                },\r\n                options: {\r\n                    responsive: true,\r\n                    plugins: {\r\n                        legend: { display: true },\r\n                        title: { display: true, text: \"Cost Breakdown (Last 4 Months)\" },\r\n                    },\r\n                    scales: {\r\n                        x: {\r\n                            grid: {\r\n                                display: false, // Remove vertical grid lines\r\n                            },\r\n                            stacked: true,\r\n                        },\r\n                        y: {\r\n                            grid: {\r\n                                drawBorder: false,\r\n                                drawTicks: false,\r\n                                color: function (context) {\r\n                                    return context.tick.value === 0 ? \"transparent\" : \"#cccccc\"; // Show only horizontal lines\r\n                                },\r\n                            },\r\n                            stacked: true,\r\n                        },\r\n                    },\r\n                    elements: {\r\n                        bar: {\r\n                            barThickness: 20,\r\n                        },\r\n                    },\r\n                },\r\n            });\r\n        };\r\n\r\n\r\n\r\n        onMounted(fetchData);\r\n\r\n        return { chartCanvas };\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n<style scoped>\r\n.cost-summary {\r\n    padding: 20px;\r\n    font-family: Arial, sans-serif;\r\n\r\n}\r\n\r\n.title {\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n    color: black;\r\n}\r\n\r\n.info {\r\n    font-size: 0.9rem;\r\n    color: #1486ff;\r\n    cursor: pointer;\r\n}\r\n\r\n.chart-container {\r\n    width: 30%;\r\n\r\n}\r\n\r\n/* Custom scrollbar for table overflow */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n    width: 10px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n}\r\n\r\n/* Responsive Table Styles */\r\n@media (max-width: 768px) {\r\n    table thead {\r\n        display: none;\r\n    }\r\n\r\n    table tbody tr {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-bottom: 20px;\r\n        border-bottom: 2px solid #ddd;\r\n    }\r\n\r\n    table tbody tr td {\r\n        display: block;\r\n        text-align: right;\r\n        position: relative;\r\n        padding-left: 50%;\r\n    }\r\n\r\n    table tbody tr td::before {\r\n        content: attr(data-label);\r\n        position: absolute;\r\n        left: 0;\r\n        padding-left: 10px;\r\n        font-weight: bold;\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./costBarChart.vue?vue&type=template&id=2cc4a990&scoped=true\"\nimport script from \"./costBarChart.vue?vue&type=script&lang=js\"\nexport * from \"./costBarChart.vue?vue&type=script&lang=js\"\n\nimport \"./costBarChart.vue?vue&type=style&index=0&id=2cc4a990&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2cc4a990\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"cost-summary\">\r\n    <h2 class=\"title\">Transactions <span class=\"info\">Info</span></h2>\r\n    <div class=\"overflow-x-auto max-h-[33vh] custom-scrollbar\">\r\n      <table class=\"w-full rounded-lg border-collapse\">\r\n          <thead>\r\n            <tr class=\"bg-[#fff] text-center\">\r\n              <th class=\"p-2 text-left md:p-4 border-b-2 bg-[#fff] sticky top-0\">Start Time</th>\r\n              <th class=\"p-2 text-left md:p-4 border-b-2 bg-[#fff] sticky top-0\">End Time</th>\r\n              <th class=\"p-2 text-left md:p-4 border-b-2 bg-[#fff] sticky top-0\">Conversation Type</th>\r\n              <th class=\"p-2 text-left md:p-4 border-b-2 bg-[#fff] sticky top-0\">Conversation Category</th>\r\n              <th class=\"p-2 text-left md:p-4 border-b-2 bg-[#fff] sticky top-0\">Cost</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"bg-white\">\r\n            <tr v-for=\"(item, index) in sortedAnalyticsData\" :key=\"index\" class=\"text-center\">\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-left\">{{ item.start_time }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-left\">{{ item.end_time }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-left\">{{ item.conversation_type }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-left\">{{ item.conversation_category }}</td>\r\n              <td class=\"border-[#ddd] p-2 md:p-4 text-left\">{{ item.cost }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n\r\n      selectedMonth: '',\r\n      currentMonthStartDate: '',\r\n      localUser: {\r\n        whatsapp_business_id: '',\r\n      },\r\n      analyticsData: [], // Holds the conversation data\r\n      loading: true, // Loading indicator\r\n      error: null, // Error message if any\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.fetchUserDetails();\r\n\r\n    const today = new Date();\r\n    const startOfMonth = new Date(today.getFullYear(), today.getMonth(), 1);\r\n    const endOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);\r\n\r\n    // Format dates as YYYY-MM-DD\r\n    this.currentMonthStartDate = startOfMonth.toISOString().split(\"T\")[0];\r\n    this.currentMonthEndDate = endOfMonth.toISOString().split(\"T\")[0];\r\n\r\n    // Fetch data for the current month\r\n    await this.fetchConversationHistory(\r\n      this.currentMonthStartDate,\r\n      this.currentMonthEndDate\r\n    );\r\n  \r\n  },\r\n  computed: {\r\n    // Computed property to return a sorted copy of analyticsData in descending order of start_time\r\n    sortedAnalyticsData() {\r\n      return [...this.analyticsData].sort((a, b) => new Date(b.start_time) - new Date(a.start_time));\r\n    },\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    async onMonthChange() {\r\n      if (!this.selectedMonth) return;\r\n\r\n      // Get the start and end dates for the selected month\r\n      const [year, month] = this.selectedMonth.split('-');\r\n      const startDate = new Date(year, month - 1, 1).toISOString().split('T')[0];\r\n      const endDate = new Date(year, month, 0).toISOString().split('T')[0];\r\n\r\n      // Fetch data for the selected month\r\n      await this.fetchConversationHistory(startDate, endDate);\r\n    },\r\n    async fetchUserDetails() {\r\n      try {\r\n        const response = await fetch(`${this.apiUrl}/user`, {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch user details');\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log(data);\r\n        this.localUser.whatsapp_business_id = data['Whatsapp_Business_Id'];\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n      }\r\n    },\r\n    async fetchConversationHistory(startDate, endDate) {\r\n  try {\r\n    const response = await fetch(\r\n      `${this.apiUrl}/conversation-cost-history/?start_date=${startDate}&end_date=${endDate}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    this.analyticsData = data.conversation_analytics;\r\n    this.loading = false;\r\n  } catch (err) {\r\n    this.error = err.message || 'Failed to fetch data';\r\n    this.loading = false;\r\n  }\r\n},\r\n    goToDashboard() {\r\n      this.$router.push('/dashboard');\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cost-summary {\r\n  padding: 20px;\r\n  font-family: Arial, sans-serif;\r\n\r\n}\r\n\r\n.title {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: black;\r\n}\r\n\r\n.info {\r\n  font-size: 0.9rem;\r\n  color: #1486ff;\r\n  cursor: pointer;\r\n}\r\n/* Custom scrollbar for table overflow */\r\n.custom-scrollbar::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n}\r\n\r\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n\r\n/* Responsive Table Styles */\r\n@media (max-width: 768px) {\r\n  table thead {\r\n    display: none;\r\n  }\r\n\r\n  table tbody tr {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 20px;\r\n    border-bottom: 2px solid #ddd;\r\n  }\r\n\r\n  table tbody tr td {\r\n    display: block;\r\n    text-align: right;\r\n    position: relative;\r\n    padding-left: 50%;\r\n  }\r\n\r\n  table tbody tr td::before {\r\n    content: attr(data-label);\r\n    position: absolute;\r\n    left: 0;\r\n    padding-left: 10px;\r\n    font-weight: bold;\r\n    text-transform: uppercase;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./PurchaseHistory.vue?vue&type=template&id=9253a6c6&scoped=true\"\nimport script from \"./PurchaseHistory.vue?vue&type=script&lang=js\"\nexport * from \"./PurchaseHistory.vue?vue&type=script&lang=js\"\n\nimport \"./PurchaseHistory.vue?vue&type=style&index=0&id=9253a6c6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9253a6c6\"]])\n\nexport default __exports__","import { render } from \"./CostDashboard.vue?vue&type=template&id=0dd50add&scoped=true\"\nimport script from \"./CostDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./CostDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./CostDashboard.vue?vue&type=style&index=0&id=0dd50add&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0dd50add\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-section m-8 md:ml-72\">\r\n    <div class=\"bg-white rounded-lg rounded-[14px] border border-[#cccccc] max-w-[800px] p-4\">\r\n\r\n      <div class=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 class=\"title\">Conversations <span class=\"info\">Info</span></h2>\r\n        </div>\r\n\r\n        <!-- <label>Start Date: <input type=\"date\" v-model=\"startDate\" /></label>\r\n        <label>End Date: <input type=\"date\" v-model=\"endDate\" /></label> -->\r\n\r\n        <div class=\"flex items-center ml-auto justify-end\">\r\n          <el-date-picker v-model=\"dateRange\" type=\"daterange\" range-separator=\"to\" start-placeholder=\"Start date\"\r\n            end-placeholder=\"End date\" value-format=\"YYYY-MM-DD\" @change=\"updateDates\"  class=\"max-w-[100%] mr-2 \"/>\r\n\r\n          <button @click=\"fetchAnalyticsData\"\r\n          class=\"relative h-auto w-auto p-1 text-[15px]  border-solid  text-white  bg-blue-500 hover:bg-blue-700\">Apply</button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n      <canvas ref=\"analyticsChart\"></canvas>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Chart from 'chart.js/auto';\r\nimport \"element-plus/dist/index.css\";\r\n\r\nexport default {\r\n  name: \"dataAnalytics\",\r\n  data() {\r\n    return {\r\n\r\n      apiUrl: process.env.VUE_APP_API_URL,\r\n      dateRange: [],\r\n      startDate: '',\r\n      endDate: '',\r\n      analyticsData: null,\r\n      error: null,\r\n      loading: false,\r\n      chart: null,\r\n      chartLabels: [],\r\n      chartData: {\r\n        sent: [],\r\n        delivered: []\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    // Get today's date\r\n    const today = new Date();\r\n    this.endDate = today.toISOString().split(\"T\")[0]; // Format as YYYY-MM-DD\r\n\r\n    // Get date 7 days ago\r\n    const lastWeek = new Date();\r\n    lastWeek.setDate(today.getDate() - 7);\r\n    this.startDate = lastWeek.toISOString().split(\"T\")[0];// Format as YYYY-MM-DD\r\n\r\n    this.fetchAnalyticsData();\r\n    this.renderChart();\r\n  },\r\n  methods: {\r\n\r\n    updateDates() {\r\n      this.startDate = this.dateRange ? this.dateRange[0] : null;\r\n      this.endDate = this.dateRange ? this.dateRange[1] : null;\r\n    },\r\n    fetchAnalyticsData() {\r\n      if (!this.startDate || !this.endDate) {\r\n        this.error = \"Start and end dates are required.\";\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      this.error = null;\r\n      this.chartLabels = [];\r\n      this.chartData = {\r\n        sent: [],\r\n        delivered: []\r\n      };\r\n\r\n      const url = `${this.apiUrl}/get-analytics?start=${this.startDate}&end=${this.endDate}`;\r\n\r\n      fetch(url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}` // Example for auth token\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (!res.ok) throw new Error(\"Failed to fetch analytics\");\r\n          return res.json();\r\n        })\r\n        .then(data => {\r\n          this.analyticsData = data;\r\n\r\n          const rawData = data.analytics?.data_points || [];\r\n          if (rawData.length === 0) {\r\n            this.error = \"No analytics data found.\";\r\n            return;\r\n          }\r\n\r\n          let sampledData = rawData;\r\n\r\n          // If we have more than 10 data points, sample them evenly\r\n          if (rawData.length > 10) {\r\n            const interval = Math.ceil(rawData.length / 10);\r\n            sampledData = rawData.filter((_, index) => index % interval === 0);\r\n          }\r\n\r\n          sampledData.forEach(item => {\r\n            const date = new Date(item.start * 1000);\r\n            const formattedDate = date.toLocaleDateString('en-IN', { day: '2-digit', month: 'short' }); // Example: \"20 Mar\"\r\n            this.chartLabels.push(formattedDate);\r\n            this.chartData.sent.push(item.sent || 0);\r\n            this.chartData.delivered.push(item.delivered || 0);\r\n          });\r\n          // rawData.forEach(item => {\r\n          //   const date = new Date(item.start * 1000);\r\n          //   const formattedDate = date.toLocaleDateString('en-IN', { day: '2-digit', month: 'short' }); // e.g., \"20 Mar\"\r\n          //   this.chartLabels.push(formattedDate);\r\n          //   this.sentData.push(item.sent);\r\n          //   this.deliveredData.push(item.delivered);\r\n          // });\r\n\r\n          this.renderChart();\r\n        })\r\n        .catch(err => {\r\n          this.error = err.message;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    renderChart() {\r\n      const ctx = this.$refs.analyticsChart;\r\n\r\n      if (this.chart) {\r\n        this.chart.destroy();\r\n      }\r\n\r\n      this.chart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n          labels: this.chartLabels,\r\n          datasets: [\r\n            {\r\n              label: 'not delivered',\r\n              data: this.chartData.sent.map((val, index) => val - this.chartData.delivered[index]),\r\n              borderColor: 'Red',\r\n              backgroundColor: 'rgba(123, 97, 255, 0.2)',\r\n              borderDash: [5, 5],\r\n              tension: 0\r\n            },\r\n            {\r\n              label: 'Sent',\r\n              data: this.chartData.sent,\r\n              borderColor: '#7B61FF',\r\n              backgroundColor: 'rgba(123, 97, 255, 0.2)',\r\n              borderDash: [],\r\n              tension: 0\r\n            },\r\n            {\r\n              label: 'Delivered',\r\n              data: this.chartData.delivered,\r\n              borderColor: '#00C2D7',\r\n              backgroundColor: 'rgba(0, 194, 215, 0.2)',\r\n              borderDash: [5, 5],\r\n              tension: 0\r\n            }\r\n          ]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          plugins: {\r\n            legend: {\r\n              position: 'top'\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: 'All Conversations (Sent & Delivered)'\r\n            }\r\n          },\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true,\r\n              title: {\r\n                display: true,\r\n                text: 'Messages'\r\n              }\r\n            },\r\n            x: {\r\n              title: {\r\n                display: true,\r\n                text: 'Date'\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: black;\r\n}\r\n\r\n.info {\r\n  font-size: 0.9rem;\r\n  color: #1486ff;\r\n  cursor: pointer;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  margin-top: 10px;\r\n}\r\n\r\ncanvas {\r\n  max-width: 100%;\r\n  margin-top: 30px;\r\n}\r\n</style>\r\n","import { render } from \"./Analytics.vue?vue&type=template&id=525acc5c&scoped=true\"\nimport script from \"./Analytics.vue?vue&type=script&lang=js\"\nexport * from \"./Analytics.vue?vue&type=script&lang=js\"\n\nimport \"./Analytics.vue?vue&type=style&index=0&id=525acc5c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-525acc5c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"page-container\">\r\n    <header class=\"header\">\r\n      <!-- You can link back to your login page or home page here -->\r\n      <router-link to=\"/\" class=\"logo-link\">\r\n        <img\r\n          src=\"/path/to/your/wotnot-logo.svg\"\r\n          alt=\"WotNot Logo\"\r\n          class=\"logo-icon\"\r\n        />\r\n        <span class=\"logo-text\">WotNot</span>\r\n      </router-link>\r\n    </header>\r\n\r\n    <main class=\"content-wrapper\">\r\n      <div class=\"content-card\">\r\n        <h1 id=\"terms-and-conditions\">Terms and Conditions</h1>\r\n        <p class=\"last-updated\">Last updated: May 25, 2025</p>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>1. Introduction</h2>\r\n          <p>\r\n            Welcome to WotNot! These Terms and Conditions (\"Terms\") govern your\r\n            use of the WotNot website and any related services provided by us.\r\n            By accessing or using our Service, you agree to be bound by these\r\n            Terms. If you disagree with any part of the terms, then you may not\r\n            access the Service.\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>2. Account Terms</h2>\r\n          <ul>\r\n            <li>You must be at least 18 years old to use this Service.</li>\r\n            <li>\r\n              You are responsible for maintaining the security of your account\r\n              and password.\r\n            </li>\r\n            <li>\r\n              You agree to provide true, accurate, current, and complete\r\n              information when registering for an account.\r\n            </li>\r\n            <li>\r\n              You may not use the Service for any illegal or unauthorized\r\n              purpose.\r\n            </li>\r\n          </ul>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>3. Intellectual Property</h2>\r\n          <p>\r\n            The Service and its original content, features, and functionality\r\n            are and will remain the exclusive property of WotNot and its\r\n            licensors. Our trademarks and trade dress may not be used in\r\n            connection with any product or service without the prior written\r\n            consent of WotNot.\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>4. Termination</h2>\r\n          <p>\r\n            We may terminate or suspend your account immediately, without prior\r\n            notice or liability, for any reason whatsoever, including without\r\n            limitation if you breach the Terms. Upon termination, your right to\r\n            use the Service will immediately cease.\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>5. Governing Law</h2>\r\n          <p>\r\n            These Terms shall be governed and construed in accordance with the\r\n            laws of [Your Country/State], without regard to its conflict of law\r\n            provisions.\r\n          </p>\r\n        </section>\r\n\r\n        <hr class=\"section-divider\" />\r\n\r\n        <h1 id=\"privacy-policy\">Privacy Policy</h1>\r\n        <p class=\"last-updated\">Last updated: May 25, 2025</p>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>1. Introduction</h2>\r\n          <p>\r\n            Your privacy is important to us. This Privacy Policy describes how\r\n            WotNot (\"we,\" \"us,\" or \"our\") collects, uses, and discloses your\r\n            personal information when you use our website (the \"Service\").\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>2. Information We Collect</h2>\r\n          <h3>Personal Information:</h3>\r\n          <p>\r\n            When you register for an account or interact with our Service, we\r\n            may collect personally identifiable information, such as:\r\n          </p>\r\n          <ul>\r\n            <li>Email address</li>\r\n            <li>Name (optional, if collected)</li>\r\n            <li>Password (stored securely, typically as a hash)</li>\r\n          </ul>\r\n          <h3>Usage Data:</h3>\r\n          <p>\r\n            We may also collect information that your browser sends whenever you\r\n            visit our Service (\"Usage Data\"). This Usage Data may include\r\n            information such as your computer's Internet Protocol address (e.g.,\r\n            IP address), browser type, browser version, the pages of our Service\r\n            that you visit, the time and date of your visit, the time spent on\r\n            those pages, unique device identifiers, and other diagnostic data.\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>3. How We Use Your Information</h2>\r\n          <p>WotNot uses the collected data for various purposes:</p>\r\n          <ul>\r\n            <li>To provide and maintain the Service</li>\r\n            <li>To notify you about changes to our Service</li>\r\n            <li>\r\n              To allow you to participate in interactive features of our Service\r\n              when you choose to do so\r\n            </li>\r\n            <li>To provide customer support</li>\r\n            <li>To monitor the usage of the Service</li>\r\n            <li>To detect, prevent, and address technical issues</li>\r\n          </ul>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>4. Disclosure of Your Information</h2>\r\n          <p>\r\n            We may share your information with trusted third parties who assist\r\n            us in operating our website, conducting our business, or serving our\r\n            users, so long as those parties agree to keep this information\r\n            confidential. We may also release your information when we believe\r\n            release is appropriate to comply with the law, enforce our site\r\n            policies, or protect ours or others' rights, property, or safety.\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>5. Your Data Protection Rights</h2>\r\n          <p>\r\n            Depending on your location, you may have the following data\r\n            protection rights:\r\n          </p>\r\n          <ul>\r\n            <li>\r\n              The right to access, update, or delete the information we have on\r\n              you.\r\n            </li>\r\n            <li>The right of rectification.</li>\r\n            <li>The right to object.</li>\r\n            <li>The right of restriction.</li>\r\n            <li>The right to data portability.</li>\r\n            <li>The right to withdraw consent.</li>\r\n          </ul>\r\n          <p>\r\n            To exercise any of these rights, please contact us at [Your Contact\r\n            Email Address].\r\n          </p>\r\n        </section>\r\n\r\n        <section class=\"section-content\">\r\n          <h2>6. Changes to This Privacy Policy</h2>\r\n          <p>\r\n            We may update our Privacy Policy from time to time. We will notify\r\n            you of any changes by posting the new Privacy Policy on this page.\r\n            You are advised to review this Privacy Policy periodically for any\r\n            changes.\r\n          </p>\r\n        </section>\r\n\r\n        <div class=\"back-link\">\r\n          <!-- Link back to your login page or home page -->\r\n          <router-link to=\"/\" class=\"button\">Back to Login</router-link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TermsAndPrivacy\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Define your color variables based on the WotNot image */\r\n:root {\r\n  --primary-green: #38a169; /* Based on the login button/logo */\r\n  --dark-text: #2d3748; /* Dark grey for text */\r\n  --light-grey-background: #f7fafc; /* Very subtle off-white background */\r\n  --border-color: #e2e8f0; /* Subtle border for elements */\r\n  --shadow-color: rgba(0, 0, 0, 0.08); /* Slightly more pronounced shadow */\r\n  --light-text-color: #6b7280; /* For less emphasized text like date */\r\n}\r\n\r\n.page-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* Crucial change: Set height to 100% or 100vh */\r\n  height: 100vh; /* Use 100vh to ensure it fills the viewport exactly */\r\n  /* OR height: 100%; IF html, body, and #app are also height: 100% */\r\n\r\n  background-color: var(--light-grey-background);\r\n  font-family: \"Inter\", \"Helvetica Neue\", Arial, sans-serif;\r\n  color: var(--dark-text);\r\n  line-height: 1.7;\r\n  font-size: 16px;\r\n  /* If you don't want the global scrollbar, you can hide overflow here, \r\n       but ensure your content-wrapper is scrollable. */\r\n  overflow: hidden; /* Hides global scrollbar, forces inner scroll */\r\n}\r\n\r\n.header {\r\n  padding: 20px 40px;\r\n  border-bottom: 1px solid var(--border-color);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  background-color: white;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n  flex-shrink: 0; /* Prevents header from shrinking */\r\n}\r\n\r\n.logo-link {\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  color: var(--dark-text);\r\n}\r\n\r\n.logo-icon {\r\n  height: 30px;\r\n  width: auto;\r\n  margin-right: 10px;\r\n}\r\n\r\n.logo-text {\r\n  font-weight: 700;\r\n  font-size: 1.5rem;\r\n  color: var(--primary-green);\r\n}\r\n\r\n.content-wrapper {\r\n  flex-grow: 1; /* Takes available vertical space */\r\n  display: flex;\r\n  justify-content: center;\r\n  /* Crucial change: align-items to flex-start allows content to overflow vertically */\r\n  align-items: flex-start; /* Ensures content starts from the top within the flex container */\r\n  padding: 50px 20px;\r\n  overflow-y: auto; /* This makes the content-wrapper scrollable */\r\n  /* Add scrollbar styling for better aesthetics if needed */\r\n  scrollbar-width: thin; /* Firefox */\r\n  scrollbar-color: var(--primary-green) var(--light-grey-background); /* Firefox */\r\n}\r\n\r\n/* For Webkit browsers (Chrome, Safari) */\r\n.content-wrapper::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.content-wrapper::-webkit-scrollbar-track {\r\n  background: var(--light-grey-background);\r\n  border-radius: 4px;\r\n}\r\n\r\n.content-wrapper::-webkit-scrollbar-thumb {\r\n  background-color: var(--primary-green);\r\n  border-radius: 4px;\r\n  border: 2px solid var(--light-grey-background);\r\n}\r\n\r\n.content-card {\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 6px 15px var(--shadow-color);\r\n  border: 1px solid var(--border-color);\r\n  padding: 50px;\r\n  max-width: 850px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  /* No fixed height here, let content dictate height, \r\n       and content-wrapper's overflow will handle it */\r\n}\r\n\r\nh1 {\r\n  font-size: 2.5rem;\r\n  color: var(--primary-green);\r\n  margin-bottom: 25px;\r\n  text-align: center;\r\n  border-bottom: 2px solid var(--primary-green);\r\n  padding-bottom: 20px;\r\n  position: relative;\r\n}\r\n\r\nh1::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  bottom: -2px;\r\n  width: 60px;\r\n  height: 4px;\r\n  background-color: var(--primary-green);\r\n  border-radius: 2px;\r\n}\r\n\r\nh2 {\r\n  font-size: 2rem;\r\n  color: var(--dark-text);\r\n  margin-top: 45px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\r\n}\r\n\r\nh3 {\r\n  font-size: 1.5rem;\r\n  color: var(--dark-text);\r\n  margin-top: 30px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\np {\r\n  font-size: 1.05rem;\r\n  margin-bottom: 18px;\r\n}\r\n\r\nul {\r\n  list-style-type: disc;\r\n  margin-left: 30px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nli {\r\n  margin-bottom: 10px;\r\n  line-height: 1.7;\r\n}\r\n\r\na {\r\n  color: var(--primary-green);\r\n  text-decoration: none;\r\n  transition: color 0.2s ease-in-out, text-decoration 0.2s ease-in-out;\r\n}\r\n\r\na:hover {\r\n  color: #2f855a;\r\n  text-decoration: underline;\r\n}\r\n\r\n.last-updated {\r\n  font-size: 0.95rem;\r\n  color: var(--light-text-color);\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.section-divider {\r\n  border: none;\r\n  border-top: 2px dashed var(--border-color);\r\n  margin: 60px 0;\r\n  opacity: 0.7;\r\n}\r\n\r\n.back-link {\r\n  margin-top: 50px;\r\n  text-align: center;\r\n}\r\n\r\n.button {\r\n  display: inline-block;\r\n  padding: 14px 30px;\r\n  background-color: var(--primary-green);\r\n  color: white;\r\n  text-decoration: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  transition: background-color 0.2s ease-in-out, transform 0.1s ease-out;\r\n}\r\n\r\n.button:hover {\r\n  background-color: #2f855a;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.button:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n/* Responsive adjustments for smaller screens */\r\n@media (max-width: 768px) {\r\n  .header {\r\n    padding: 15px 20px;\r\n  }\r\n\r\n  .logo-text {\r\n    font-size: 1.3rem;\r\n  }\r\n\r\n  .content-wrapper {\r\n    padding: 30px 15px;\r\n  }\r\n\r\n  .content-card {\r\n    padding: 30px;\r\n    border-radius: 8px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 2rem;\r\n    margin-bottom: 20px;\r\n    padding-bottom: 15px;\r\n  }\r\n\r\n  h1::after {\r\n    width: 40px;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 1.6rem;\r\n    margin-top: 35px;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 1.3rem;\r\n    margin-top: 25px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  p,\r\n  ul,\r\n  li {\r\n    font-size: 1rem;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .last-updated {\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  .section-divider {\r\n    margin: 40px 0;\r\n  }\r\n\r\n  .button {\r\n    padding: 12px 25px;\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .header {\r\n    padding: 10px 15px;\r\n  }\r\n\r\n  .logo-text {\r\n    font-size: 1.2rem;\r\n  }\r\n\r\n  .content-wrapper {\r\n    padding: 20px 10px;\r\n  }\r\n\r\n  .content-card {\r\n    padding: 20px;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 1.6rem;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 1.3rem;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  p,\r\n  ul,\r\n  li {\r\n    font-size: 0.95rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TermsAndPrivacy.vue?vue&type=template&id=1c4cb574&scoped=true\"\nimport script from \"./TermsAndPrivacy.vue?vue&type=script&lang=js\"\nexport * from \"./TermsAndPrivacy.vue?vue&type=script&lang=js\"\n\nimport \"./TermsAndPrivacy.vue?vue&type=style&index=0&id=1c4cb574&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c4cb574\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\r\nimport BroadCast1 from \"./components/broadcast/broadcast1.vue\";\r\nimport BroadCast2 from \"./components/broadcast/broadcast2.vue\";\r\nimport BroadCast3 from \"./components/broadcast/broadcast3.vue\";\r\nimport ContActs1 from \"./components/contacts/contacts1.vue\";\r\nimport ContActs2 from \"./components/contacts/contacts2.vue\";\r\nimport AppIntegration from \"./components/integration/integration.vue\";\r\nimport LoginPage from \"./components/login/login.vue\";\r\nimport AIagent from \"./components/AIagent/AIagent.vue\";\r\nimport BasicSignupPage from \"./components/signup/basic_signup.vue\";\r\nimport DashboardView from \"./views/dashboardview.vue\";\r\nimport Profile from \"./views/profile.vue\";\r\nimport Settings from \"./views/profileSettings.vue\";\r\nimport ChatbotView from \"./components/chatbot/chatbotview.vue\"; // Ensure this path is correct\r\nimport CostAnalytics from \"./components/PurchaseHistory/CostDashboard.vue\";\r\nimport Analytics from \"./components/analytics/Analytics.vue\";\r\n\r\nimport TermsAndPrivacy from \"./views/TermsAndPrivacy.vue\";\r\nimport { useToast } from \"vue-toastification\";\r\n\r\nconst toast = useToast();\r\n\r\nconst routes = [\r\n  // Public routes\r\n  { path: \"/\", component: LoginPage },\r\n  { path: \"/signup\", component: BasicSignupPage },\r\n\r\n  // { path: '/', component: PublicView },\r\n\r\n  {\r\n    path: \"/terms-and-privacy\",\r\n    component: TermsAndPrivacy,\r\n    name: \"TermsAndPrivacy\",\r\n  },\r\n\r\n  // Protected routes within the dashboard\r\n  {\r\n    path: \"/dashboard\",\r\n    component: DashboardView,\r\n    meta: { requiresAuth: true },\r\n    children: [\r\n      { path: \"/agent\", component: AIagent, name: \"AIagent\" },\r\n      {\r\n        path: \"/analytics/cost\",\r\n        component: CostAnalytics,\r\n        name: \"Costanalytics\",\r\n      },\r\n      {\r\n        path: \"/analytics/conversations\",\r\n        component: Analytics,\r\n        name: \"DataAnalytics\",\r\n      },\r\n      {\r\n        path: \"/broadcast/broadcast1\",\r\n        component: BroadCast1,\r\n        name: \"Broadcast1\",\r\n      },\r\n      {\r\n        path: \"/broadcast/broadcast2\",\r\n        component: BroadCast2,\r\n        name: \"Broadcast2\",\r\n      },\r\n      {\r\n        path: \"/broadcast/broadcast3\",\r\n        component: BroadCast3,\r\n        name: \"Broadcast3\",\r\n      },\r\n      { path: \"/contacts/contacts1\", component: ContActs1, name: \"Contacts1\" },\r\n      { path: \"/contacts/contacts2\", component: ContActs2, name: \"Contacts2\" },\r\n      {\r\n        path: \"/integration/integration1\",\r\n        component: AppIntegration,\r\n        name: \"Integration1\",\r\n      },\r\n      { path: \"/profile\", component: Profile },\r\n      { path: \"/settings\", component: Settings },\r\n      { path: \"\", redirect: \"/broadcast/broadcast2\" },\r\n      {\r\n        path: \"/chatbot/chatbotview\",\r\n        component: ChatbotView,\r\n        name: \"ChatbotView\",\r\n      }, // Updated path\r\n      // Add more routes within the dashboard as needed\r\n    ],\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\n// Navigation guard to check for authentication\r\n// Navigation guard to check for authentication and token expiration\r\nrouter.beforeEach((to, from, next) => {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\r\n    if (!token) {\r\n      // No token = not logged in\r\n      \r\n      toast.error(\"Session expired. Please log in again.\");\r\n      return next(\"/\");\r\n    }\r\n\r\n    try {\r\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n      const now = Math.floor(Date.now() / 1000);\r\n\r\n      if (payload.exp < now) {\r\n        // Token expired\r\n        localStorage.removeItem(\"token\");\r\n        toast.error(\"Session expired. Please log in again.\");\r\n        return next(\"/\");\r\n      }\r\n    } catch (error) {\r\n      // Invalid token format or parsing error\r\n      localStorage.removeItem(\"token\");\r\n      (\"Invalid session. Please log in again.\");\r\n      return next(\"/\");\r\n    }\r\n  }\r\n\r\n  // If route doesn't require auth or token is valid\r\n  next();\r\n});\r\n\r\n\r\nexport default router;\r\n","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport './assets/tailwind.css';\r\nimport Toast, { POSITION } from 'vue-toastification';\r\nimport 'vue-toastification/dist/index.css'; \r\nimport ElementPlus from \"element-plus\";\r\nimport \"element-plus/dist/index.css\";\r\n\r\n\r\nconst app = createApp(App);\r\napp.use(ElementPlus);\r\napp.use(Toast, {\r\n    position: POSITION.TOP_LEFT,\r\n    timeout: 5000,\r\n    zIndex: 2147483647\r\n  });\r\n\r\n// Enable devtools in production\r\napp.config.devtools = true;\r\n\r\nconsole.log('API URL:', process.env.VUE_APP_API_URL);\r\n\r\n\r\napp.use(router).mount('#app');","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkWotnot\"] = self[\"webpackChunkWotnot\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9808); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","name","__exports__","render","class","_createElementVNode","_hoisted_2","onClick","_cache","$event","$data","showPopup","fill","stroke","viewBox","xmlns","d","_hoisted_3","cursor","_hoisted_4","_hoisted_5","_normalizeClass","tableLoading","_hoisted_6","_Fragment","_renderList","templates","template","key","_hoisted_7","_toDisplayString","_hoisted_8","language","_hoisted_9","status","_hoisted_10","category","_hoisted_11","sub_category","_hoisted_12","_hoisted_13","$options","showpreview","preview","_hoisted_14","_hoisted_15","showConfirmationPopup","_component_lord_icon","src","trigger","colors","style","showConfirmPopup","_createBlock","_component_confirmationPopup","onYes","deleteTemplate","deleteTemplateName","onNo","onClose","showPreview","_component_PopUp_preview","closePreview","_hoisted_17","_hoisted_18","innerHTML","preview_data","_component_PopUp","closePopup","_hoisted_20","_hoisted_21","isSubmitted","_hoisted_22","_hoisted_23","placeholder","onBlur","args","validateTemplateName","required","nameError","_hoisted_24","selectedCategory","value","_hoisted_25","selectedLanguage","default","_hoisted_26","headerMediaComponent","format","_hoisted_27","headerComponent","text","_hoisted_28","_hoisted_29","type","onChange","handleFileChange","uploadFile","disabled","selectedFile","isUploading","uploadResponse","_hoisted_30","bodyComponent","rows","warningData","_hoisted_31","_hoisted_32","_hoisted_33","addVariable","variables","length","_hoisted_34","variable","index","footerComponent","_hoisted_36","_withModifiers","addbutton","_hoisted_37","addButton","selectedSubCategory","button","url","submitTemplate","loading","_hoisted_39","_hoisted_40","_hoisted_41","_ctx","$emit","hover","_renderSlot","$slots","undefined","components","PopUp_preview","confirmationPopup","PopUp","props","contactReport","Object","data","apiUrl","process","uploadError","uploadHandleID","tooltipVisible","tooltipStyles","top","left","width","height","templateName","isTemplateNameValid","showSelectionPopup","selectedHeaderFormat","example","header_handle","variableCounter","mounted","this","fetchtemplateList","script","document","createElement","body","appendChild","methods","currentVariables","match","nextVariableNumber","push","console","log","openPopup","selectedType","token","localStorage","getItem","response","fetch","method","headers","ok","Error","templatelist","json","map","generateTemplatePreview","error","Array","isArray","warn","previewMessage","sort","a","b","order","HEADER","BODY","FOOTER","BUTTONS","forEach","component","bodyText","replacePlaceholders","body_text","buttons","param","toString","trim","regex","RegExp","replace","updateTemplateComponents","clonedBodyComponent","toast","useToast","payload","axios","post","Authorization","success","errorMessage","detail","error_user_msg","message","toLowerCase","test","template_name","errorData","clearForm","Loading","event","target","files","formData","FormData","append","upload_response","h","updateVariablesFromText","newText","placeholders","uniquePlaceholders","Set","p","parseInt","requiredLength","splice","validateTemplateText","countWords","split","filter","word","wordCount","variableCount","ratio","watch","selectType","closeSelectionPopup","deep","handler","newComponents","fetchContacts","onSubmit","handleBroadcast","for","broadcastName","selectedTemplateId","onTemplateSelect","selectedTemplateHasMedia","onFileChange","uploadedMedia","selectedTemplateHasParameters","bodyParameter","href","recipients","handleFileUpload","csvUploaded","_hoisted_16","tag_key","tag_value","fiterBytTags","_hoisted_19","selectAll","allSelected","contacts","contact","selectedContacts","phone","tags","tag","isScheduled","currentDateTime","scheduleDate","scheduleTime","popupLoading","_hoisted_38","previewData","_hoisted_42","fetchBroadcastList","filterStatus","_hoisted_43","_hoisted_44","_hoisted_45","filterBroadcastsByStatus","_hoisted_46","_hoisted_47","broadcasts","broadcast","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","showReportPopup","fetchBroadcastReport","_hoisted_54","_hoisted_55","_hoisted_56","loadPreviousPage","currentPage","_hoisted_57","_hoisted_58","loadNextPage","_component_PopUp1","broadcastReports","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","totals","sent","_hoisted_63","_hoisted_64","_hoisted_65","delivered","_hoisted_66","_hoisted_67","_hoisted_68","read","_hoisted_69","_hoisted_70","_hoisted_71","replied","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","failed","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","contact_name","_hoisted_82","phone_no","_hoisted_83","_hoisted_84","_hoisted_85","error_reason","onMouseenter","showTooltip","onMouseleave","hideTooltip","_hoisted_86","_normalizeStyle","PopUp1","mediafile","mediaId","selectedTemplate","totalRead","totalSent","totalDelivered","csvFile","imageUrl","bodyParameters","prevFirst","newFirst","clientX","x","clientY","y","find","downloadUrl","URL","searchParams","blob","contentType","get","ext","file","File","fakeEvent","includes","parameterMatches","contactList","statusFilter","page","itemsPerPage","broadcastList","created_at","updated_at","formatDateTime","date","day","String","getDate","padStart","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","updateRecipients","join","uploadMedia","media","whatsapp_media_id","sendBroadcast","entry","item","Template","formattedDate","Date","broadcastNameWithDate","mediaID","bodyparamter","requestBody","template_data","JSON","stringify","image_id","body_parameters","broadcast_id","result","report","scheduleBroadcast2","responseDiv","getElementById","scheduledDatetime","toISOString","scheduled_time","textContent","importCSV","duplicates","formattedContacts","tagValue","tagKey","contactsList","email","checked","now","setMinutes","ImportCSV","computed","reduce","acc","selectedContactsAll","newSelectedContacts","DeleteScheduledBroadcast","fetchScheduledBroadcastList","ScheduledbroadcastList","confirmDelete","confirm","deleteContact","selectedContact","showPopupimport","closePopupimport","accept","importcontacts","_component_PopUpSmall","isEditing","submitForm","countryCode","removeTag","addTag","_hoisted_35","formatDate","modifyContact","PopUpSmall","fetchContactList","showActionPopup","searchQuery","selectedTag","sortBy","searchTerm","filteredContacts","searchPhone","searchName","matchesPhone","matchesName","matchesTag","some","uniqueTags","allTags","flatMap","formattedTags","prev","fullPhoneNumber","tagArray","dateString","options","toLocaleDateString","closeActionPopup","lastTag","filterContacts","color","fontSize","_imports_0","alt","showWooStoreSetupPopup","store_name","wooAPIkey","wooAPIsecret","Base_url","testWooCommerceConnection","disconnectWooCommerce","submitIntegrationForm","SelectedAction","integration_description","selectedTemplateHasImage","parameters","parameter","parameterOptions","option","label","removeParameter","addParameter","_component_vue3_select","productID","products","product","webhookLink","days","toggleDaySelection","selected","initial","startDate","endDate","_component_multiselect","selectedStatuses","statuses","multiple","PopupLoading","integrations","integration","description","deleteIntegration","integration_id","templateParams","parameterFields","connectionStatus","OrderStatus","media_id","statusMessage","deleteLoading","Multiselect","Vue3Select","fetchTemplates","fetchapiKey","fetchIntegrationList","checkIntegration","selectedDays","isValid","commaSeparatedStatuses","created","fetchProducts","delete","alert","saveStatuses","store_info","consumer_key","consumer_secret","base_url","err","action","wooPWNform","submitSelection","togglepopup","webkook_link","template_id","product_id","convertISTtoUTC","timeString","timeZone","slice","contacts_start_date","contacts_end_date","repeat_days","time","rest_key","rest_secret","showError","errordata","IntegrationList","api_key","handleLogin","username","password","isLoading","cx","cy","r","redirectSignup","URLSearchParams","then","access_token","setItem","$router","catch","ref","isConfigMode","messages","msg","role","apiKey","saveApiKey","inputMessage","onKeydown","_withKeys","sendMessage","scrollToBottom","nextTick","chatContainer","$refs","chatList","scrollTop","scrollHeight","strengthWidth","backgroundColor","strengthColor","strengthLabel","_component_router_link","to","turnstileSiteKey","handleSubmit","redirectLogin","strengthScore","zxcvbn","score","async","defer","head","querySelector","cf_token","querySelectorAll","input","navItems","section","active","$setup","isActive","path","navigate","icon","user","toggleDropdown","profile","profile_picture_url","dropdownOpen","goToProfile","goToCostAnalytics","goToSettings","logout","walletModalOpen","toggleWalletModal","currentBalance","topUpBalance","isMenuOpen","currentSection","_component_ProfilePopup","visible","showProfilePopup","$props","close","saveProfile","localUser","readonly","isEmailReadonly","isNameReadonly","whatsapp_business_id","phone_id","Boolean","immediate","newVal","fetchUserDetails","toggleEmailReadonly","toggleNameReadonly","Whatsapp_Business_Id","Phone_id","Access_Token","ProfilePopup","about","address","websites","vertical","messaging_product","originalProfile","setup","router","useRouter","route","useRoute","getSectionFromRoute","newPath","fetchProfile","addEventListener","handleOutsideClick","checkAndSend","sessionInfoResponse","sdkResponse","$watch","newValues","newSessionInfoResponse","newSdkResponse","window","fbAsyncInit","FB","init","appId","autoLogAppEvents","xfbml","version","crossOrigin","origin","parse","phone_number_id","waba_id","current_step","error_message","beforeUnmount","removeEventListener","fetchWalletDetails","accountId","costData","toFixed","walletOpen","removeItem","dropdownMenu","profileDropdown","contains","startsWith","scr","resetProfile","updateProfile","launchWhatsAppSignup","fbLoginCallback","authResponse","code","login","config_id","response_type","override_default_response_type","extras","featureType","sessionInfoVersion","loadFacebookSDK","initializeFacebookSDK","onload","cookie","renderFacebookButton","site","profile_picture_handle","chatStatusFilter","filterChatsByStatus","activeChat","chat","message_id","ConversationSSE","sender_wa_id","ActiveWaid","ActiveWaidName","sender_name","truncateMessage","message_content","last_chat_time","substring","selectedRemainingTime","chatContent","selectedchat","shouldShowDate","timestamp","direction","onContextmenu","showContextMenu","context_message_id","getRepliedMessageContent","processMessageContent","contextMenuVisible","contextMenuPosition","replyToMessage","replyMessage","selectedMessage","replyMessageClose","newMessage","onKeyup","togglePicker","showPicker","_component_EmojiPicker","onSelect","onEmojiSelect","FileUpload","sendChatMessage","sendChatMessageReply","contactInfo","EmojiPicker","parsedTemplate","selectedChatTime","timer","chats","chatTitle","currentTime","progressSeconds","eventSourceA","eventSourceB","handleClickOutside","fetchActiveChatlist","content","templatePrefix","templateString","replyToId","repliedMessage","currentDate","previousDate","picker","emoji","i","SetChatTime","chatTime","chatDate","TimeZoneChatTime","EndDate","setHours","clearInterval","updateRemainingTime","utcDate","toZonedTime","timeDifference","Math","floor","remainingTime","setInterval","beforeDestroy","EventSource","onmessage","activeChats","activechat","business_account_id","onerror","wa_id","ActiveContactDetails","newConversations","isAtBottom","clientHeight","receivedMessages","lastReceivedMessage","$nextTick","reciever","_component_CostSummary","_component_CostBarChart","_component_PurchaseHistory","monthToDateCost","monthToDateChangeClass","monthToDateChange","lastMonthSamePeriodCost","lastMonthDateRange","forecastedCost","forecastChangeClass","forecastChange","lastMonthTotalCost","fetchAnalyticsData","conversation_analytics","processData","currentMonth","dayjs","lastMonth","subtract","today","totalDaysLastMonth","daysInMonth","entryMonth","start_time","entryDay","cost","parseFloat","forecast_change","Chart","register","BarController","BarElement","CategoryScale","LinearScale","Title","Tooltip","Legend","chartCanvas","chartInstance","fetchData","monthlyData","toLocaleString","MARKETING","UTILITY","conversation_category","sortedMonths","keys","latestMonths","marketingData","utilityData","renderChart","labels","destroy","ctx","getContext","datasets","stack","responsive","plugins","legend","display","title","scales","grid","stacked","drawBorder","drawTicks","context","tick","elements","bar","barThickness","onMounted","sortedAnalyticsData","end_time","conversation_type","selectedMonth","currentMonthStartDate","analyticsData","startOfMonth","endOfMonth","currentMonthEndDate","fetchConversationHistory","onMonthChange","goToDashboard","CostSummary","CostBarChart","PurchaseHistory","_component_el_date_picker","dateRange","updateDates","chart","chartLabels","chartData","lastWeek","setDate","res","rawData","analytics","data_points","sampledData","interval","ceil","_","start","finally","analyticsChart","val","borderColor","borderDash","tension","position","beginAtZero","routes","LoginPage","BasicSignupPage","TermsAndPrivacy","DashboardView","meta","requiresAuth","children","AIagent","CostAnalytics","Analytics","BroadCast1","BroadCast2","BroadCast3","ContActs1","ContActs2","AppIntegration","Profile","Settings","redirect","ChatbotView","createRouter","history","createWebHistory","beforeEach","from","next","matched","record","atob","exp","app","createApp","App","use","ElementPlus","Toast","POSITION","TOP_LEFT","timeout","zIndex","config","devtools","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}